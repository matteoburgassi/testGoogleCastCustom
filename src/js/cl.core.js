(function(){var g={}; var _ = {};
(function(window){var aa,ca,ea,fa,ha,ia,ra,ua,ya,za,Ea,Fa,Ga,Ia,Ka,Oa,Ta,Ua,Xa,Za,$a,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,wb,xb,Bb,Cb,Db,Eb,Fb,Gb,Hb,Jb,Kb,Ob,Rb,Tb,Xb,ac,bc,cc,dc,gc,ic,lc,mc,qc,sc,uc,vc,wc,xc,yc,Xc,bd,id,pd,qd,xd,yd,zd,Bd,Cd,Dd,Ed,Fd,Id,Jd,Kd,Ld,Md,Nd,Sd,Ud,Xd,ce,de,ee,ge,he,ie,ke,ne,oe,qe,ve,Ae,De,Ee,Ge,He,Oe,ff,nf,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,Cf,Df,Hf,If,Jf,Kf,Mf,Nf,Rf,Tf,hg,kg,rg,xg,zg,Ag,Qg,Ug,Vg,Wg,Xg,Yg,$g,ah,bh,dh,eh,ih,mh,oh,nh,ph,qh,rh,wh,zh,xh,yh,Ah,Ch,Dh,Hh,Kh,Ph,Th,Vh,Wh,ai,Zh,bi,
ei,ci,gi,ji,ni,pi,oi,Bi,Ci,Di,Fi,Hi,Ii,Ki,Li,Pi,Ri,Ti,Ni,Vi,jj,mj,qj,sj,tj,wj,rj,nj,xj,Ej,Kj,Oj,Pj,Qj,Tj,Uj,ek,fk,gk,mk,ok,pk,xk,yk,Bk,Dk,Ck,Ak,Ek,zk,Hk,Fk,Gk,Ik,Jk,Pk,Yk,$k,ll,nl,ol,pl,zl,ql,Cl,El,Gl,Hl,Fl,Jl,Kl,Dl,Ll,Ml,Nl,Ol,Pl,Tl,Ul,Vl,Wl,Ql,$l,am,cm,em,gm,mm,nm,om,pm,qm,rm,sm,tm,um,vm,wm,xm,Dm,Pm,Vm,Ym,Zm,an,bn,jn,nn,on,tn,Bn,Cn,En,Fn,Kn,Ln,Qn,Rn,Yn,eo,no,po,ro,Bo,Co,Go,lo,jo,No,Eo,Oo,Qo,Po,Vo,Uo,So,To,$n,qo,Ro,ao,Mo,io,Io,Jo,Yo,Lo,ko,co,cp,ep,fp,gp,hp,mp,qp,rp,tp,xp,Cp,pp,Dp,Ep,Hp,Kp,Lp,Np,
Op,Jp,Ip,Pp,Qp,Rp,Sp,Xp,bq,cq,dq,hq,gq,jq,iq,lq,mq,nq,oq,kq,qq,sq,tq,vq,wq,xq,yq,zq,Aq,Bq,Cq,Eq,Fq,Gq,Hq,Dq,Kq,X,Lq,Pq,Nq,Qq,Tq,Sq,Rq,Uq,Wq,ar,$q,Xq,cr,dr,er,hr,ir,gr,fr,jr,mr,or,nr,rr,pr,ur,vr,tr,xr,yr,zr,wr,lr,Ar,kr,Dr,Er,Hr,Ir,Jr,Kr,Nr,Lr,Or,Qr,Sr,Rr,Ur,Mr,Vr,Gr,Wr,Fr,bs,hs,gs,ls,js,ks,Zr,$r,ss,is,us,os,ps,qs,vs,Es,Cs,Ks,Xr,cs,Os,Ps,Qs,Rs,Wp,Ss,Us,Vs,Ws,Xs,Ys,Zs,$s,at,bt,ct,dt,et,ft,gt,ht,it,lt,jt,mt,ot,pt,kt,nt,qt,rt,st,tt,ut,vt,wt,xt,yt,zt,Bt,Dt,Et,Ft,Ct,Ht,It,Ot,Tt,Ut,Wt,Vt,bk,Yt,au,$t,bu,cu,
Zt,eu,fu,du,gu,iu,ku,ck,pu,Xj,Cu,Fu,gh,Hu;aa=" coming up at ";_.ba=" is registered.";ca=" is unsupported on this platform.";ea=" to a log level. Falling back to default!";fa="': 'output-restricted'";ha="() is ongoing!";ia=".start";_.ja="6.18.0";_.ka="AdaptationSet";_.la="Already destroyed. No-op";_.ma="Already released. No-op";_.oa="Autoplay is not allowed due to browser policy.";_.pa="BANDWIDTH";_.qa="BASIC";ra="CHECKSUM";_.sa="CLOSED-CAPTIONS";_.ta="CODECS";ua="Can not set volume to ";_.va="Cannot retrieve buffer information due to platform limitations";
_.wa="CastlabsPlayer";_.xa="Configuration is valid";ya="Content-Length";za="Content-Type";_.Aa="Could not find configured DRM environment.";_.Da="DRM environment '";Ea="DRM licenses loaded";Fa="DRMtoday";Ga="DRMtodayOnboard";_.Ha="DURATION";Ia="Destroying player";_.Ja="Disable track type ";Ka="EXT-X-BYTERANGE";_.La="EXT-X-DATERANGE";_.Ma="EXT-X-DISCONTINUITY";_.Na="EXT-X-DISCONTINUITY-SEQUENCE";Oa="EXT-X-ENDLIST";_.Pa="EXT-X-KEY";_.Ra="EXT-X-MAP";_.Sa="EXT-X-MEDIA-SEQUENCE";Ta="EXT-X-PART-INF";
Ua="EXT-X-PLAYLIST-TYPE";_.Va="EXT-X-PRELOAD-HINT";_.Wa="EXT-X-PROGRAM-DATE-TIME";Xa="EXT-X-SERVER-CONTROL";_.Ya="EXT-X-STREAM-INF";Za="EXT-X-TARGETDURATION";$a="Error while decoding string!";_.cb="Error while fetching license!";_.db="FairPlay Certificate URL is not defined";_.eb="FairPlay License URL is not defined";_.gb="GROUP-ID";hb="HW_SECURE_ALL";ib="HW_SECURE_CRYPTO";jb="HW_SECURE_DECODE";kb="HeaderDrm";lb="Hide video element .";mb="Interstitial ";nb="Interstitial cue ";ob="Interstitials ";
pb="Invalid track type: ";qb="InvalidStateError";rb="Item failed (ID: ";sb="Item loading (ID: ";tb="Item not found (ID: ";ub="Key status for Key ID '";_.vb="LANGUAGE";wb="License verification failed: ";xb="Load interrupted while a player release is pending";_.yb="Loading player with configuration";_.zb="MaxHeight";_.Ab="MaxWidth";Bb="Missing media element";Cb="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!";Db="No event provided!";Eb="No items in the playlist";
Fb="No sources provided!";Gb="No track data attached to the event, unable to add track!";Hb="Not a persistent session.";_.Ib="Not supported";Jb="NotAllowedError";Kb="NotSupportedError";_.Lb="PLAYLIST";_.Mb="POST";_.Nb="PlayReady License URL is not defined";Ob="Player not ready yet.";_.Pb="Player sources";_.Qb="Player state change: ";Rb="Playing interstitial asset ";_.Sb="Please make sure ";Tb="Preloading is not supported by this player.";_.Ub="QualityLevel";_.Vb="RESOLUTION";_.Wb="Representation";
Xb="STANDARD";_.Yb="SUBTITLES";_.Zb="SW_SECURE_CRYPTO";_.$b="SW_SECURE_DECODE";ac="Session is closed";bc="Setting native ";cc="Show video element .";dc="Skipping Session creation. License for init data was already requested in Session: '";_.ec="SmoothStreamingMedia";_.fc="TYPE";gc="The index is not in the allowed range.";_.hc="URI";ic="Unable to translate ";_.jc="Unhandled/ignored event";_.kc="Unregistering listeners";lc="Unsupported keySystem";mc="Using VTTCue polyfill from 3 argument TextTrackCue.";
_.nc="VIDEO";_.oc="VOD";qc="Wait for preloading to finish";sc="WebkitEmeManager.MediaKeySession.load";_.tc="Widevine License URL is not defined";uc="Will create EME Manager: ";vc="X-ASSET-LIST";wc="X-ASSET-URI";xc="X-PLAYOUT-LIMIT";yc="X-RESUME-OFFSET";_.zc="ad-break-started";_.Ac="ad-break-stopped";_.Bc="ad-buffering";_.Cc="ad-clicked";_.Dc="ad-completed";_.Ec="ad-first-quartile";_.Fc="ad-impression";_.Gc="ad-loaded";_.Hc="ad-midpoint";_.Ic="ad-paused";_.Jc="ad-progress";_.Kc="ad-resumed";_.Lc="ad-skipped";
_.Mc="ad-started";_.Nc="ad-stopped";_.Oc="ad-third-quartile";_.Pc="addtrack";_.Qc="ads-timeline-changed";_.Rc="airplay-casting-ended";_.Sc="airplay-casting-started";_.Tc="airplay-status-changed";_.Uc="application";_.Vc="application/cea-608";_.Wc="application/dash+xml";Xc="application/mp4";_.Yc='application/mp4; codecs\x3d"stpp"';_.Zc='application/mp4; codecs\x3d"wvtt"';_.$c="application/ttml+xml";_.ad="application/vnd.ms-sstr+xml";bd="application/x-www-form-urlencoded";_.cd="audio";_.dd="audio/aac";
_.ed="audio/ac3";_.gd="audio/eac3";_.hd="audio/mp4";id='audio/mp4;codecs\x3d"mp4a.40.2"';_.jd="audiobufferchanged";_.kd="autoplaynotallowed";_.ld="bitratechanged";_.md="boolean";_.nd="bufferingended";_.od="bufferingstarted";pd="canplay";qd="canplaythrough";_.rd="caption";_.sd="castingstarted";_.td="caststatuschanged";_.ud="cdn-switch-success";_.vd="cenc";_.wd="center";xd="certificate-request";yd="change";zd="chrome";_.Ad="clpp-fill";Bd="clpp-hidden";Cd="clpp-mc-playlist";Dd="clpp-mc-playlist-item";
Ed="clpp-mc-playlist-video-el";Fd="clpp-visible";_.Hd="clpp.cast.CastSender";Id="clpp.drm.HeaderDrm";Jd="clpp.drm.eme.AppleEmeManager";Kd="clpp.interstitial.Player";Ld="clpp.native.Player";Md="clpp.plist.McPlaylist";Nd="clpp.utils.Platform";_.Od="codecs";_.Pd="column-reverse";_.Qd="com.adobe.primetime";_.Rd="com.apple.fps";Sd="com.apple.hls.interstitial";_.Td="com.microsoft.playready";Ud="com.microsoft.playready.recommendation";_.Vd="com.widevine.alpha";_.Wd="config.drm.customData is not defined";
Xd="controls";_.Yd="cuechange";_.Zd="decoder";_.$d="destroy()";_.ae="disabled";_.be="div";ce="drm.license.req.";de="drm.mediaKeys.end";ee="drm.mediaKeys.start";ge="drm.onPlay.end";he="drm.onPlay.start";ie="drm.sess.update.";_.je="drmexpirationupdate";ke="drmrenewalstarted";_.le="drmsessionpersisted";_.me="drmsessionupdate";ne="drmtoday";oe="durationchange";_.pe="ec-3";qe="encrypted";_.re="end";_.se="ended";_.te="error";_.ue="forced";ve="fullscreenElement";_.we="function";_.xe="height";_.ye="hidden";
_.ze="html";Ae="https://content.players.castlabs.com/api-interstitials-v3/B-P1-B_360p.json";_.Be="image";_.Ce="internal-error";De="itemchange";Ee="keystatuseschange";_.Fe="left";Ge="license-renewal";He="license-request";_.Ie="line-left";_.Je="line-right";_.Ke="live-turned-static";_.Le="loadeddata";_.Ne="loadedmetadata";Oe="loadstart";_.Pe="main";_.Qe="mdat";_.Re="mdia";_.Se="message";_.Te="metadata";_.Ue="mimeType";_.Ve="minf";_.We="moov";_.Xe="mpd-type-changed";_.Ye="mpeg-dash-callback-event";
_.Ze="none";_.k="number";_.$e="object";_.af="onBitrateChanged()";_.bf="onPlayerError()";_.cf="onPlayerWillDestroy";_.df="onPlayerWillRelease";_.ef="onStateChanged()";ff="online-status-changed";_.gf="optional";_.hf="org.w3.clearkey";_.jf="output-restricted";_.kf="pause";_.lf="persistent";_.mf="persistent-license";nf="picture-in-picture";_.of="play";pf="player.afterLoad.end";qf="player.afterLoad.start";rf="player.appendLoad.end";sf="player.appendLoad.start";tf="player.beforeLoad.end";uf="player.beforeLoad.start";
vf="player.load.end";wf="player.load.start";xf="player.setupPlaylist.end";yf="player.setupPlaylist.start";_.zf="playing";_.Af="playlist-item-changed";_.Bf="playlist-modified";Cf="playlist.next.end";Df="playlist.next.start";Hf="preload-aborted";If="preload-failed";Jf="preloaded";Kf="preloading";_.Lf="prevent";Mf="primary-before-load";Nf="primary-content";_.Of="progress";_.Pf="px";_.Qf="ratechange";Rf="released";_.Sf="releasing";Tf="removetrack";_.Uf="required";_.Vf="resize";_.Wf="right";_.Xf="sc-playlist-ended";
_.Yf="sc-playlist-item-changed";_.Zf="sc-playlist-live-turned-static";_.$f="sc-playlist-timeline-changed";_.ag="seeked";_.bg="seeking";_.cg="showing";_.dg="simid-creative-started";_.eg="simid-creative-stopped";_.fg="sinf";_.gg="smooth";hg="stalled";_.ig="start";_.jg="statechanged";kg="status-pending";_.lg="stbl";_.mg="string";_.ng="stsd";_.og="style";_.pg="subtitle";_.qg="subtitles-htmlcue";rg="temporary";_.sg="text/vtt";_.tg="text/xml";_.ug="timeupdate";_.vg="trak";_.wg="ttml-xml";xg="unauthenticated";
_.yg="und";zg="unknown";Ag="update";_.Bg="urn:scte:scte35";_.Cg="urn:scte:scte35:2014";_.Dg="user-seeked";_.Gg="user-seeking";_.Hg="value";_.Jg="vertical-lr";_.Kg="vertical-rl";_.r="video";_.Lg="video/mp2t";_.Mg="video/mp4";_.Ng="videobufferchanged";_.Og="videotrackchanged";_.Pg="vimond-response";Qg="visibilitychange";_.Rg="vtt-xml";_.Sg="waiting";_.Tg="waitingforkey";Ug="webkit-org.w3.clearkey";Vg="webkitkeyadded";Wg="webkitkeyerror";Xg="webkitkeymessage";Yg="webkitneedkey";_.Zg="width";$g="x-dt-csl-tracking-token";
ah="x-dt-follow-up-token";bh="x-dt-resp-code";dh=function(a){return function(){return _.ch[a].apply(this,arguments)}};eh=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};_.w=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:eh(a)}};_.fh=function(a){if(!(a instanceof Array)){a=_.w(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a};
_.x=function(a,b){a.prototype=gh(b.prototype);a.prototype.constructor=a;if(hh)hh(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]};ih=function(){ih=function(){};jh.Symbol||(jh.Symbol=kh)};mh=function(a,b){this.a=a;lh(this,"description",{configurable:!0,writable:!0,value:b})};
oh=function(){ih();var a=jh.Symbol.iterator;a||(a=jh.Symbol.iterator=jh.Symbol("Symbol.iterator"));typeof Array.prototype[a]!=_.we&&lh(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return nh(eh(this))}});oh=function(){}};nh=function(a){oh();a={next:a};a[jh.Symbol.iterator]=function(){return this};return a};ph=function(){this.w=!1;this.l=null;this.f=void 0;this.a=1;this.j=this.o=0;this.B=this.h=null};qh=function(a){if(a.w)throw new TypeError("Generator is already running");a.w=!0};
rh=function(a,b){a.h={hh:b,Gh:!0};a.a=a.o||a.j};_.y=function(a,b,c){a.a=c;return{value:b}};_.B=function(a){a.a=0};_.D=function(a,b,c){a.o=b;void 0!=c&&(a.j=c)};_.sh=function(a){a.o=0;a.j=2};_.th=function(a,b){a.a=b;a.o=0};_.E=function(a){a.o=0;var b=a.h.hh;a.h=null;return b};_.uh=function(a){a.B=[a.h];a.o=0;a.j=0};_.vh=function(a,b){var c=a.B.splice(0)[0];(c=a.h=a.h||c)?c.Gh?a.a=a.o||a.j:void 0!=c.F&&a.j<c.F?(a.a=c.F,a.h=null):a.a=a.j:a.a=b};wh=function(a){this.a=new ph;this.f=a};
zh=function(a,b){qh(a.a);var c=a.a.l;if(c)return xh(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.a["return"]);a.a["return"](b);return yh(a)};xh=function(a,b,c,d){try{var e=b.call(a.a.l,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.a.w=!1,e;var f=e.value}catch(g){return a.a.l=null,rh(a.a,g),yh(a)}a.a.l=null;d.call(a.a,f);return yh(a)};
yh=function(a){for(;a.a.a;)try{var b=a.f(a.a);if(b)return a.a.w=!1,{value:b.value,done:!1}}catch(c){a.a.f=void 0,rh(a.a,c)}a.a.w=!1;if(a.a.h){b=a.a.h;a.a.h=null;if(b.Gh)throw b.hh;return{value:b["return"],done:!0}}return{value:void 0,done:!0}};
Ah=function(a){this.next=function(b){qh(a.a);a.a.l?b=xh(a,a.a.l.next,b,a.a.A):(a.a.A(b),b=yh(a));return b};this["throw"]=function(b){qh(a.a);a.a.l?b=xh(a,a.a.l["throw"],b,a.a.A):(rh(a.a,b),b=yh(a));return b};this["return"]=function(b){return zh(a,b)};oh();this[Symbol.iterator]=function(){return this}};_.Bh=function(a,b){var c=new Ah(new wh(b));hh&&hh(c,a.prototype);return c};
Ch=function(a,b){if(b){for(var c=jh,d=a.split("."),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];f=b(e);f!=e&&null!=f&&lh(c,d,{configurable:!0,writable:!0,value:f})}};Dh=function(a){function b(d){return a.next(d)}function c(d){return a["throw"](d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};_.I=function(a){return Dh(new Ah(new wh(a)))};
_.J=function(a,b){var c=a.split("."),d=Eh;c[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=b};Hh=function(a){return a&&0<=Fh[a]?Fh[a]:Gh};Kh=function(a){if(!a)return _.Ih("clpp.log",ic+a+ea),-1;var b=Jh[a.toUpperCase()];return void 0===b?(_.Ih("clpp.log",ic+a+ea),-1):b};_.K=function(a){(this.tag=a)&&void 0===Fh[a]&&(Fh[a]=-1)};_.Mh=function(a){Lh.info.apply(Lh,arguments)};
_.Nh=function(a){Lh.debug.apply(Lh,arguments)};_.Ih=function(a){Lh.warn.apply(Lh,arguments)};_.Oh=function(a){Lh.error.apply(Lh,arguments)};Ph=function(a,b){this.Vb=a;this.sourceIndex=b};_.Sh=function(a){if(a){var b=a.a();b in _.Qh?_.Rh.warn("Player-Factory '"+b+"' already registered"):(_.Qh[b]=a,_.Rh.info("Registered Player-Factory: '"+b+"'"))}};Th=function(a){return Object.values(_.Qh).find(a)||null};_.Uh=function(){this.a={}};Vh=function(a,b,c,d){this.f=a;this.Qc=b;this.a=c;this.Ym=!!d};
_.L=function(a,b){if(b)for(var c in b)this[c]=b[c];this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=a;this.isTrusted=!1;this.target=this.currentTarget=null;this.f=this.a=!1};Wh=function(a){this.a=new _.Uh;this.f=a};_.Xh=function(){this.a=new _.Uh};
_.Yh=function(a,b,c,d){function e(h){for(var l=_.w(c),m=l.next();!m.done;m=l.next())a.off(b,m.value,e);d(h)}for(var f=_.w(c),g=f.next();!g.done;g=f.next())a.on(b,g.value,e)};_.$h=function(a){var b=a.a,c=[],d;for(d in b.a)c.push.apply(c,b.a[d]);for(b=0;b<c.length;++b)Zh(c[b]);a.a.clear()};ai=function(a,b,c,d){this.target=a;this.type=b;this.a=c;this.f=d;this.target.addEventListener(b,c,d)};Zh=function(a){a.target.removeEventListener(a.type,a.a,a.f);a.target=null;a.a=null};
bi=function(a){this.m=a;this.o=a.getConfiguration().streaming.addMissingTimelineCues||!1;this.j=null;this.f=new _.Xh;this.a=this.l=null;this.h=[];this.g=new _.K("clpp.native.Metadata")};ei=function(a,b){a.j=b;a.l=a.j.textTracks;a.f.on(a.l,_.Pc,function(c){c=c.track;c.kind===_.Te&&ci(a,c)})};
ci=function(a,b){function c(l){for(var m=_.w(d),n=m.next();!n.done;n=m.next())if(n=n.value,l.startTime===n.startTime&&l.endTime===n.endTime)return n;m={schemeIdUri:"",value:"",startTime:0,endTime:0,id:"",type:_.fi,eventElement:null};a.o&&e&&"SCTE35-IN"===l.value.key&&0<l.startTime?(m.startTime=0,m.endTime=l.startTime):(m.startTime=l.startTime,m.endTime=l.endTime);e=!1;d.push(m);return d[d.length-1]}a.g.debug("onMetadata_()");b.mode=_.ye;var d=[],e=!0;if(b.cues){for(var f=_.w(b.cues),g=f.next();!g.done;g=
f.next())if(g=g.value,!gi(a,g)){var h=c(g);switch(g.value.key){case "SCTE35-IN":case "SCTE35-OUT":h.schemeIdUri=_.Cg;h.type=_.hi;break;case "X-CUSTOM-ID":h.id=g.value.data}}f=_.w(d);for(g=f.next();!g.done;g=f.next())a.m.trigger(new _.L(_.ii,{detail:g.value}));Array.prototype.push.apply(a.h,d);ji(a,d,b);a.f.off(b,_.Yd);a.f.on(b,_.Yd,function(l){l=l.target.activeCues;l=l.length?gi(a,l[0]):a.a;var m;if(m=l)m=a.m.getPosition(),m=l.startTime<=m&&m<l.endTime;if(m)a.a=l,a.m.trigger(new _.L(_.ki,{detail:l}));
else{if(l=a.a)l=a.a,m=a.m.getPosition(),l=l.endTime<=m;l&&(l=a.a,a.a=null,a.m.trigger(new _.L(_.li,{detail:l})))}})}};gi=function(a,b){for(var c=_.w(a.h),d=c.next();!d.done;d=c.next())if(d=d.value,b.startTime===d.startTime&&b.endTime===d.endTime)return d;return null};ji=function(a,b,c){if(a.o){for(;0<c.cues.length;)c.removeCue(c.cues[0]);b.forEach(function(d){c.addCue(new DataCue(d.startTime,d.endTime,{key:"SCTE35-OUT",data:null}))})}};_.mi=function(a){return Array.isArray(a)?a:[a]};
ni=function(a,b){return a===b?!0:a.length===b.length&&a.every(function(c,d){return c===b[d]})};pi=function(a,b,c){if(null==a&&null==b)return!0;if(null==a||null==b)return!1;a=c?a.map(c):a;b=c?b.map(c):b;return oi(a,b)&&oi(b,a)};oi=function(a,b){var c=new Set(a);return b.every(function(d){return c.has(d)})};
_.qi=function(a,b){b=void 0===b?{}:b;if(b.Zg){for(var c=[],d={},e=_.w(a),f=e.next();!f.done;d={fe:d.fe},f=e.next())d.fe=f.value,c.some(function(g){return function(h){return b.Zg(g.fe,h)}}(d))||c.push(d.fe);return c}return Array.from((new Set(a)).values())};
_.xi=function(a,b,c,d){d=void 0===d?_.ri:d;this.startTime=a;this.endTime=b;this.payload=c;this.payloadType=d;this.positionAlign=this.position=null;this.size=100;this.textAlign=_.si;this.writingMode=_.ti;this.lineInterpretation=_.ui;this.line=null;this.lineAlign=_.vi;this.direction=wi;this.region=null;this.cssClassList=[];this.id=this.backgroundImage="";this.containerRows=null};
_.Ai=function(){this.id="";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.viewportAnchorUnits=this.widthUnits=this.heightUnits=_.yi;this.scroll=zi;this.cssClassList=[];this.writingMode=this.displayAlign=null};Bi=function(a){this.m=a;this.l=a.getTextDisplayer();this.f=this.h=null;this.a=new _.Xh;this.j=!1;this.g=new _.K("clpp.native.CueHandler")};
Ci=function(a,b){var c=b.track;c.kind!==_.Te&&(c.mode===_.cg&&(c.mode=_.ye),a.a.on(c,_.Yd,function(d){d=d.target||d.srcElement;d.mode=_.ye;d.activeCues&&(d=Array.from(d.activeCues).map(a.o),a.l.append(d,[]))}))};_.N=function(a,b,c,d,e){var f=Error.call(this,Di(a,b,c,d));this.message=f.message;"stack"in f&&(this.stack=f.stack);this.severity=a;this.category=b;this.code=c;this.data=!d||_.M.ca(d)?{}:d;this.cause=void 0===e?null:e;this.f=!1;Error.captureStackTrace&&Error.captureStackTrace(this,_.N)};
Di=function(a,b,c,d){a=(a===_.O?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+b+" - Code "+c+"]";if(_.M.ca(d))a+=": "+d;else if(null!=d)if(null!=d.message)a+=": "+d.message,delete d.message;else try{a+=": "+JSON.stringify(d)}catch(e){}return a};_.Ei=function(a,b){var c=Error.call(this,a);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.code=b};
Fi=function(a,b){var c=b||ni,d=null,e=null,f=!1;return function(g){for(var h=[],l=0;l<arguments.length;++l)h[l]=arguments[l];if(f&&c(h,d))return e;f=!0;d=h;return e=a.apply(null,_.fh(h))}};_.Gi=function(a){return null!=a};Hi=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(null!==d&&void 0!==d)return d}throw new _.Ei("No non-null, non-undefined value found");};
Ii=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(null!==d&&void 0!==d)return d}};_.Ji=function(a){var b;a instanceof _.Ji?(Ki(this,a.ib),this.Cc=a.Cc,this.Pa=a.Pa,Li(this,a.gd),this.Ea=a.Ea,_.Mi(this,Ni(a.a)),this.pc=a.pc):a&&(b=String(a).match(Oi))?(Ki(this,b[1]||"",!0),this.Cc=Pi(b[2]||""),this.Pa=Pi(b[3]||"",!0),Li(this,b[4]),this.Ea=Pi(b[5]||"",!0),_.Mi(this,b[6]||"",!0),this.pc=Pi(b[7]||"")):this.a=new _.Qi(null)};
Ki=function(a,b,c){a.ib=c?Pi(b,!0):b;a.ib&&(a.ib=a.ib.replace(/:$/,""))};Li=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.gd=b}else a.gd=null};_.Mi=function(a,b,c){b instanceof _.Qi?a.a=b:(c||(b=Ri(b,Si)),a.a=new _.Qi(b))};Pi=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""};Ri=function(a,b,c){return typeof a===_.mg?(a=encodeURI(a).replace(b,Ti),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null};
Ti=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)};_.Qi=function(a){this.f=a||null};Ni=function(a){var b=new _.Qi;b.f=a.f;if(a.a){var c={},d;for(d in a.a)c[d]=a.a[d].concat();b.a=c;b.h=a.h}return b};Vi=function(a,b){for(var c=_.w(Ui[a]),d=c.next();!d.done;d=c.next()){d=d.value;for(var e=_.w(b),f=e.next();!f.done;f=e.next())if(f=f.value,d.test(f.trim()))return f.trim()}return a===_.P?"":null};
_.Xi=function(a,b){for(var c=Wi[a],d=0;d<c.length;d++)for(var e=0;e<b.length;e++)if(c[d].test(b[e].trim()))return b[e].trim();return a===_.P?"":null};_.$i=function(a,b,c){return a.map(function(d){d=_.Yi(d)||"";return(d=_.Zi[b][d])?d:b===_.P?c&&"vtt"!==c?Xc:_.sg:null}).filter(Boolean)[0]||null};_.Yi=function(a){a=(new _.Ji(a)).Ea.split(".");return 1>=a.length?null:a.pop()};_.aj=function(a,b,c,d){this.id=a;this.name=b;this.attributes=c;this.value=void 0===d?null:d};
_.bj=function(a,b,c,d){d=void 0===d?{}:d;a=a.getAttribute(b);if(!a&&d.required)throw new _.N(_.O,4,4023,"Required attribute missing: "+b);return a?a.value:c||null};_.cj=function(a,b){return _.bj(a,b,void 0,{required:!0})};_.dj=function(a,b){this.name=a;this.value=b};
_.ej=function(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v){l=void 0===l?!1:l;m=void 0===m?null:m;n=void 0===n?null:n;p=void 0===p?null:p;q=void 0===q?null:q;u=void 0===u?[]:u;v=void 0===v?null:v;this.position=a;this.startTime=b;this.endTime=c;this.Aa=g;this.Sa=d;this.xa=e;this.ka=f;this.keyInfo=(void 0===h?null:h)||null;this.Vc=_.M.S(l)?!1:!!l;this.timescale=m;this.horizontalTiles=n;this.verticalTiles=p;this.durationPerTile=q;this.a=u||[];this.h=!1;this.initSegment=v};
_.fj=function(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v){u=void 0===u?[]:u;_.ej.call(this,a,b,c,d,e,f,g,void 0===h?null:h,void 0===l?!1:l,void 0===m?null:m,void 0===n?null:n,void 0===p?null:p,void 0===q?null:q,u,void 0===v?null:v);this.ga=0};_.hj=function(a,b){a=_.gj(a);b=_.gj(b);return a.split("-")[0]===b.split("-")[0]};_.gj=function(a){var b=(a||"").split("-");a=b[0]||"";b=b[1]||"";a=a.toLowerCase();a=ij.get(a)||a;return(b=b.toUpperCase())?a+"-"+b:a};jj=function(a){if(null!==a&&void 0!==a)return Number(a)};
_.kj=function(a){if(typeof a!==_.mg)return null;var b=a.trim().match(/^(\d+)x(\d+)$/);if(!b)return null;a=parseInt(b[1],10);b=parseInt(b[2],10);return 0>=a||0>=b?null:{Jd:a,be:b,rn:a*b}};_.lj=function(a,b){for(var c=_.w(a),d=c.next();!d.done;d=c.next())if(!b(d.value))return!1;return!0};mj=function(){};
qj=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.byteLength!==b.byteLength)return!1;if(nj(a)===nj(b)&&(a.byteOffset||0)===(b.byteOffset||0))return!0;for(var c=_.oj(a),d=_.oj(b),e=_.w(pj(a.byteLength)),f=e.next();!f.done;f=e.next())if(f=f.value,c[f]!==d[f])return!1;return!0};_.oj=function(a,b,c){c=void 0===c?Infinity:c;return rj(a,void 0===b?0:b,c,Uint8Array)};sj=function(a,b,c){c=void 0===c?Infinity:c;return rj(a,void 0===b?0:b,c,Uint16Array)};
tj=function(a,b,c){c=void 0===c?Infinity:c;return rj(a,void 0===b?0:b,c,Uint32Array)};_.uj=function(a,b,c){c=void 0===c?Infinity:c;return rj(a,void 0===b?0:b,c,Int32Array)};_.vj=function(a,b,c){c=void 0===c?Infinity:c;return rj(a,void 0===b?0:b,c,DataView)};wj=function(a){return a instanceof ArrayBuffer?a:0===a.byteOffset&&a.byteLength===a.buffer.byteLength?a.buffer:(new Uint8Array(a)).buffer};
rj=function(a,b,c,d){var e=d.BYTES_PER_ELEMENT||1,f=nj(a),g=(a.byteOffset||0)+a.byteLength;a=Math.max(0,Math.min((a.byteOffset||0)+b*e,g));c=Math.min(a+Math.max(c*e,0),g);a/=e;return new d(f,a,c/e-a)};nj=function(a){return a instanceof ArrayBuffer?a:a.buffer};xj=function(){};_.zj=function(a,b){b=void 0===b?!0:b;var c=_.yj(a).replace(/\+/g,"-").replace(/\//g,"_");return b?c:c.replace(/[=]*$/,"")};
_.Aj=function(a){a=window.atob(a.replace(/-/g,"+").replace(/_/g,"/"));for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.Bj=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<a.length;c+=2)b[c/2]=window.parseInt(a.substr(c,2),16);return b};_.Cj=function(a){for(var b="",c=0;c<a.length;++c){var d=a[c].toString(16);1===d.length&&(d="0"+d);b+=d}return b};
_.Dj=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0};Ej=function(a){for(var b=0,c=0;c<arguments.length;++c)b+=arguments[c].length;b=new Uint8Array(+b);for(var d=c=0;d<arguments.length;++d)b.set(arguments[d],c),c+=arguments[d].length;return b};_.yj=function(a){a=_.S.fromCharCode(_.oj(a));return btoa(a)};_.Fj=function(a){this.f=a;this.a=0};
_.Gj=function(a,b){b.lastIndex=a.a;var c=b.exec(a.f);c=null==c?null:{position:c.index,length:c[0].length,results:c};if(a.a===a.f.length||null===c||c.position!==a.a)return null;a.a+=c.length;return c.results};
_.Hj=function(a,b){var c=b.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!c)throw new _.N(_.O,4,4016,{invalidTag:b});var d=c[1],e=c[2];c=[];var f;if(e){e=new _.Fj(e);var g;(g=_.Gj(e,/^([^,=]+)(?:,|$)/g))&&(f=g[1]);for(var h=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;g=_.Gj(e,h);)c.push(new _.dj(g[1],g[2]||g[3]||""))}return new _.aj(a,d,c,f)};_.Jj=function(){return{maxAttempts:1,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0,fatalStatusCodes:_.fh(Ij).concat()}};
Kj=function(a,b){a.timeout=b.timeout;a.baseDelay=b.baseDelay;a.backoffFactor=b.backoffFactor;a.fuzzFactor=b.fuzzFactor;a.maxAttempts=b.maxAttempts;a.fatalStatusCodes=b.fatalStatusCodes||_.fh(Ij).concat()};
_.Mj=function(a,b){_.M.ca(a)&&(a={uris:[a]});Array.isArray(a)&&(a={uris:a});var c={uris:a.uris||[],type:a.type||_.Lj,uriIndex:0,method:a.method||"GET",body:a.body||null,headers:Object.assign({},a.headers),allowCrossSiteCredentials:a.allowCrossSiteCredentials||!1,onProgress:a.onProgress||null,onFragment:a.onFragment||null,maxAttempts:a.maxAttempts||1,currentAttempt:0,baseDelay:a.baseDelay||1E3,backoffFactor:a.backoffFactor||2,fuzzFactor:a.fuzzFactor||.5,timeout:a.timeout||0,requestModifiers:a.requestModifiers||
[],responseModifiers:a.responseModifiers||[],startTime:a.startTime||null,endTime:a.endTime||null,contentType:a.contentType||null,licenseRequestType:a.licenseRequestType||null,sessionId:null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1,timescale:a.timescale||null,rateLimitBps:a.rateLimitBps||null,disableFragmentSupport:a.disableFragmentSupport||!1,disableMergedFragments:a.disableMergedFragments||!1,fatalStatusCodes:_.fh(Ij).concat(),requestStartTimestamp:null};a.keyInfo&&(c.keyInfo=a.keyInfo);b&&
Kj(c,b);return c};_.Nj=function(a,b,c,d,e,f,g,h){e&&(d=e);e={uri:d,data:b||new ArrayBuffer(0),headers:a,status:c,fromCache:!!a["x-shaka-from-cache"],timeMs:g,responseStartMs:h,request:f};if(200<=c&&299>=c&&202!==c)return e;g=null;try{g=_.S.Dd(b,!0)}catch(l){}_.Nh("HTTP error text:",g);throw new _.N(0<=(f.fatalStatusCodes||[]).indexOf(c)?_.O:1,1,1001,{url:d,status:c,responseText:g,headers:a,request:f,response:e});};
Oj=function(a,b){var c=parseInt(b,10);Number.isNaN(c)&&(c=-1);a.bytesTotal=c;a.bytesLoaded=0;a.bytesRemaining=c};Pj=function(a,b,c){0<a.bytesRemaining&&(a.bytesRemaining-=b);a.bytesLoaded+=b;if(a.onProgress)a.onProgress(b,c)};Qj=function(a,b,c){if(0>=a)return Promise.resolve();var d=8*c/a-b/1E3;return 0<d?new Promise(function(e){setTimeout(e,1E3*d)}):Promise.resolve()};
_.Rj=function(){this.mi=this.Ob=this.done=!1;this.error=this.value=null;var a,b,c=new Promise(function(d,e){a=function(f){this.done=this.Ob=!0;this.value=f;d(f)};b=function(f){this.done=this.mi=!0;this.error=f;e(f)}});c.Ob=!1;c.done=!1;c.mi=!1;c.value=null;c.error=null;c.resolve=a;c.reject=b;return c};_.Sj=function(a,b){this.P=a;this.A=b;this.a=!1};Tj=function(a,b){a.P.then(function(){return b(!0)},function(){return b(!1)});return a};
Uj=function(a,b,c){try{var d=a(b);if(d&&d.P&&d.abort)return c.resolve(d.P),function(){return d.abort()};c.resolve(d);return function(){return Promise.resolve(d).then(function(){})["catch"](function(){})}}catch(e){return c.reject(e),function(){return Promise.resolve()}}};_.Vj=function(){this.a=[]};_.Wj=function(a,b){a.a.push(Tj(b,function(){var c=a.a,d=c.indexOf(b);-1<d&&c.splice(d,1)}))};
_.dk=function(){this.f=[];this.h=[];this.j=[];this.w=!1;this.o=new _.Vj;this.a={};this.l=0;this.a.data=Xj;!window.fetch||!window.AbortController||_.Yj(6)||_.Zj()&&68<_.ak().browserVersion.major?(this.a.http=bk,this.a.https=bk):(this.a.http=ck,this.a.https=ck)};ek=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return c=_.S,_.y(e,a.fetch(b),2);d=e.f;return e["return"](c.Qh(c.ba(d.data)))})};
fk=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return _.y(e,ek(a,b),2);c=e.f;try{d=JSON.parse(c);if(null==d||typeof d!==_.$e)throw Error("Not an object");return e["return"](d)}catch(f){throw new _.Ei("Failed to parse JSON response","json-failed");}})};
gk=function(a,b,c,d){d=void 0===d?"HEAD":d;var e,f;return _.I(function(g){switch(g.a){case 1:if(!navigator.onLine)return g["return"](!1);if(!b){g.F(2);break}e=_.Mj(b,c);e.method=d;c||(e.timeout=5E3);e.headers["cache-control"]="no-cache";_.D(g,4);return _.y(g,a.fetch(e).P,6);case 6:_.th(g,2);break;case 4:if(f=_.E(g),1002===f.code||1003===f.code)return g["return"](!1);case 2:return g["return"](!0)}})};
_.hk=function(a,b){this.id=a;this.type=b;this.roles=[];this.frameRate=this.label=this.originalLanguage=this.language=this.kind=null;this.trickPlay=!1;this.channelsCount=this.src=this.mimeType=null;this.spatialAudio=!1;this.renditions=[];this.accessibility=[]};_.ik=function(a){return a&&a!==_.yg?a:null};
mk=function(a){if(!a)throw new _.N(_.O,3,3101,pb+a);if(!_.M.ca(a))throw new _.N(_.O,3,3101,pb+a+". Track type must be a string!");switch(a.toLowerCase()){case _.T:return _.T;case _.jk:return _.jk;case _.kk:return _.kk;case lk:return lk}throw new _.N(_.O,3,3101,"Unknown track type: "+a+".");};
ok=function(a,b){a=mk(a);var c=_.ik(b.kind),d=b.id;d||(d=String(_.nk++));d=new _.hk(d,c===_.Te?lk:a);d.kind=c;d.label=_.ik(b.label);d.language=_.ik(b.language);d.originalLanguage=b.originalLanguage||d.language;return d};pk=function(a){return"@@scheme:"+(a.scheme||"")+("@@value:"+a.value)+("@@id:"+(a.id||"")+"@@type:"+(a.type||""))+("@@protocol:"+(a.protocol||""))};
_.sk=function(a,b){this.track=b;this.id=a;this.originalId=this.drm=this.drmInfo=this.codec=this.pd=this.bandwidth=this.height=this.width=null};
_.tk=function(a){this.j=a;this.scheme=null;var b=document.createElement("a"),c=a.match(/^(.*:)(\/\/(.*))$/),d=!1;if(c){if(this.scheme=c[1],b.href=c[2],":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+c[3],d=!0}else{b.href=a;if(":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+a.match(/\/?\/?(.*)/)[1],d=!0;this.scheme=b.protocol}""===this.scheme&&(this.scheme=window.location.protocol);this.a=d?"":b.hostname;this.port=b.port;this.path=b.pathname;_.S.startsWith(this.path,
"/")||(this.path="/"+this.path);this.f=b.search;this.h=b.hash};_.uk=function(a){return a.scheme+"//"+(a.a+(a.port?":"+a.port:"")+a.path+a.h+a.f)};_.vk=function(a,b,c){return a?(c||Object.keys(a).sort()).reduce(function(d,e){if(!(e in a))return d;var f=a[e],g="\x26";""===d&&(g=b?"":"?");d=d+g+encodeURIComponent(e);return d=d+"\x3d"+encodeURIComponent(void 0===f?"":f)},""):""};
_.wk=function(a){var b={};a=a||"";a=a.substring(a.indexOf("?")+1);a=_.w(a.split("\x26"));for(var c=a.next();!c.done;c=a.next()){var d=c.value.split("\x3d");c=decodeURIComponent(d[0]);d=decodeURIComponent(d[1]||"");c&&(b[c]=d)}return b};xk=function(a,b){return a.startsWith("http:://")||a.startsWith("https:://")?a:(new URL(a,b)).toString()};
yk=function(a){this.f=a;this.g=new _.K("clpp.native.hls.HlsMetadataParser");this.a=Fi(this.h.bind(this),function(b,c){return b[0]===c[0]&&b[1].enableHlsVideoTrackInfo===c[1].enableHlsVideoTrackInfo&&b[1].enableMetadata===c[1].enableMetadata})};
Bk=function(a,b,c){var d,e,f,g,h;return _.I(function(l){if(1==l.a)return _.y(l,zk(a,b,c),2);d=l.f;e=d.mimeType;f=d.renditions;g=new _.hk("dummy",_.kk);h=f.map(function(m,n){var p=new _.sk("R"+n,g);p.bandwidth=m.bandwidth;p.pd=m.pd;p.codec=m.codec;p.width=m.width;p.height=m.height;return p});Ak(h);return l["return"]({renditions:h,mimeType:e||void 0})})};
Dk=function(a){a=a.split("\n").filter(function(c){return c.trim().startsWith("#EXT-X-MEDIA:")}).map(function(c){return Ck(c)});var b=new Map;a.forEach(function(c){if(c.type&&c.name){var d=c.type+":"+c.name;if(b.has(d))throw Error("#EXT-X-MEDIA:NAME attributes are not unique. It is impossible to map HLS metadata to Safari data structures.");b.set(d,c)}});return b};
Ck=function(a){function b(d){return(d=c.getAttribute(d))?d.value:void 0}var c=_.Hj(0,a);a=b(_.fc);a=null!=a?{AUDIO:_.jk,VIDEO:_.kk,SUBTITLES:_.T}[a]:void 0;return{type:a,groupId:b(_.gb),name:b("NAME"),language:b(_.vb),Un:b("AUTOSELECT"),"default":b("DEFAULT"),eo:b("FORCED"),Gg:b("CHARACTERISTICS"),uri:b(_.hc)}};Ak=function(a){var b=new Set;a.forEach(function(c){b.add(c.width+"x"+c.height)});if(b.size<a.length)throw Error("Playlist contains multiple renditions with the same resolution.");};
Ek=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return c=_.Mj(b),_.y(e,ek(a.f,c),2);d=e.f;return e["return"](d)})};zk=function(a,b,c){var d,e,f,g;return _.I(function(h){if(1==h.a)return d=Fk(b),e=Gk(b,c),f=d[0]?d[0].codec:null,_.y(h,Hk(a,e,f),2);g=h.f;return h["return"]({mimeType:g,renditions:d})})};Hk=function(a,b,c){var d,e;return _.I(function(f){if(1==f.a)return b&&c?_.y(f,Ek(a,b),2):f["return"](null);d=f.f;e=[Ik(d,b),Jk(d,b)].filter(Boolean);return f["return"](_.$i(e,_.r,c))})};
Fk=function(a){return a.split("\n").filter(function(b){return b.trim().startsWith("#EXT-X-STREAM-INF:")}).map(function(b){var c=_.Hj(0,b);if(c.getAttribute(_.nc))throw Error("Playlist contains alternative video streams.");var d=_.bj(c,_.Vb);b=d?Number(d.split("x")[0]):null;d=d?Number(d.split("x")[1]):null;var e=_.bj(c,_.pa);e=e?Number(e):null;var f=_.bj(c,"AVERAGE-BANDWIDTH");f=f?Number(f):null;c=_.bj(c,_.ta);c=_.Xi(_.r,c?c.split(","):[]);return{bandwidth:e,pd:f,codec:c,width:b,height:d,mimeType:null}})};
Gk=function(a,b){var c=a.split("\n").filter(function(d){return d.trim().endsWith(".m3u8")})[0];return c?xk(c,b):null};Ik=function(a,b){var c=a.split("\n").find(function(d){return!d.startsWith("#")&&0<d.trim().length});return c?xk(c,b):null};Jk=function(a,b){var c=a.split("\n").find(function(d){return d.startsWith("#EXT-X-MAP:")});return c?(c=_.bj(_.Hj(0,c),_.hc))?xk(c,b):null:null};
_.Lk=function(a,b,c){for(var d=_.w(_.Kk),e=d.next();!e.done;e=d.next())if(e=e.value,e.probe(b,c))return e.create(a);return null};_.Mk=function(a){a=_.Kk.indexOf(a);0<=a&&_.Kk.splice(a,1)};_.U=function(){};Pk=function(a,b){var c=Nk;Ok.set(a.toLowerCase().split(";")[0]+"-"+c,{priority:c,plugin:b})};_.Tk=function(a,b){for(var c=_.w([Qk,Rk,Sk,Nk]),d=c.next();!d.done;d=c.next())if(d=Ok.get(a.toLowerCase().split(";")[0]+"-"+d.value)){var e=d.plugin(),f=e.isSupported(a,b);e.destroy();if(f)return d.plugin}return null};
_.Uk=function(a,b){var c=a;b&&(c+=';codecs\x3d"'+b+'"');return c.replace(/\s/g,"")};_.Vk=function(a){return a.split(";")[0]};_.Wk=function(a){a=a.split(/\s*;\s*/);a.shift();return(a=a.find(function(b){return b.startsWith("codecs\x3d")}))?a.split("\x3d")[1].replace(/^"|"$/g,"").split(/\s*,\s*/).join(","):""};_.Xk=function(a){this.f=a;this.a=null};
Yk=function(a,b,c){function d(){e&&a.f()}a.stop();var e=!0,f=null;a.a=function(){c?clearInterval(f):clearTimeout(f);e=!1};f=c?setInterval(d,1E3*b):setTimeout(d,1E3*b);return a};_.Zk=function(a){this.f=a;this.a=null};$k=function(){};_.al=function(){return!!navigator.userAgent.match(/Edge?\//)};_.Yj=function(a){return _.bl("Tizen"+(a?" "+String(a):""))};_.Zj=function(){return _.bl("Web0S")};_.el=function(){return _.Zj()&&79===_.dl().major};_.fl=function(){return _.bl("CrKey")};
_.gl=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!_.Yj()};_.hl=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:_.gl()&&1<navigator.maxTouchPoints};_.il=function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)};_.bl=function(a){return(navigator.userAgent||"").includes(a)};
ll=function(){if(jl)return jl;kl||(kl=new _.Zk(function(){jl=null}));(jl=document.querySelector(_.r)||document.querySelector(_.cd))||(jl=document.createElement(_.r));kl.da(1);return jl};nl=function(a,b){try{return parseInt(b,10)}catch(c){ml.warn("Unable to parse version number for '"+b+"' from '"+a+"'")}return-1};
ol=function(a){var b={major:-1,name:zg};if(!a)return b;var c=a.replace(/_/g,".");b.name=c;c=c.split(".");1<=c.length&&(b.major=nl(a,c[0]));2<=c.length&&(b.minor=nl(a,c[1]));3<=c.length&&(b.patch=nl(a,c[2]));4<=c.length&&(b.build=nl(a,c[3]));return b};pl=function(a,b){if(!a||!b||0===b.length)return!1;for(var c=0;c<b.length;c++)if(0<=a.indexOf(b[c]))return!0;return!1};
zl=function(){var a=ql();if(!a)return rl;var b=a.match(/^.+?(?=\))/);if(!b)return rl;b=b[0];if(pl(b,["iphone","ipad"]))return sl;if(pl(b,["android"]))return tl;if(pl(b,["macintosh"]))return ul;if(pl(b,["windows nt"]))return vl;if(pl(b,["tizen"]))return wl;if(pl(b,["web0s"]))return xl;if(pl(b,["linux"]))return yl;ml.warn("Unable to identify OS from user agent: "+a);return rl};
_.dl=function(){var a=ql(),b=["ie","edge","opera","firefox","safari",zd];var c=zl();for(var d=Al[c],e=0,f=b.length;e<f;e++)if(c=d[b[e]]&&a.match(d[b[e]]))return ol(c[1]);return ol("")};ql=function(){var a=window.navigator.userAgent;return a=a.toLowerCase()};
_.ak=function(){var a=zl();var b=zl();var c=Al[b];if(c){c=ql().match(c.os_version)[1];c=ol(c);if(b===vl)if("5.1"===c.name)c.name="xp";else if("6.1"===c.name)c.name="7";else if("6.2"===c.name||"6.3"===c.name)c.name="8";b=c}else b=ol("");a:{c=ql();var d=["ie","edge","opera","firefox","safari",zd],e=zl();e=Al[e];for(var f=0,g=d.length;f<g;f++)if(e[d[f]]&&c.match(e[d[f]])){c=d[f];break a}c=Bl}return{os:a,osVersion:b,browser:c,browserVersion:_.dl()}};
Cl=function(){this.g=new _.K("clpp.native.TrackManager");this.m=null;this.f=new _.Xh;this.h=[];this.B=0;this.o={};this.D=[];this.a=new Map;this.w=null;this.l=new Map;this.A=!0;this.J=this.Vf.bind(this,_.T);this.L=this.Xf.bind(this,_.T);this.K=this.Wf.bind(this,_.T);this.N=this.Vf.bind(this,_.kk);this.V=this.Xf.bind(this,_.kk);this.R=this.Wf.bind(this,_.kk);this.G=this.Vf.bind(this,_.jk);this.I=this.Xf.bind(this,_.jk);this.H=this.Wf.bind(this,_.jk);this.j=null};
El=function(a,b){var c,d,e,f,g,h,l,m;return _.I(function(n){if(1==n.a){c=a.m.getConfiguration();d=_.Lk(c,b.mimeType,_.sg);if(!d)return a.g.warn("Track MIME type is not supported",b),n["return"]();e=_.Mj(b.url);return _.y(n,a.m.getNetworkEngine().fetch(e).P,2)}(f=n.f)&&f.data&&(g="External_"+a.B++,a.o[g]=b,h=d.a(_.oj(f.data)),l=URL.createObjectURL(new Blob([h])),m={url:l,kind:b.kind,language:b.language,label:b.label,mimeType:_.sg},Dl(a,m,g));_.B(n)})};Gl=function(a,b,c){return Fl(a)&&b===_.kk&&!!c.enableHlsVideoTrackInfo};
Hl=function(a,b,c){return Fl(a)&&(b===_.jk||b===_.T)&&!!c.enableMetadata};Fl=function(a){a=a.m.getLoadedSource();return!(!a||a.type!==_.Il&&!a.url.endsWith(".m3u8"))&&_.gl()};Jl=function(a,b,c){var d,e;return _.I(function(f){if(1==f.a)return(d=a.m.getLoadedSource())&&a.j?_.y(f,a.j.a(d.url,c),2):f["return"]();e=f.f;e.mimeType&&(b.mimeType=e.mimeType);e.renditions&&0<e.renditions.length&&(b.renditions=e.renditions,b.renditions.forEach(function(g){g.track=b}));_.B(f)})};
Kl=function(a,b,c){var d,e,f,g;return _.I(function(h){if(1==h.a)return(d=a.m.getLoadedSource())&&a.j?_.y(h,a.j.a(d.url,c),2):h["return"]();e=h.f;e.ed&&(f=b.type+":"+b.label,(g=e.ed.get(f))&&g.Gg&&(b.accessibility=g.Gg.split(",").map(function(l){return l.trim()}).map(function(l){return{value:l,type:b.type,protocol:"HLS"}})));_.B(h)})};
Dl=function(a,b,c){if(a.m){var d=a.m.getSurface().getMedia();if(d){var e=document.createElement("track");e.id=c;e.kind=b.kind;e.srclang=b.language;b.label&&(e.label=b.label);_.S.empty(b.url)?e.src=URL.createObjectURL(new Blob([])):e.src=b.url;d.appendChild(e);a.D.push(e)}}};Ll=function(a,b){if(!a.m)return null;var c=a.m.getSurface();if(!c)return null;c=c.getMedia();if(!c)return null;switch(b){case _.jk:return c.audioTracks;case _.kk:return c.videoTracks;case _.T:return c.textTracks;default:return null}};
Ml=function(a,b){var c=Ll(a,b);c&&(c=Array.from(c),b===_.T&&(c=c.filter(function(d){return d.kind!==_.Te})));return c};Nl=function(a,b){return a.h.filter(function(c){return c.type===b})};Ol=function(a,b){var c=a.a.get(b)||null;return c&&c.renditions[0]};Pl=function(a,b){var c=a.l.get(b);return c&&c.renditions[0]};
Tl=function(a,b,c){var d=Ml(a,b);if(c){if(void 0===a.h.find(function(l){return l.id===c.id}))throw Error("Unknown track with ID "+c.id+" and type "+b);if(c.type!==b)throw Error("Types mismatch for track "+c.type+" and arg "+b);a.g.debug("Activate track type "+b+" with ID: "+c.id);if(d){a.l.set(b,c);var e=!0,f=!1;switch(b){case _.T:var g="mode";e=_.cg;f=_.ae;break;case _.jk:g="enabled";break;case _.kk:g="selected"}if(g){d=_.w(d);for(var h=d.next();!h.done;h=d.next())h=h.value,h[g]=Ql(c,h,c.type)?e:
f}}}else if(a.g.debug(_.Ja+b),a.a.get(b)&&d&&b===_.T){g=_.w(d);for(h=g.next();!h.done;h=g.next())h.value.mode=_.ae;a.a.set(b,null)}b===_.jk?a.m.trigger(new _.L(_.Rl)):b===_.T&&a.m.trigger(new _.L(_.Sl))};Ul=function(a){return a.enabled||a.selected||a.mode===_.cg||a.mode===_.ye};
Vl=function(a,b,c){c=_.mi(c).filter(function(e){return e});a.g.info("Find preferred tracks for",b,c);var d=Nl(a,b);c.some(function(e){var f=_.gj(e);return(e=d.find(function(g){g=_.gj(g.language||"");return _.hj(f,g)}))?(a.g.info("Will select track with id",e.id),Tl(a,b,e),!0):!1})};Wl=function(a){(a=a.m.getTextDisplayer())&&a.remove(0,Infinity)};
Ql=function(a,b,c){return a.type!==c?!1:void 0!==b.id&&null!==b.id&&""!==b.id?a.id===b.id:_.M.la(a,{kind:_.ik(b.kind),language:_.ik(b.language),label:_.ik(b.label)},["kind","language","label"])};_.Xl=function(a,b){this.length=(this.f=a)?a.length:0;this.a=[];this.type=void 0===b?"total":b};_.Yl=function(){this.Bd=new Wh(this);this.xd=[]};$l=function(a){return a.name===Jb&&Zl.some(function(b){return a.message.startsWith(b)})};am=function(){};
_.dm=function(){var a=Infinity;navigator.connection&&navigator.connection.saveData&&_.hl()&&(a=360);var b=_.Jj();b.maxAttempts=3;a={source:"",license:bm,viewerId:void 0,autoplay:void 0,pauseWhenInBackground:!1,manifest:{attemptParameters:_.Jj(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0,timeline:{version:1,type:void 0}},abr:{enabled:!0,defaultBandwidthEstimate:1E3,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,
useSwitchIntervalForInitialSwitch:!1,restrictions:cm(a),useCmsd:!1},drm:null,enableHtmlCue:!0,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:_.Pe,preferredTextRole:"",preferredAudioChannelCount:2,preferredAudioCodec:[],preferredVideoCodec:[],preferSpatialAudio:!1,preferForcedSubtitles:!1,volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:void 0,forceWaitForTracks:!1,streaming:{attemptParameters:b,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,
ignoreTextStreamFailures:!1,alwaysStreamText:!1,relativeTextTimestamp:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,disableAudioTracks:!1,disableVideoTracks:!1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceNativeTS:!1,preferNativeHlsOnSafari:!0,safeSeekOffset:5,stallEnabled:!0,stallThreshold:3,stallSkip:.5,bufferLimitUpdateInterval:.5,overridePasp:!1,enableLiveEdgeChasing:!1,chasingRate:1.15,startChasingAt:5,stopChasingAt:2,chaseJumpDistance:10,patchEdgeWhenMixedContent:!1,
ignoreDrift:!1,disableFragmentSupport:!1,disableMergedFragments:!1,ignoreManagedMediaSourceStreamingHints:!1},mediaSource:{codecSwitchingStrategy:_.Lf},restrictions:cm(),tizen:{sideStreamText:_.Yj(2)},safari:{enableHlsVideoTrackInfo:!1,enableMetadata:!1},trickPlay:{speedUpMode:_.Zd,preferTrickPlayTracks:!0},playlist:{timeline:"basic",content:_.oc,cropTimeline:!1}};if(_.bl("Edge/")||_.Yj())a.streaming.gapDetectionThreshold=.5;_.Zj()&&(a.streaming.stallEnabled=!1);_.el()&&(a.streaming.stallEnabled=
!0,a.streaming.stallThreshold=1,a.streaming.stallSkip=1,a.streaming.gapDetectionThreshold=.02);_.Yj()&&(a.streaming.stallEnabled=!0,a.streaming.stallThreshold=1,a.streaming.stallSkip=0);a.vr={enable:!1,attachMouseListener:!0,fieldOfView:70,sensitivity:1,invertHorizontalControl:!1,invertVerticalControl:!1};return a};
_.fm=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];if(!b)return _.dm();c=[_.dm()];var d=!1;b=_.w(b);for(var e=b.next();!e.done;e=b.next())e=e.value,null!==e&&void 0!==e&&(_.M.ca(e)&&(e={source:e}),e.lowLatencyMode&&!d&&(c.push({streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,ignoreDrift:!0,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{lowLatencyMode:!0}}),d=!0),c.push(e),null!=
e.suggestedPresentationDelay&&c.push({manifest:{suggestedPresentationDelay:e.suggestedPresentationDelay}}));c=_.M.pa.apply(null,c);_.M.ca(c.volume)&&(""===""+c.volume?c.volume=null:c.volume=Number(c.volume));if(!_.M.S(c.volume)&&(!_.M.sa(c.volume)||_.M.isNaN(c.volume)))throw new _.N(_.O,7,7100,"config.volume is not a number");if(!_.M.S(c.preferredTextLanguage)&&!_.M.ca(c.preferredTextLanguage)&&!Array.isArray(c.preferredTextLanguage))throw new _.N(_.O,7,7100,"config.preferredTextLanguage is not a string or an array");
if(!_.M.S(c.preferredAudioLanguage)&&!_.M.ca(c.preferredAudioLanguage)&&!Array.isArray(c.preferredAudioLanguage))throw new _.N(_.O,7,7100,"config.preferredAudioLanguage is not a string or an array");if(!_.M.S(c.preferredAudioCodec)&&!_.M.ca(c.preferredAudioCodec)&&!Array.isArray(c.preferredAudioCodec))throw new _.N(_.O,7,7100,"config.preferredAudioCodec is not a string or an array");if(!_.M.S(c.preferredVideoCodec)&&!_.M.ca(c.preferredVideoCodec)&&!Array.isArray(c.preferredVideoCodec))throw new _.N(_.O,
7,7100,"config.preferredVideoCodec is not a string or an array");if(!_.M.S(c.drm)){if(c.drm.env&&!_.M.ca(c.drm.env))throw new _.N(_.O,7,7100,"config.drm.env is not a string");if(c.drm.offlineId&&!_.M.ca(c.drm.offlineId))throw new _.N(_.O,7,7100,"config.drm.offlineId is not a string");}if(d=c.streaming){d.bufferingGoal=Number(d.bufferingGoal);d.rebufferingGoal=Number(d.rebufferingGoal);d.bufferBehind=Number(d.bufferBehind);d.smallGapLimit=Number(d.smallGapLimit);d.durationBackoff=Number(d.durationBackoff);
if(!_.M.sa(d.bufferingGoal)||_.M.isNaN(d.bufferingGoal))throw new _.N(_.O,7,7100,"config.streaming.bufferingGoal is not a number");if(!_.M.sa(d.rebufferingGoal)||_.M.isNaN(d.rebufferingGoal))throw new _.N(_.O,7,7100,"config.streaming.rebufferingGoal is not a number");if(d.rebufferingGoal>d.bufferingGoal)throw new _.N(_.O,7,7100,"config.streaming.rebufferingGoal must be \x3e\x3d bufferingGoal");if(!_.M.sa(d.bufferBehind)||_.M.isNaN(d.bufferBehind))throw new _.N(_.O,7,7100,"config.streaming.bufferBehind is not a number");
if(!_.M.sa(d.smallGapLimit)||_.M.isNaN(d.smallGapLimit))throw new _.N(_.O,7,7100,"config.streaming.smallGapLimit is not a number");if(!_.M.sa(d.durationBackoff)||_.M.isNaN(d.durationBackoff))throw new _.N(_.O,7,7100,"config.streaming.durationBackoff is not a number");d=c.manifest;if(_.M.S(d.availabilityWindowOverride))d.availabilityWindowOverride=NaN;else if(typeof d.availabilityWindowOverride!==_.k)throw new _.N(_.O,7,7100,"Invalid value for |manifest.availabilityWindowOverride|");em(c.restrictions);
em(c.abr.restrictions);c.abr.initialRestrictions&&em(c.abr.initialRestrictions)}return c};cm=function(a){a=void 0===a?Infinity:a;return{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:a,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}};
em=function(a){_.M.S(a.maxPixels)&&(a.maxPixels=Infinity);_.M.S(a.maxBandwidth)&&(a.maxBandwidth=Infinity);_.M.S(a.maxHeight)&&(a.maxHeight=Infinity);_.M.S(a.maxWidth)&&(a.maxWidth=Infinity);_.M.S(a.minPixels)&&(a.minPixels=0);_.M.S(a.minBandwidth)&&(a.minBandwidth=0);_.M.S(a.minHeight)&&(a.minHeight=0);_.M.S(a.minWidth)&&(a.minWidth=0);a.minWidth=Number(a.minWidth);a.maxWidth=Number(a.maxWidth);a.minHeight=Number(a.minHeight);a.maxHeight=Number(a.maxHeight);a.minBandwidth=Number(a.minBandwidth);
a.maxBandwidth=Number(a.maxBandwidth);a.minPixels=Number(a.minPixels);a.maxPixels=Number(a.maxPixels);if(Number.isNaN(a.minWidth)||Number.isNaN(a.maxWidth)||Number.isNaN(a.minHeight)||Number.isNaN(a.maxHeight)||Number.isNaN(a.minBandwidth)||Number.isNaN(a.maxBandwidth)||Number.isNaN(a.minPixels)||Number.isNaN(a.maxPixels))throw new _.N(_.O,7,7100,"Restrictions contain NaN");};gm=function(a){return typeof a===_.$e&&!Array.isArray(a)&&"source"in a};
_.hm=function(a){_.Yl.call(this);this.log=new _.K(a);this.configuration=this.kc=_.dm();this.Z=this.D=null;this.Rd=this.dg=!1;this.ug=new _.K("clpp.video.events");this.zd=null;this.Ce=-1;this.Fi=this.Xm.bind(this);this.ag=new _.dk;this.N=new _.Xh;this.Kc=this.Wc=this.V=null};_.jm=function(a){return _.im.get(a)||null};_.lm=function(a){_.im.get(a.id())?km.warn("Component already in use."):_.im.set(a.id(),a)};mm=function(a){return Array.from(_.im.values()).find(function(b){return b instanceof a})||null};
nm=function(a){for(var b=_.w(_.im.values()),c=b.next();!c.done;c=b.next())a(c.value)};om=function(a){nm(function(b){b.o(a)})};pm=function(a){nm(function(b){b.h(a)})};qm=function(){nm(function(){})};rm=function(){nm(function(){})};sm=function(a){if(null!==mm(a))return null;a=new a;a.f();_.lm(a);km.info("Installed component:",a.id());return a};tm=function(a){if(a=mm(a))a.a(),_.im["delete"](a.id()),km.info("Uninstalled component:",a.id())};um=function(){this.a=this.f=null;this.g=new _.K("clpp.drm.csl")};
vm=function(a,b){3===b.type&&(a.f&&(a.g.debug("Attaching tracking token"),b.headers[$g]=a.f),a.a&&(b.headers[ah]=a.a))};wm=function(a,b){if(b.request&&3===b.request.type){a.f=b.headers[$g];a.a=b.headers[ah];var c=b.headers["x-dt-csl-renewal-info"];a.f&&a.g.debug("Loaded tracking token "+a.f);a.a&&a.g.debug("Loaded followup token "+a.a);if(c)return c=JSON.parse(_.S.ba(_.Aj(c))),{delay:c.renewalPeriod,Rn:{maxAttempts:c.retryCount,baseDelay:1E3*c.retryPeriod,backoffFactor:1,fuzzFactor:0,timeout:0}}}return null};
xm=function(a){return _.S.startsWith(a,_.Rd)||_.S.startsWith(a,_.Td)};_.zm=function(a){_.ym[a.J]=a};
_.Bm=function(a){var b={attemptParameters:_.Jj(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,enableSessionCacheForSkd:!1,ignoreUnrecognizedInitData:!0,ab:{},widevineVersion:_.Vd};if(a&&(b.enforceSingleSession=!!a.enforceSingleSession,b.delayLicenseRequestUntilPlayed=!!a.delayLicenseRequestUntilPlayed,b.preferredDrmSystem=a.preferredDrmSystem,b.emeApi=a.emeApi,a.attemptParameters&&(b.attemptParameters=a.attemptParameters),b.enableSessionCacheForSkd=!!a.enableSessionCacheForSkd,void 0!==
a.ignoreUnrecognizedInitData&&(b.ignoreUnrecognizedInitData=!!a.ignoreUnrecognizedInitData),typeof a.widevineVersion===_.mg&&0<a.widevineVersion.length&&(b.widevineVersion=a.widevineVersion),a.env)){var c=_.ym[a.env]||null;if(!c)throw _.Nh(_.Aa,_.Sb+a.env+_.ba),new _.N(_.O,6,6015,_.Da+a.env+"' is missing.");b.ab=_.Am(c,a.customData)||{};_.S.startsWith(a.env.toLowerCase(),ne)&&(b.enforceSingleSession=!0)}return b};
Dm=function(a){a=Cm[a];if(!a)return null;var b=_.ak();return b.os===tl&&4===b.osVersion.major&&4===b.osVersion.minor?null:new Uint8Array(a)};_.Em=function(a){this.J=a;this.f={}};
_.Am=function(a,b){var c={},d=b?b.widevineVideoRobustness:void 0,e=b?b.widevineAudioRobustness:void 0,f=b?b.serverCertificate:void 0,g=a.f[_.Vd];g&&(c[_.Vd]={licenseUrl:g.licenseUrl,videoRobustness:Ii(d,g.videoRobustness),audioRobustness:Ii(e,g.audioRobustness),modifiers:g.modifiers,distinctiveIdentifierRequired:Hi(b?b.widevineDistinctiveIdentifierRequired:void 0,g.distinctiveIdentifierRequired,!1),persistentStateRequired:Hi(b?b.widevinePersistentStateRequired:void 0,g.persistentStateRequired,!1),
serverCertificate:void 0===f?g.serverCertificate:null===f?null:typeof f===_.mg?Dm(f):f});(g=a.f[_.Rd])&&(c[_.Rd]={licenseUrl:g.licenseUrl,certificateUrl:g.certificateUrl,modifiers:g.modifiers});d=b?b.playReadyVideoRobustness:void 0;e=b?b.playReadyAudioRobustness:void 0;(g=a.f[_.Td])&&(c[_.Td]={licenseUrl:g.licenseUrl,videoRobustness:d||g.videoRobustness,audioRobustness:e||g.audioRobustness,individualizationServer:g.individualizationServer,useLegacySystem:g.useLegacySystem,modifiers:g.modifiers});
return c};_.Fm=function(a,b){b=void 0===b?!1:b;this.f=_.M.sa(a)?new DataView(new ArrayBuffer(a),0,a):a;this.a=0;this.h=b;this.buffer=this.f.buffer};_.Hm=function(a,b,c){var d=c||0;c=b.byteLength-d;var e=_.oj(a.f.buffer);b=_.oj(b.buffer,d,c);try{e.set(b,a.a),a.a+=c}catch(f){_.Gm()}};_.V=function(a,b){try{a.f.setUint32(a.a,b,a.h),a.a+=4}catch(c){_.Gm()}};_.Gm=function(){throw new _.N(_.O,3,3E3);};_.Im=function(a,b){this.f=a;this.h=void 0===b?!0:b;this.a=0};_.Jm=function(a){return a.a<a.f.byteLength};
_.Lm=function(a){try{var b=a.f.getUint8(a.a);a.a+=1;return b}catch(c){_.Km()}};_.Mm=function(a){try{var b=a.f.getUint16(a.a,a.h);a.a+=2;return b}catch(c){_.Km()}};_.W=function(a){try{var b=a.f.getUint32(a.a,a.h);a.a+=4;return b}catch(c){_.Km()}};_.Nm=function(a){try{var b=a.f.getInt32(a.a,a.h);a.a+=4;return b}catch(c){_.Km()}};
_.Om=function(a){var b=0,c=0;try{!0===a.h?(b=a.f.getUint32(a.a,!0),c=a.f.getUint32(a.a+4,!0)):(c=a.f.getUint32(a.a,!1),b=a.f.getUint32(a.a+4,!1))}catch(d){_.Km()}if(2097151<c)throw new _.N(_.O,3,3001);a.a+=8;return c*Math.pow(2,32)+b};Pm=function(a,b){for(var c=new Uint8Array(b),d=0;d<b;d++)c[d]=_.Lm(a);return c};_.Qm=function(a,b){a.a+b>a.f.byteLength&&_.Km();var c=a.a+a.f.byteOffset;c=a.f.buffer.slice(c,c+b);a.a+=b;return _.oj(c)};
_.Km=function(){throw new _.N(_.O,3,3E3,"Buffer read out of bounds.");};_.Rm=function(){this.h=[];this.f=[];this.a=!1;this.g=new _.K("clpp.mp4")};_.Sm=function(a){for(;_.Jm(a.reader)&&!a.parser.a;)a.parser.Ne(a.start+a.headerSize,a.reader,a.partialOkay)};_.Tm=function(a){for(var b=_.W(a.reader);0<b&&!a.parser.a;--b)a.parser.Ne(a.start+a.headerSize,a.reader,a.partialOkay)};_.Um=function(a){return function(b){var c=b.reader.Ia()-b.reader.getPosition();a(_.Qm(b.reader,c))}};
Vm=function(a){for(var b=0,c=0;c<a.length;c++)b=b<<8|a.charCodeAt(c);return b};_.Wm=function(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)};_.Xm=function(a){return 8+(a.has64BitSize?8:0)+(null!=a.flags?4:0)};Ym=function(){};Zm=function(a){var b="";try{b=_.S.Dd(a)}catch(c){}return b};_.$m=function(a){a=Zm(a);var b="";a.length&&(b=(new _.tk(a)).a);return b};
an=function(a){if(!a)return null;var b=null;try{var c=JSON.parse(_.S.ba(a)),d=_.Aj(c.sinf[0]);(new _.Rm).M(_.fg,_.Sm).M("schi",_.Sm).M("tenc",function(e){e.reader.skip(6);_.Lm(e.reader)&&(e.reader.skip(1),b=_.Cj(_.Qm(e.reader,16)));e.parser.stop()}).parse(d)}catch(e){}return b};
bn=function(a,b,c){if(!c||!c.byteLength)throw new _.N(_.O,6,6102);var d;typeof b===_.mg?d=_.S.Se(b,!0):d=b;a=_.S.Se(Zm(a),!0);b=new _.Fm(12+a.byteLength+d.byteLength+c.byteLength,!0);_.V(b,a.byteLength);_.Hm(b,_.oj(a));_.V(b,d.byteLength);_.Hm(b,_.oj(d));_.V(b,c.byteLength);_.Hm(b,_.oj(c));return _.oj(b.buffer)};_.cn=function(a){var b=_.oj(a.body);b=_.zj(b);a.headers[za]=bd;a.body=_.S.Wa("spc\x3d"+b).buffer};
_.dn=function(a){try{var b=_.S.ba(a.data)}catch(d){return}b=b.trim();"\x3cckc\x3e"===b.substr(0,5)&&"\x3c/ckc\x3e"===b.substr(-6)&&(b=b.slice(5,-6));try{var c=JSON.parse(b);c.ckc&&(b=c.ckc);c.CkcMessage&&(b=c.CkcMessage);c.License&&(b=c.License)}catch(d){}a.data=wj(_.Aj(b))};
jn=function(){var a=en;if(a===fn)return"https://lic.drmtoday.com";if(a===gn)return"https://lic.staging.drmtoday.com";if(a===hn)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+a+"'. Can not infer DRMtoday base URL!");};nn=function(a){var b=jn();if(a===_.Vd)return b+kn;if(a===_.Td)return b+ln;if(a===_.Rd)return b+mn;throw Error("Unknown DRM Key-System '"+a+"'. Can not infer license URL!");};
on=function(a){a=a.replace(/assetid/gi,"assetId");a=a.replace(/variantid/gi,"variantId");return a=a.replace(/keyid/gi,"keyId")};
_.qn=function(a,b,c){b=Zm(b);c=c&&c.customData?c.customData:{};b=new _.tk(on(b));var d=_.wk(b.f);if(a&&a.drm&&a.drm.customData){var e=a.drm.customData;a=e.assetId;e=e.variantId;a&&_.S.He(""+a)&&(d.assetId=a,pn.debug("Using assetId from the configuration instead of the value from the HLS manifest."));e&&_.S.He(""+e)&&(d.variantId=e,pn.info("Using variantId from the configuration instead of the value from the HLS manifest."))}d.keyId?(a=["keyId"],pn.debug("KeyId found in FPS SKD. Removing other parameters")):
a=["assetId","variantId"];b.f=_.vk(d,!1,a);"/"!==b.path||b.j.includes(b.a+"/")||(b.path="");b=_.uk(b);return c.fpsContentId=b};_.sn=function(a,b,c,d){d=void 0===d?!0:d;c=a.drm;c&&c.env.startsWith(Fa)?c.customData&&(_.rn(b,a),a=b.uris[0],d&&c.customData.assetId&&(a+="?assetId\x3d"+encodeURI(""+c.customData.assetId),c.customData.variantId&&(a+="\x26variantId\x3d"+encodeURI(""+c.customData.variantId)),b.uris[0]=a)):pn.warn(Cb)};
tn=function(a,b,c){_.sn(a,b,c);a=a.drm;a=!(!a||!a.offlineId);c=new _.Ji(b.uris[0]);c.a.add(_.lf,a);b.uris[0]=c.toString()};
_.un=function(a,b,c){var d=c&&c.customData&&c.customData.fpsContentId;_.sn(a,b,c,!1);b.headers[za]=bd;c={spc:_.yj(b.body)};if((a=a.drm)&&a.env.startsWith(Ga)&&d){a={};var e=_.wk((new _.tk(on(d))).f);d=e.keyId;if(e=e.assetId)pn.info("Applying assetId from HLS manifest."),a.assetId=e;d&&(pn.info("Applying keyId from HLS manifest."),a.keyId=d);a.keyId&&(pn.info("Adding keyID to FPS payload:",a.keyId),c.keyId=a.keyId);a.assetId&&(pn.info("Adding assetID to FPS payload:",a.assetId),c.assetId=a.assetId)}b.body=
_.S.jd(_.vk(c,!0))};_.vn=function(a,b){pn.debug("Clearing response data");if(200===b.status){var c=_.S.ba(b.data).trim();"\x3cckc\x3e"===c.substr(0,5)&&"\x3c/ckc\x3e"===c.substr(-6)&&(c=c.slice(5,-6));b.data=_.Aj(c).buffer}};_.yn=function(a,b){var c=a.drm;if(!c||!c.env.startsWith(Fa))pn.warn(Cb);else if(c.customData&&c.customData.merchant&&!c.env.startsWith(Ga)){var d=new _.Ji(b.uris[0]),e=d.Ea;e.endsWith("/")||(e+="/");e+=c.customData.merchant;d.Ea=e;b.uris[0]=d.toString()}};
_.zn=function(a,b){try{var c=_.oj(b.data),d=JSON.parse(String.fromCharCode.apply(null,c));pn.debug("Widevine License response",d);var e=atob(d.license),f=new Uint8Array(e.length);for(c=0;c<e.length;++c)f[c]=e.charCodeAt(c);b.data=f.buffer}catch(g){pn.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}};
_.rn=function(a,b){var c=b.drm;if(c&&c.customData){var d={userId:c.customData.userId,sessionId:c.customData.sessionId,merchant:c.customData.merchant};_.M.Ld(d)&&(a.headers["dt-custom-data"]=btoa(JSON.stringify(d)));(c=c.customData.authToken)&&(a.headers["x-dt-auth-token"]=c)}};Bn=function(a){var b={},c=a?a[bh]:void 0;a=An[a?a[bh]:void 0];c&&(b.drmTodayErrorCode=c);a&&(b.drmTodayErrorMessage=a);return b};Cn=function(){};
En=function(a,b){b=void 0===b?0:b;_.Mh("Registering EME Factory: "+a.a());for(var c={priority:b,Vb:a},d=0;d<Dn.length;++d)if(Dn[d].priority<b){Dn.splice(d,0,c);return}Dn.push(c)};
Fn=function(a){if(a){var b=Dn.find(function(d){return d.Vb.a()===a}).Vb;if(b&&b.isSupported())return _.Mh(uc+b.a()),b.create();_.Mh("Cannot create selected EME manager. Choosing by priority list.")}b=_.w(Dn);for(var c=b.next();!c.done;c=b.next())if(c=c.value.Vb,c.isSupported())return _.Mh(uc+c.a()),c.create();throw Error("Missing EME managers");};_.Hn=function(a,b){var c=_.Gn(a,b);return 1!==c.length?null:c[0]};
_.Gn=function(a,b){return Array.prototype.filter.call(a.childNodes,function(c){return c instanceof Element&&c.tagName===b})};_.In=function(a){return Array.prototype.every.call(a.childNodes,function(b){return b.nodeType===Node.TEXT_NODE||b.nodeType===Node.CDATA_SECTION_NODE})?a.textContent.trim():null};
_.Jn=function(a,b){var c=new DOMParser,d=null,e=null;try{e=c.parseFromString(a,_.tg)}catch(f){}e&&e.documentElement.tagName===b&&(d=e.documentElement);return d&&0<d.getElementsByTagName("parsererror").length?null:d};Kn=function(a,b,c){this.j=new Uint8Array(a);this.a=b;this.f=c};Ln=function(){Kn.apply(this,arguments)};_.Nn=function(a){var b=_.Bj(a);b=parseInt(b.byteLength,10).toString(16);b=_.Bj("12"+b+a);return new Ln(Mn,a,b)};
_.On=function(a){function b(u){switch(u){case 0:do if(!_.Jm(d))throw Error("not enough data to skip!");while(_.Lm(d)&128);break;case 1:d.skip(8);break;case 2:d.skip(c());break;case 3:for(;4!==(u=c()&7);)b(u);break;case 5:d.skip(4);break;default:throw Error("invalid wire type "+u);}}function c(){for(var u=_.Lm(d),v=(u&127)>>>0,z=7;128<=u&&28>=z;)u=_.Lm(d),v=(v|(u&(28>z?127:15))<<z)>>>0,z+=7;return 28<z?-1:v}var d=new _.Im(new DataView(a.buffer,a.byteOffset,a.byteLength),!1);a=_.W(d);var e=_.W(d);e=
_.Wm(e);var f=_.W(d),g=f>>>24;f&=16777215;var h=_.Qm(d,16);h=_.Cj(h);if(0<g){var l=_.W(d);d.skip(16*l)}l=_.W(d);for(var m=[],n=null;_.Jm(d);){var p=c(),q=p&7;p>>>=3;if(2===q){q=c();if(0>q)throw Error("unable to read length of field "+p);q=Pm(d,q);2===p?m.push(q):4===p&&(n=q)}else b(q)}_.Nh("Parsed WV PSSH Box","size",a,"name",e,"version",g,"flags",f,"size",l,"systemId",h,"contentId (base64)",n?_.yj(n):"","keyIds",m.map(function(u){return _.Cj(u)}));return 0<m.length?_.Nn(_.Cj(m[0])):null};
_.Pn=function(a,b,c,d,e,f){f=void 0===f?null:f;Kn.call(this,a,b,d);this.version=e;this.h=c;this.l=f};
_.Un=function(a){a:{var b=new _.Im(new DataView(a.buffer),!0);_.W(b);for(_.Mm(b);_.Jm(b);)if(1===_.Mm(b)){var c=_.Mm(b);b=_.Qm(b,c);break a}b=null}b||(b=a);a=_.S.qc(b,!0);c=_.Jn(a,"WRMHEADER");a=c.getAttribute("version");var d=_.Hn(c,"DATA");c=(c=_.Hn(d,"LA_URL"))?_.In(c):"";var e;if(e=_.Hn(d,"KID"))if(e=_.In(e)){var f=_.Hn(d,ra);e={value:e,qf:f?f.textContent.trim():null}}else e=null;else e=null;d=e?[e]:(e=Qn(d))?[e]:(d=Rn(d))?d:null;e=d&&d[0]||{};d=e.qf;e=_.Aj(void 0===e.value?"":e.value);e=_.Sn(e);
e=_.Cj(e);return new _.Pn(_.Tn,e,c,b,a,d)};_.Sn=function(a){var b=[];b.push(a[3]);b.push(a[2]);b.push(a[1]);b.push(a[0]);b.push(a[5]);b.push(a[4]);b.push(a[7]);b.push(a[6]);a=_.oj(a);a.set(b,0);return a};Qn=function(a){a=_.Hn(a,"PROTECTINFO");if(!a)return null;var b=_.Hn(a,"KID");if(!b)return null;a=b.getAttribute("VALUE");if(!a)return null;var c=b.getAttribute(ra);b=b.getAttribute("ALGID");return{value:a,qf:c,Si:b}};
Rn=function(a){a=_.Hn(a,"PROTECTINFO");if(!a)return null;a=_.Hn(a,"KIDS");if(!a)return null;var b=_.Gn(a,"KID");if(!b.length)return null;a=[];b=_.w(b);for(var c=b.next();!c.done;c=b.next()){var d=c.value;if(c=d.getAttribute("VALUE")){var e=d.getAttribute(ra);d=d.getAttribute("ALGID");a.push({value:c,qf:e,Si:d})}}return a.length?a:null};_.Wn=function(a){Vn&&performance.mark(a)};_.Xn=function(a,b,c){Vn&&performance.measure(a,b,c)};
Yn=function(a){this.f=[];this.h=[];this.a=[];8<=a.byteLength&&(new _.Rm).Y("pssh",this.j.bind(this)).parse(a.buffer);0===this.a.length&&_.Ih("No pssh box found!")};
_.bo=function(a){var b=this;this.C=a;this.J=new Set;this.B=this.I=this.l=null;this.$=!1;this.a=null;this.K=Zn;this.A=new _.Xh;this.N=new um;this.f=new Map;this.L=[];this.H=new _.Rj;this.h=null;this.T=function(c){b.w=!0;b.D=!1;b.H.reject(c);a.onError(c)};this.o=new Map;this.fa=new Map;this.aa=new _.Zk(function(){return $n(b)});this.j=!1;this.Ga=new _.Rj;this.G=!1;this.ea=[];this.Na=!1;this.V=0;this.g=new _.K("clpp.drm.DrmEngine");this.ja=(new _.Zk(function(){ao(b)})).mb(1);this.H["catch"](function(){});
this.w=this.D=!1;this.R=null};
eo=function(a){var b,c,d,e,f;return _.I(function(g){switch(g.a){case 1:a.A.release();a.A=null;a.N.release();a.N=null;a.w=!1;a.D=!1;a.H.reject();a.ja.stop();a.ja=null;a.aa.stop();a.aa=null;b=Array.from(a.f.keys());c=_.w(a.f.values());for(d=c.next();!d.done;d=c.next())e=d.value,e.Tc&&e.Tc.stop();a.f.clear();return _.y(g,Promise.all(b.map(function(h){return Promise.resolve().then(function(){var l;return _.I(function(m){if(1==m.a)return a.g.debug("Closing session",h.sessionId),_.D(m,2),_.y(m,co(h),4);
if(2!=m.a)return _.th(m,0);l=_.E(m);a.g.warn("Error while closing session",l);_.B(m)})})})),2);case 2:if(!a.B){g.F(3);break}_.D(g,4);return _.y(g,a.l.sd(null),6);case 6:_.th(g,5);break;case 4:f=_.E(g),a.g.warn("Error while resetting media keys",f);case 5:a.B=null;case 3:a.l=null,a.a=null,a.J.clear(),a.I=null,a.L=[],a.h=null,a.T=null,a.C=null,a.V=0,a.R=null,_.B(g)}})};
_.ho=function(a,b,c){c=void 0===c?[]:c;a.K=fo;a.L=c;a.G=0<c.length;a.g.debug("Using Persisted Licenses: "+a.G);a.h&&a.h.enableSessionCacheForSkd&&a.g.info("Enabled session cache for SKD license requests");return _.go(a,b)};
_.go=function(a,b){var c=b.some(function(g){return 0<g.drmInfos.length});if(!c){var d=_.M.vg(a.h.ab);io(b,d)}var e=jo(a);if(e){var f=_.w(b);for(d=f.next();!d.done;d=f.next())d.value.drmInfos=[e]}e=_.w(b);for(d=e.next();!d.done;d=e.next())for(d=_.w(d.value.drmInfos),f=d.next();!f.done;f=d.next())ko(f.value,a.h.ab);d=lo(a,b);if(!d.size)return a.$=!0,Promise.resolve();_.Wn(ee);d=_.mo(a,d);return(c?d:d["catch"](function(){})).then(function(){_.Wn(de);_.Xn("DRM queryMediaKeys_()",ee,de)})};
no=function(a){var b;return _.I(function(c){switch(c.a){case 1:if(a.l.ze())return c["return"]();if(!a.R){c.F(2);break}return _.y(c,a.R,3);case 3:return c["return"]();case 2:return _.D(c,4),a.R=a.l.sd(a.I),_.y(c,a.R,6);case 6:_.th(c,0);break;case 4:b=_.E(c);if(a.j)return c["return"]();a.T(new _.N(_.O,6,6003,b.message,b));_.B(c)}})};
po=function(a,b){return _.I(function(c){if(1==c.a)return a.g.info("Handle encrypted event for type "+b.initDataType),_.y(c,no(a),2);if(!b.initData)return c["return"]();_.oo(a,b.initDataType,_.oj(b.initData));_.B(c)})};
_.Ao=function(a,b){if(!a.I)return _.Yh(a.A,b,[qe,"msneedkey",Yg,"needkey"],function(){a.T(new _.N(_.O,6,6010))}),Promise.resolve();a.B=b;a.l.pe(b);a.A.one(a.B,_.of,function(){return qo(a)});a.A.on(a.B,_.Tg,function(e){var f=a.D;a.D=!a.w;!f&&a.D&&(a.g.info("Waiting for DRM license key delivery"),a.C.onEvent(e))});var c=a.a.initData.find(function(e){return 0<e.initData.length}),d=Promise.resolve();if(c||a.l.rd()!==Xb||a.L.length)d=no(a);c=Promise.resolve();_.Zj()&&38===_.dl().major||(a.a&&a.a.keySystem!==
_.hf&&!a.a.serverCertificate&&(c=ro(a)),c=c.then(function(){return _.so(a)}));return Promise.all([d,c]).then(function(){a.j||(_.zo(a),a.A.on(a.B,qe,function(e){return po(a,e)}))})["catch"](function(e){if(!a.j){if(6004===e.code&&a.a&&a.a.keySystem===_.Vd&&1>a.V&&a.a.serverCertificate&&a.a.serverCertificate.length)return a.g.warn("Detected invalid widevine server certificate!. Retrying"),a.T(new _.N(1,6,6004)),a.a.serverCertificate=null,a.V++,_.Ao(a,b);1<=a.V&&a.g.info("Could not get valid widevine server certificate. Giving up");
throw e;}})};_.so=function(a){var b,c;return _.I(function(d){if(1==d.a){if(!(a.I&&a.a&&a.a.serverCertificate&&a.a.serverCertificate.length))return d.F(0);_.D(d,3);return _.y(d,a.I.setServerCertificate(a.a.serverCertificate),5)}if(3!=d.a)return b=d.f,void 0===b||b||a.g.debug("Server certificates are not supported by the key system. The server certificate has been ignored."),_.th(d,0);c=_.E(d);throw new _.N(_.O,6,6004,{browserError:c.message});})};
ro=function(a){var b=a.keySystem(),c=a.h.ab[b],d=c.certificateUrl||"";if(""===d)return Promise.resolve();var e=a.C.getConfiguration();return Bo(a,e).then(function(){var f=c.modifiers,g=f&&f.certificateRequest,h=f&&f.certificateResponse;f=_.Mj([d],a.h.attemptParameters);f.type=3;f.licenseRequestType=xd;g&&f.requestModifiers.push(function(l){return g(e,l)});h&&f.responseModifiers.push(function(l){return h(e,l)});a.g.debug("Fetching certificate");return a.C.wb.fetch(f).P}).then(function(f){a.a.serverCertificate=
_.oj(f.data)})["catch"](function(f){var g=f.data.headers;g=Object.assign({message:"Error while fetching certificate!",url:f.data.url,status:f.data.status,response:f.data.response},g?{headers:g}:{},Bn(g));throw new _.N(_.O,6,6100,g,f);})};Bo=function(a,b){var c,d;return _.I(function(e){c=a.C.Yc();return c?(d=b&&b.drm&&b.drm.customData)?_.y(e,c(d),0):e["return"]():e["return"]()})};Co=function(a,b){if(!a)return!1;for(var c=0;c<b.ve.length;c++)if(_.Dj(a,b.ve[c]))return!0;return!1};
_.zo=function(a){for(var b=a.a?a.a.initData||[]:[],c=_.w(b),d=c.next();!d.done;d=c.next()){d=d.value;var e=!_.Yj(2);if(a.h.enforceSingleSession&&!a.keySystem().startsWith(_.Rd)){var f=a.f.values();f=_.w(f);for(var g=f.next();!g.done;g=f.next())g=g.value,_.Dj(d.initData,g.initData)?(a.g.info("Skipping Session creation. Existing init data in single session mode!"),e=!1):g.periodId===d.periodId&&(a.g.info("Skipping Session creation. Merging init data for period in single session mode for Key ID "+(d.keyId+
".")),Co(d.initData,g)||(g.ve.push(d.initData),d.keyId&&!g.cb.includes(d.keyId)&&g.cb.push(d.keyId),a.o.get(d.keyId)||a.o.set(d.keyId,kg)),e=!1)}!e||a.G&&a.K===fo||(_.Do(a,d.keyId,d.initData)&&(e=!1),e&&(a.g.info("Request new media key session on create"),Eo(a,d.keyId,d.periodId,d.initDataType,d.initData)))}c=_.w(a.L);for(d=c.next();!d.done;d=c.next())_.Fo(a,d.value);b.length||a.L.length||(a.w||a.g.info(Ea),a.w=!0,a.D=!1,a.H.resolve());return a.H};
_.oo=function(a,b,c,d){d=void 0===d?"":d;if(c.length&&(!a.G||a.K!==fo)){var e=a.keySystem();if(!e.startsWith(_.Rd)&&b===_.vd){var f=new Yn(c);if(1<f.a.length&&(e={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[e]))for(var g=0;g<f.f.length;g++)if(e===f.f[g]){c=c.subarray(f.a[g].start,f.a[g].end+1);break}}(a.B.webkitCurrentPlaybackTargetIsWireless||
_.Yj(2)||a.keySystem().startsWith(_.Rd)||!_.Do(a,d,c,!0))&&Eo(a,d,null,b,c)}};
_.Do=function(a,b,c,d){d=void 0===d?!1:d;for(var e=_.w(a.f.keys()),f=e.next();!f.done;f=e.next()){f=f.value;var g=a.f.get(f);if(_.Dj(c,g.initData))return b?g.cb.includes(b)?d&&a.g.info("Skipping Session creation. License for init data with Key ID "+(b+" was already requested in Session: '")+(f.sessionId+"'. ")):(g.cb.push(b),a.o.get(b)||a.o.set(b,kg),d&&a.g.info(dc+(f.sessionId+"'Adding Key ID ")+(b+" to session meta-data."))):d&&a.g.info(dc+(f.sessionId+"'")),!0;if(Co(c,g))return d&&a.g.info("Skipping Session creation. License for init data was already requested [extra]"),
!0}return!1};Go=function(a){var b=Infinity;a=a.f.keys();a=_.w(a);for(var c=a.next();!c.done;c=a.next())c=c.value,isNaN(c.expiration)||(b=Math.min(b,c.expiration));return b};
lo=function(a,b){for(var c=new Set,d=_.w(b),e=d.next();!e.done;e=d.next()){var f=_.w(e.value.drmInfos);for(e=f.next();!e.done;e=f.next())e=e.value,ko(e,a.h.ab),c.add(e)}f=a.G?_.Uf:_.gf;var g=a.G?[_.mf]:[rg];d=new Map;c=_.w(c);for(e=c.next();!e.done;e=c.next())e=e.value,d.set(e.keySystem,{initDataTypes:[_.vd],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:_.gf,persistentState:f,sessionTypes:g,label:e.keySystem,drmInfos:[]});c={};f=_.w(b);for(e=f.next();!e.done;c={We:c.We,kd:c.kd,gf:c.gf,
ld:c.ld},e=f.next()){e=e.value;g=e.audio;var h=e.video;c.We=g?_.Ho(g):"";c.kd=null;g&&"ac-3"===g.codecs.toLowerCase()&&_.Yj()&&(c.kd=_.Ho(g,_.pe));c.gf=h?_.Ho(h):"";c.ld=null;h&&"ac-3"===h.codecs.toLowerCase()&&_.Yj()&&(c.ld=_.Ho(h,_.pe));var l={},m=_.w(e.drmInfos);for(e=m.next();!e.done;l={Xa:l.Xa},e=m.next())e=e.value,l.Xa=d.get(e.keySystem),l.Xa.drmInfos.push(e),e.initData&&e.initData.length&&(l.Xa.initDataTypes=_.fh(new Set(e.initData.map(function(n){return n.initDataType}))).concat()),e.distinctiveIdentifierRequired&&
(l.Xa.distinctiveIdentifier=_.Uf),e.persistentStateRequired&&(l.Xa.persistentState=_.Uf),g&&_.mi(e.audioRobustness).forEach(function(n,p){return function(q){var u={robustness:q||"",contentType:n.We};p.Xa.audioCapabilities.find(function(v){return v.robustness===u.robustness&&v.contentType===u.contentType})||p.Xa.audioCapabilities.push(u);n.kd&&p.Xa.audioCapabilities.push({robustness:q||"",contentType:n.kd})}}(c,l)),h&&_.mi(e.videoRobustness).forEach(function(n,p){return function(q){var u={robustness:q||
"",contentType:n.gf};p.Xa.videoCapabilities.find(function(v){return v.robustness===u.robustness&&v.contentType===u.contentType})||p.Xa.videoCapabilities.push(u);n.ld&&p.Xa.videoCapabilities.push({robustness:q||"",contentType:n.ld})}}(c,l))}return d};_.Ho=function(a,b){var c=_.Uk(a.mimeType,b||a.codecs);if(_.Tk(c,a.type)){var d=a.type,e=_.Tk(c,d);e&&(e=e(),c=e.convertCodecs(d,c),e.destroy())}return c};
_.mo=function(a,b){function c(m,n,p){n.drmInfos.some(function(q){return!!q.licenseServerUri})===m&&(f=f["catch"](function(){if(a.j)return null;if(p===_.Td){if(_.al()&&!a.h.ab[p].useLegacySystem)return n.label=Ud,a.l.Ab(Ud,[n])["catch"](function(){a.g.warn("Unable to create com.microsoft.playready.recommendation. Falling back to com.microsoft.playready.");n.label=_.Td;Io(n);return a.l.Ab(p,[n])});Io(n)}if(p===_.Vd&&a.h.widevineVersion!==_.Vd){var q=a.h.widevineVersion;if(!q.startsWith(_.Vd))return a.g.error('Invalid "widevineVersion" value "'+
q+'".'),Promise.reject();var u=Object.assign({},n,{label:q,distinctiveIdentifier:_.gf,persistentState:_.gf});return a.l.Ab(q,[u])["catch"](function(){return a.l.Ab(p,[n])})}return a.l.Ab(p,[n])["catch"](function(v){a:{if(p===_.Vd&&Jo(n)){var z=_.ak();if(Jo(n)&&z.os===tl&&z.browser===zd){a.g.warn("requestMediaKeySystemAccess() failed",v);a.g.warn("Will try to recover by removing the robustness attribute of videoCapabilities and audioCapabilities.");Io(n);v=a.l.Ab(p,[n]);break a}}throw v;}return v})}))}
if(1===b.size&&b.has(""))return Promise.reject(new _.N(_.O,6,6E3));null===a.l&&(a.l=Fn(a.h.emeApi));for(var d=_.w(b.values()),e=d.next();!e.done;e=d.next())e=e.value,0===e.audioCapabilities.length&&delete e.audioCapabilities,0===e.videoCapabilities.length&&delete e.videoCapabilities;var f=d=new _.Rj,g=a.h.preferredDrmSystem;if(!g)if(e=_.ak(),e.os===vl&&10<=e.osVersion.major&&"edge"===e.browser)g=_.Td;else if("safari"===e.browser)g=_.Rd;else if(e.browser===zd||"firefox"===e.browser)g=_.Vd;g&&(e=b.get(g))&&
(c(!0,e,g),c(!1,e,g));e={};for(var h=_.w([!0,!1]),l=h.next();!l.done;e={ef:e.ef},l=h.next())e.ef=l.value,b.forEach(function(m){return function(n,p){p!==g&&c(m.ef,n,p)}}(e));f=f["catch"](function(){throw new _.N(_.O,6,6001,"Failed to get MediaKeySystemAccess.");});f=f.then(function(m){if(a.j)return null;a.J.clear();var n=m.getConfiguration();a.g.info("Got MediaKeySystemAccess with configuration",n);var p=n.videoCapabilities||[],q=_.w(n.audioCapabilities||[]);for(n=q.next();!n.done;n=q.next())a.J.add(n.value.contentType.toLowerCase());
p=_.w(p);for(n=p.next();!n.done;n=p.next())a.J.add(n.value.contentType.toLowerCase());p=m.keySystem;n=b.get(_.Ko(m.keySystem));q=[];var u=[],v=[],z=[];Lo(n.drmInfos,q,u,v,z);1<u.length&&_.Ih("Multiple unique server certificates found! Only the first will be used.");1<q.length&&_.Ih("Multiple unique license server URIs found! Only the first will be used.");a.a={keySystem:p,licenseServerUri:q[0],distinctiveIdentifierRequired:n.distinctiveIdentifier===_.Uf,persistentStateRequired:n.persistentState===
_.Uf,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:u[0],initData:v,keyIds:z,periodId:null};if(!a.a.licenseServerUri)throw new _.N(_.O,6,6012,a.a.keySystem);return m.createMediaKeys()}).then(function(m){a.j||(a.g.info("Created MediaKeys for key system",a.a.keySystem),a.I=m,a.$=!0)})["catch"](function(m){if(!a.j){a.a=null;a.J.clear();if(m instanceof _.N)throw m;throw new _.N(_.O,6,6002,
{browserError:m.message});}});d.reject();return f};
jo=function(a){a=_.M.vg(a.h.ab[_.hf]||{});if(0===a.size)return null;var b=[],c=[];a.forEach(function(e,f){var g=_.Bj(f),h=_.Bj(e);g={kty:"oct",kid:_.zj(g,!1),k:_.zj(h,!1)};b.push(g);c.push(g.kid)});a=JSON.stringify({keys:b});var d=JSON.stringify({kids:c});d=[{initData:_.S.Wa(d),initDataType:"keyids"}];return{keySystem:_.hf,licenseServerUri:"data:application/json;base64,"+window.btoa(a),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,
initData:d,keyIds:[],periodId:null}};
_.Fo=function(a,b){try{a.g.debug("Attempting to load an offline session",b);var c=a.I.createSession(_.mf)}catch(f){var d=new _.N(_.O,6,6005,{browserError:f.message});a.T(d);return Promise.reject(d)}a.A.on(c,_.Se,a.ci.bind(a));a.A.on(c,Ee,a.Yh.bind(a));var e={initData:null,loaded:!1,Of:Infinity,yb:null,La:new _.Rj,periodId:null,ve:[],keyId:null,cb:[],initDataType:null,oc:null,sessionContext:{ldlDelay:0,customData:{}}};e.La["catch"](function(){});a.f.set(c,e);return c.load(b).then(function(f){if(a.j)return null;a.g.debug("Loaded offline session",
b,f);if(!f)return a.f["delete"](c),a.T(new _.N(_.O,6,6013)),null;e.loaded=!0;Mo(a)&&(a.w||a.g.info(Ea),a.w=!0,a.D=!1,a.H.resolve());return c},function(f){a.j||(a.f["delete"](c),a.T(new _.N(_.O,6,6005,{browserError:f.message})))})};No=function(a,b,c,d){if(!b&&c!==_.fg)return!1;d=b||an(d);a=_.w(a.f.values());for(var e=a.next();!e.done;e=a.next())if(e=e.value,b&&e.keyId===b||b&&e.cb.includes(b)||c===_.fg&&(e.keyId||an(e.initData))===d)return!0;return!1};
Eo=function(a,b,c,d,e,f,g){f=void 0===f?null:f;g=void 0===g?!1:g;var h,l,m,n,p,q,u,v,z,A,G,F,C,H,Q,R,na,da,Ba,ab,bb;_.I(function(Qa){switch(Qa.a){case 1:if(!e.length)return a.g.warn("Empty init data"),Qa["return"]();h=b;if(!h)try{h=Oo(a,d,e,f)}catch(Ca){if(a.g.warn("Ignoring unrecognized init data. This may be caused by unsupported or malformed init data. Set `drm.ignoreUnrecognizedInitData \x3d false` if you want to override this behavior and use the init data after all.",{error:Ca,initDataType:d,
initData:e}),a.h.ignoreUnrecognizedInitData)return Qa["return"]()}if(g){Qa.F(2);break}if(!No(a,h,d,e)){Qa.F(2);break}l=!0;if("skd"!==d||a.h.enableSessionCacheForSkd){Qa.F(4);break}m=_.w(a.f.keys());n=m.next();case 5:if(n.done){Qa.F(4);break}p=n.value;q=a.f.get(p);if(!h||q.keyId!==h){Qa.F(6);break}a.g.warn("Close and re-open session for "+h);_.D(Qa,9);return _.y(Qa,p.close(),11);case 11:_.th(Qa,10);break;case 9:u=_.E(Qa),a.g.warn("Unable to close session",u);case 10:l=!1;case 6:n=m.next();Qa.F(5);
break;case 4:if(l)return a.g.warn("Skip creating a new session for "+h),Qa["return"]();case 2:try{z=a.G?_.mf:rg,v=a.I.createSession(z),a.g.info("Created new "+z+" session for Key ID: '"+h+"'. Init data type: "+(d+"."))}catch(Ca){return a.T(new _.N(_.O,6,6005,{browserError:Ca.message})),Qa["return"]()}a.A.on(v,_.Se,a.ci.bind(a));a.A.on(v,Ee,a.Yh.bind(a));A={oc:f,ve:[],initData:e,initDataType:d,keyId:h,cb:h?[h]:[],loaded:!1,Of:Infinity,periodId:c,yb:null,La:new _.Rj,sessionContext:{ldlDelay:0,customData:{}}};
A.La["catch"](function(){});f&&(G=a.f.get(f),A.sessionContext=G.sessionContext);a.f.set(v,A);h&&!a.o.get(h)&&a.o.set(h,kg);if(e)for(F=0;F<a.a.initData.length;F++)C=a.a.initData[F],C.keyId&&!A.cb.includes(C.keyId)&&_.Dj(C.initData,e)&&(A.keyId||(A.keyId=C.keyId),A.cb.push(C.keyId),a.o.get(C.keyId)||a.o.set(C.keyId,kg));H=_.M;Q=H.vb;R=a.C.getConfiguration();na=a.keySystem();da=a.h.ab[na];ab=(Ba=da.modifiers)&&Ba.transformInitData;Q(ab)||(ab=Po);try{e=ab({playerConfig:R,initData:e,initDataType:d,drmInfo:a.a,
drmSystemConfig:da,sessionContext:A.sessionContext,emeApi:a.l.rd()})}catch(Ca){return bb=Ca,Ca instanceof _.N||(bb=new _.N(_.O,6,6016,Ca)),A.La&&A.La.reject(Ca),a.T(bb),Qa["return"]()}a.g.info("Generate License Request for key ID: '"+h+"'");v.generateRequest(d,e.buffer)["catch"](function(Ca){if(!a.j){var fb=null;Ca.errorCode&&Ca.errorCode.systemCode&&(fb=Ca.errorCode.systemCode,0>fb&&(fb+=Math.pow(2,32)),fb="0x"+fb.toString(16));a.T(new _.N(_.O,6,6006,{browserError:Ca.message,error:Ca,extended:fb},
Ca))}});_.B(Qa)}})};
Oo=function(a,b,c,d){d=void 0===d?null:d;if("skd"===b){a:{var e=d;e=void 0===e?null:e;var f=a.keySystem(),g=a.h.ab[f];f=a.C.getConfiguration();g=g&&g.modifiers&&g.modifiers.extractContentId;_.M.vb(g)||(g=Qo);try{var h={ldlDelay:0,customData:{}};e&&(h=a.f.get(e).sessionContext);var l=g(f,c,h);a.g.debug("Extracted Content ID '"+l+"' from SKD");var m=l;break a}catch(F){a.g.warn("Unable to extract Content ID from SKD",F)}m=""}return m}if(b===_.fg)return an(c)||"";if(b===_.vd){m=a.keySystem();try{if(m.match(/^com\.widevine\.alpha/)){var n=
_.On(c);if(n)return n.a}else if(Ro(m)){e=new _.Im(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);f=_.W(e);var p=_.W(e);g=_.Wm(p);var q=_.W(e);c=q>>>24;l=q&16777215;h=_.Qm(e,16);var u=_.Cj(h);if(0<c){var v=_.W(e);e.skip(16*v)}var z=_.W(e),A=_.Qm(e,z),G=_.Un(A);_.Nh("Parsed PR PSSH Box","size",f,"name",g,"version",c,"flags",l,"size",z,"systemId",u,"keyId",G.a);if(G)return G.a}}catch(F){throw a.g.warn("Unable to extract Key ID from PSSH data.",{error:F,keySystem:m}),F;}}return""};
Qo=function(a,b){var c=_.$m(b);_.Nh("Using default Content ID extractor. The hostname part from HLS #EXT-X-KEY:URI skd:// will be used.","Extracted Content ID: "+c);return c};
Po=function(a){var b=a.playerConfig,c=a.initData,d=a.drmInfo,e=a.drmSystemConfig,f=a.sessionContext,g=a.emeApi;if("skd"===a.initDataType&&"APPLE"===g){a=_.M.vb;d=d.serverCertificate;e=e&&e.modifiers&&e.modifiers.extractContentId;a(e)||(e=Qo);a="";try{a=e(b,c,f)}catch(h){throw new _.N(_.O,6,6103);}if(!a.length)throw new _.N(_.O,6,6101,"Content ID is an empty string");c=bn(c,a,d)}return c};
Vo=function(a,b){var c=b.target,d=a.f.get(c),e=a.keySystem(),f=!1;e.match(/^com\.widevine\.alpha/)&&b.message&&2===b.message.byteLength?(f=!0,a.g.info("WV Server certificate request for SID:'"+(c.sessionId+" from msg '")+(b.messageType+"'"))):a.g.info("License request for SID:'"+(c.sessionId+"'/KID:'"+d.keyId+"' from msg '")+(b.messageType+"'"));var g=a.a.licenseServerUri;e=a.h.ab[e];"individualization-request"===b.messageType&&e&&e.individualizationServer&&(g=e.individualizationServer);var h=_.Mj([g],
a.h.attemptParameters);h.type=3;h.body=b.message;h.method=_.Mb;h.licenseRequestType=b.messageType===He&&d.oc?Ge:f?xd:b.messageType;h.sessionId=c.sessionId;if(h.licenseRequestType===Ge)a.C.onEvent(new _.L(ke));Ro(a.a.keySystem)&&So(a,h);vm(a.N,h);var l=Math.floor(b.timeStamp),m=Date.now();return To(a,h,d.sessionContext).then(function(){_.Wn(ce+l+ia);a.g.debug("Sending DRM license request to",g,h);return a.C.wb.fetch(h).P}).then(function(n){_.Wn(ce+l+".end");_.Xn(ce+l,ce+l+ia,ce+l+".end");if(a.j)return Promise.reject();
var p=Date.now()-m,q=Uo(a,n),u="";q&&(u=" RID:"+q);q=n&&n.data?n.data.byteLength:-1;f?a.g.info("WV Server certificate response for SID:'"+(c.sessionId+"' ")+(q+" bytes in ")+(p+"ms"+u)):a.g.info("License response for SID:'"+(c.sessionId+"'/KID:'")+(d.keyId+"' ")+(q+" bytes in ")+(p+"ms"+u));var v=wm(a.N,n);_.Wn(ie+l+ia);return c.update(n.data).then(function(){_.Wn(ie+l+".end");_.Xn(ie+l,ie+l+ia,ie+l+".end");if(!f){var z=Go(a),A=v?Date.now()+1E3*v.delay:Number.NaN;z=new _.L(_.me,{keySystem:a.keySystem(),
expirationTime:z,expectedRenewalTime:A});a.C.onEvent(z);d&&(d.yb&&d.yb.resolve(),d.oc&&(z=d.oc,a.g.info("Closing expired session '"+z.sessionId+"'"),co(z)["catch"](function(){a.g.warn("Unable to close expired session in time")}),(z=a.f.get(d.oc))&&z.Tc&&z.Tc.stop(),a.f["delete"](d.oc),d.oc=null),(new _.Zk(function(){a.j||(d.loaded=!0,d.La&&d.La.resolve(),Mo(a)&&(a.w||a.g.info(Ea),a.w=!0,a.D=!1,a.H.resolve()))})).da(5),null!==d.initData&&(0<d.sessionContext.ldlDelay||v&&xm(a.keySystem()))&&(z=new _.Zk(function(){!a.j&&
a.N&&(a.g.info("Updating CSL Sessions"),Ro(a.keySystem())?Eo(a,d.keyId,d.periodId,d.initDataType,d.initData,c,!0):a.keySystem().startsWith(_.Rd)&&c.update(_.S.Wa("renew")))}),d.Tc=z,z.da(v?v.delay:d.sessionContext.ldlDelay)))}})},function(n){var p,q,u,v;return _.I(function(z){if(a.j)return z["return"]();p=n.data.headers;q=Bn(p);u=Object.assign({message:_.cb,url:n.data.url,status:n.data.status,response:n.data.response},p?{headers:p}:{},q);v=new _.N(_.O,6,6007,u,n);a.T(v);d&&d.yb&&d.yb.reject(v);d&&
d.La&&d.La.reject(v);_.B(z)})})["catch"](function(n){a.j||(n===ac?a.g.info("Ignore update for closed sessions"):(n=new _.N(_.O,6,6008,{browserError:n.message}),a.T(n),d&&d.yb&&d.yb.reject(n),d&&d.La&&d.La.reject(n)))})};Uo=function(a,b){if(!b||!b.headers)return"";var c=b.headers["x-dt-li"];if(c)try{return JSON.parse(_.S.ba(_.Aj(c))).ti}catch(d){a.g.warn("Unable to parse DRMtoday Request ID",d)}return""};
So=function(a,b){var c=_.S.qc(b.body,!0,!0);if(c.includes("PlayReadyKeyMessage")){a.g.debug("Unwrapping PlayReady request.");c=(new DOMParser).parseFromString(c,"application/xml");for(var d=c.getElementsByTagName("HttpHeader"),e=0;e<d.length;++e)b.headers[d[e].querySelector("name").textContent]=d[e].querySelector(_.Hg).textContent;b.body=_.Aj(c.querySelector("Challenge").textContent).buffer}else a.g.debug("PlayReady request is already unwrapped."),b.headers[za]="text/xml; charset\x3dutf-8"};
To=function(a,b,c){var d,e,f,g,h,l;return _.I(function(m){if(1==m.a)return d=a.C.getConfiguration(),_.y(m,Bo(a,d),2);e=a.keySystem();h=(g=(f=a.h.ab[e])&&f.modifiers)&&g.licenseRequest;l=g&&g.licenseResponse;h?b.requestModifiers.push(function(n){return h(d,n,c)}):e.startsWith(_.Rd)&&b.requestModifiers.push(function(n){return _.cn(n)});l?b.responseModifiers.push(function(n){return l(d,n,c)}):e.startsWith(_.Rd)&&b.responseModifiers.push(function(n){return _.dn(n)});_.B(m)})};
$n=function(a){var b=a.o,c=a.fa;c.clear();b.forEach(function(d,e){return c.set(e,d)});b=Array.from(c.values());b.length&&b.every(function(d){return"expired"===d})&&a.T(new _.N(_.O,6,6014));a.C.Tf(_.M.wg(c));a.w||a.g.info(Ea);a.w=!0;a.D=!1};qo=function(a){var b;return _.I(function(c){if(1==c.a)return _.Wn(he),b=a.ea.map(function(d){return Vo(a,d)}),a.Na=!0,a.ea=[],_.y(c,Promise.all(b),2);_.Wn(ge);_.Xn("drm.onPlay",he,ge);_.B(c)})};Ro=function(a){return!!a.match(/^com\.(microsoft|chromecast)\.playready/)};
_.Ko=function(a){return Ro(a)?_.Td:a};_.Xo=function(a,b){return a.length&&b.length?0<_.Wo(a,b).length:!0};
_.Wo=function(a,b){if(!a.length)return b;if(!b.length)return a;for(var c=[],d=0;d<a.length;d++)for(var e={},f=0;f<b.length;e={md:e.md},f++)if(a[d].keySystem===b[f].keySystem&&a[d].periodId===b[f].periodId){var g=a[d];f=b[f];var h=[];h=h.concat(g.initData||[]);h=h.concat(f.initData||[]);e.md=_.fh(g.keyIds||[]).concat();f.keyIds&&f.keyIds.length&&f.keyIds.forEach(function(l){return function(m){l.md.includes(m)||l.md.push(m)}}(e));c.push({keySystem:g.keySystem,licenseServerUri:g.licenseServerUri||f.licenseServerUri,
distinctiveIdentifierRequired:g.distinctiveIdentifierRequired||f.distinctiveIdentifierRequired,persistentStateRequired:g.persistentStateRequired||f.persistentStateRequired,videoRobustness:g.videoRobustness||f.videoRobustness,audioRobustness:g.audioRobustness||f.audioRobustness,serverCertificate:g.serverCertificate||f.serverCertificate,initData:h,keyIds:e.md,periodId:g.periodId});break}return c};
ao=function(a){a.f.forEach(function(b,c){var d=b.Of,e=c.expiration;isNaN(e)&&(e=Infinity);e!==d&&(a.C.Sf(c.sessionId,e),b.Of=e)})};Mo=function(a){a=a.f.values();return _.lj(a,function(b){return b.loaded})};
io=function(a,b){var c=[];b.forEach(function(f,g){c.push({keySystem:g,licenseServerUri:f.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var d=_.w(a),e=d.next();!e.done;e=d.next())e.value.drmInfos=c};Io=function(a){for(var b=_.w(a.audioCapabilities||[]),c=b.next();!c.done;c=b.next())delete c.value.robustness;a=_.w(a.videoCapabilities||[]);for(b=a.next();!b.done;b=a.next())delete b.value.robustness};
Jo=function(a){return(a.audioCapabilities||[]).some(Yo)||(a.videoCapabilities||[]).some(Yo)};Yo=function(a){return null!=a.robustness&&""!==a.robustness};
Lo=function(a,b,c,d,e){var f={};a=_.w(a);for(var g=a.next();!g.done;f={Ca:f.Ca},g=a.next()){f.Ca=g.value;b.includes(f.Ca.licenseServerUri)||b.push(f.Ca.licenseServerUri);f.Ca.serverCertificate&&(c.some(function(m){return function(n){return _.Dj(n,m.Ca.serverCertificate)}}(f))||c.push(f.Ca.serverCertificate));if(f.Ca.initData){var h=_.w(f.Ca.initData);for(g=h.next();!g.done;g=h.next())g.value.periodId=f.Ca.periodId;h={};var l=_.w(f.Ca.initData);for(g=l.next();!g.done;h={ee:h.ee},g=l.next())h.ee=g.value,
d.some(function(m){return function(n){var p=m.ee;return n.keyId&&n.keyId===p.keyId&&n.periodId===p.periodId?!0:!1}}(h))||d.push(h.ee)}if(f.Ca.keyIds)for(g=0;g<f.Ca.keyIds.length;++g)e.includes(f.Ca.keyIds[g])||e.push(f.Ca.keyIds[g])}};
ko=function(a,b){if(a.keySystem){var c=_.Ko(a.keySystem),d=b[c];c===_.hf&&a.licenseServerUri||(d&&(a.licenseServerUri=d.licenseUrl||""),a.keyIds||(a.keyIds=[]),d&&(a.distinctiveIdentifierRequired||(a.distinctiveIdentifierRequired=d.distinctiveIdentifierRequired),a.persistentStateRequired||(a.persistentStateRequired=d.persistentStateRequired),a.videoRobustness||(a.videoRobustness=d.videoRobustness||""),a.audioRobustness||(a.audioRobustness=d.audioRobustness||""),a.serverCertificate||(a.serverCertificate=
d.serverCertificate||null)))}};co=function(a){var b,c;return _.I(function(d){if(1==d.a)return b=new Promise(function(e){(new _.Zk(e)).da(1)}),_.y(d,Promise.race([a.close().then(function(){return!0}),b.then(function(){return!1})]),2);(c=d.f)||_.Ih("Timeout waiting for session close");_.B(d)})};_.ap=function(a,b){a&&b&&(_.Zo.set(a,b),_.$o.info("Registered TextDisplayerFactory: '"+a+"'"))};
_.bp=function(a,b){var c=b.find(function(d){return(d=_.Zo.get(d))?d.isSupported(a):!1});if(null==c)return _.$o.warn("Subtitles may not work as expected. No compatible text displayer found for this platform."),null;_.$o.info("Chosen the text displayer: "+c);return _.Zo.get(c)};cp=function(){this.a=null;this.f=[]};
_.dp=function(a,b){if(null==a.a)a.a={timestamp:Date.now()/1E3,state:b,duration:0};else{var c=Date.now()/1E3;a.a.duration=c-a.a.timestamp;a.a.state!==b&&(a.f.push(a.a),a.a={timestamp:c,state:b,duration:0})}};ep=function(a,b){var c=0;a.a&&a.a.state===b&&(c+=a.a.duration);for(var d=_.w(a.f),e=d.next();!e.done;e=d.next())e=e.value,c+=e.state===b?e.duration:0;return c};
fp=function(a){function b(f){return{timestamp:f.timestamp,state:f.state,duration:f.duration}}for(var c=[],d=_.w(a.f),e=d.next();!e.done;e=d.next())c.push(b(e.value));a.a&&c.push(b(a.a));return c};gp=function(){this.h=this.f=this.j=null;this.a=[]};hp=function(a){return a.a.map(function(b){return _.M.Oa(b)})};_.ip=function(){this.f=this.o=this.A=this.D=this.j=this.l=this.h=this.w=NaN;this.a=new cp;this.B=new gp};
_.jp=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}};_.kp=function(a){this.f=a;this.a=void 0};mp=function(a,b,c,d){b===HTMLMediaElement.HAVE_NOTHING||a.readyState>=b?d():(b=lp.value().get(b),c.one(a,b,d))};
qp=function(a){this.g=new _.K("clpp.StateManager");this.m=a;this.a=new _.Xh;this.f=_.np;this.A=_.op;this.I=0;this.w=-1;this.L=this.o=this.J=this.B=0;this.j=this.h=this.G=!1;this.H=0;this.l=null;this.K=0;this.N=_.gl();this.D=!1;this.J=Date.now();pp(this)};rp=function(a,b){return Object.keys(b)[a]};
tp=function(a,b){var c={type:_.jg};b===_.od||b===_.nd?(c.reason=a.w,b===_.od?c.timeSinceLastStateChangeMS=a.I:c.bufferedTimeMS=a.B):(a.f===_.sp&&(c.reason=a.w),a.A===_.sp&&(c.reason=a.w,c.bufferedTimeMS=a.B),c.currentState=a.f,c.previousState=a.A,c.timeSinceLastStateChangeMS=a.I);return c};
xp=function(a,b){if(a.f===b)return!1;var c=Date.now(),d=a.f===_.sp;a.A=a.f;a.f=b;a.A===_.up&&(a.J=c,a.o=0);a.o||(a.o=a.J||c);a.I=c-a.o;a.o=c;b===_.sp?(a.L=a.o,a.w=a.h?1:2,a.g.info("Buffering started. Reason: "+rp(a.w-1,_.vp)),c=tp(a,_.od),a.gc(_.od,c)):d&&(a.B=a.o-a.L,a.g.info("Buffering finished. Reason: "+rp(a.w-1,_.vp)+". Buffering time: "+a.B+" ms"),c=tp(a,_.nd),a.gc(_.nd,c));c=rp(a.A,_.wp);d=rp(a.f,_.wp);a.g.info(_.Qb+c+" -\x3e "+d);a.gc(_.jg,tp(a,""));return!0};
Cp=function(a,b){if(a.f===_.yp)a.g.warn("Player is in error state, aborting any further state checks");else{var c=a.m.isPaused(),d=a.m?a.m.isEnded():!1;if(d)a.h||(a.j=!1,xp(a,_.up));else if(b!==_.ug){var e=a.m.getPosition();e=null!==e&&void 0!==e&&0<=e?a.m.getBufferInfo().ya(e,!0):-1;a.H=e;e=a.m.getSurface().getMedia();a.l=e?e.readyState:null;a.K=a.m.getPlaybackRate()||1;e=typeof a.l===_.k&&2>a.l&&2===e.networkState;var f=typeof a.l===_.k&&0>=a.H&&a.f===_.np,g=typeof a.l===_.k&&2>=a.l&&a.j;e=a.h||
f||e||g;!a.N||a.m.isLive()||a.f!==_.sp||e||(f=b===_.ag&&4===a.l,(g=a.A===_.zp)&&!a.D?e=!0:g||a.D||f||(e=!0));f=!1;e?f=xp(a,_.sp):c?f=xp(a,_.Ap):a.G&&(f=xp(a,_.Bp));f&&(a.D=!1);a.g.debug("Video state check for event "+b+":: seeking: "+a.h+", waiting: "+a.j+", playing: "+a.G+", paused: "+c+", readyState: "+a.l+", rate: "+a.K+", buffer: "+a.H+", ended: "+d+". Changed state: "+f+", Current state: "+rp(a.f,_.wp))}}};
pp=function(a){function b(d){return Cp(a,d.type)}a.g.debug("Start watching for video events for "+a.m.namespace());var c=a.m;a.a.on(c,_.se,function(){a.h||(a.j=!1,xp(a,_.up))});a.a.on(c,pd,b);a.a.on(c,_.zf,function(){a.G=!0;a.j=!1;Cp(a,_.zf)});a.a.on(c,_.kf,function(){a.G=!1;a.j=!1;Cp(a,_.kf)});a.a.on(c,_.ug,b);a.a.on(c,_.Qf,b);a.a.on(c,_.ag,function(d){a.h=!1;a.j=!1;Cp(a,d.type)});a.a.on(c,_.bg,function(d){a.h=!0;Cp(a,d.type)});a.a.on(c,hg,b);a.a.on(c,_.Sg,function(){a.j=!0;Cp(a,_.Sg)});a.a.on(c,
_.te,function(d){return a.T(d)});a.a.on(c,_.Ne,b);a.a.on(c,qd,function(){a.D=!0;Cp(a,qd)});a.a.on(c,_.Gg,function(d){a.h=!0;Cp(a,d.type)});a.a.on(c,_.Dg,function(d){a.h=!1;a.j=!1;Cp(a,d.type)})};Dp=function(a){a=(new _.Ji(a)).Ea;if(!a)return null;a=a.toUpperCase();return _.S.endsWith(a,".MPD")?_.Wc:_.S.endsWith(a,".M3U8")?_.Il:_.S.endsWith(a,".MP4")?_.Mg:_.S.endsWith(a,"MANIFEST")||_.S.endsWith(a,".ISM")?_.ad:null};
_.Fp=function(a){var b;gm(a)?b=a.source:b=a;Array.isArray(b)||(b=[b]);b=b.filter(function(e){return typeof e===_.mg||"url"in e});a=[];for(var c=0;c<b.length;c++){var d=Ep(b[c]);d&&a.push(d)}return a};
Ep=function(a){var b=null;_.M.ca(a)&&(a={url:a});typeof a===_.$e&&!Array.isArray(a)&&"url"in a&&(b={url:a.url,type:a.type?a.type:null},_.M.S(a.drmProtected)||typeof a.drmProtected!==_.md||(b.drmProtected=a.drmProtected),_.M.S(a.isLive)||typeof a.isLive!==_.md||(b.isLive=a.isLive),_.M.S(a.name)||typeof a.name!==_.mg||(b.name=a.name),_.M.S(a.Qb)||typeof a.Qb!==_.mg||(b.Qb=a.Qb),_.M.S(a.audioMimeType)||typeof a.audioMimeType!==_.mg||(b.audioMimeType=a.audioMimeType));b&&!b.type&&(b.type=Dp(a.url),b.type?
Gp.debug("Detect media type "+b.type+" for "+a.url):Gp.warn("Unable to detect media type for "+a.url));return b};Hp=function(){_.hm.call(this,Ld);this.w=this.H=!1;this.l=this.A=this.o=this.a=this.j=null;this.h=new _.Xh;this.G=this.B=this.f=this.I=null};
Kp=function(a,b){return a.w?Ip():new Promise(function(c){a.a||(a.h.on(b,_.te,function(){var d=Jp(a);if(d)a.onError(d)}),a.h.on(b,_.Vf,function(){var d=b.videoWidth,e=b.videoHeight,f=a.getTrackManager();f&&0<d&&0<e&&(f.w={width:d,height:e});a.trigger(new _.L(_.ld,{detail:{width:d,height:e}}))}),a.a=b);c()})};Lp=function(a){return a.w?Ip():new Promise(function(b){if(a.a){var c=a.a;a.h.off(c,_.te);a.h.off(c,_.Vf);a.a=null}b()})};
Np=function(a){var b,c,d,e,f;return _.I(function(g){if(1==g.a){if(a.w)return g["return"](Ip());b=a.Z[a.getSourceIndex()];if(!a.configuration.drm||!1===b.drmProtected)return a.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),g["return"](Promise.resolve());c=_.Mp;d=_.Bm(a.configuration.drm);a.log.debug("Drm configuration: ",d);e=a.getNetworkEngine();a.o=new _.bo({wb:e,onError:function(h){return a.onError(h)},Tf:function(){},Sf:function(h,l){a.trigger(new _.L(_.je,{expirationTime:l}))},
onEvent:function(h){h instanceof _.L?a.dispatchEvent(h):a.log.debug(_.jc,h.type)},getConfiguration:function(){return a.getConfiguration()},Yc:function(){return a.Yc()}});a.o.h=d;f={id:0,language:_.yg,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:a.getDuration.bind(a),initSegmentReference:null,Aa:0,mimeType:_.Mg,
codecs:"",encrypted:!0,keyId:null,language:_.yg,originalLanguage:_.yg,label:null,type:c.VIDEO,primary:!1,frameRate:void 0,ko:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,spatialAudio:!1,Sn:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0};return _.y(g,_.ho(a.o,[f]),2)}return 3!=g.a?_.y(g,_.Ao(a.o,a.a),3):g["return"](Promise.resolve())})};
Op=function(a,b){mp(a.a,HTMLMediaElement.HAVE_CURRENT_DATA,a.h,function(){a.getState()!==_.yp&&a.seek(b)["catch"](function(c){a.log.warn("Error while seeking to start position.",c)})})};Jp=function(a){if(null===a.Z||!a.a.error)return null;var b=a.a.error.code;if(1===b)return null;var c=a.a.error.msExtendedCode;c&&(0>c&&(c+=Math.pow(2,32)),c=c.toString(16));return new _.N(_.O,3,3016,{code:b,bo:c,message:a.a.error.message})};Ip=function(){return Promise.reject(new _.N(_.O,7,7E3))};
Pp=function(a){if(a.w)return new _.Sj(Ip(),function(){});var b=a.Z[a.getSourceIndex()],c=a.configuration.startTime||null,d=a.a,e=a.I;c&&Op(a,c);if(d.preload!==_.Ze)a.h.one(d,_.Ne,function(){var g=Date.now()/1E3-e;a.f.A=g;a.log.debug("Time to load: ",g)});d.src=b.url;(_.Yj()||_.Zj())&&d.load();var f=new _.Rj;a.h.one(d,hg,function(){var g=a.getConfiguration().manifest.attemptParameters.timeout||30;a.B||(a.B=(new _.Zk(function(){f.reject(new _.N(_.O,3,3100,{message:"Unable to load media source successfully from "+
b.url,uri:b.url},d.error))})).da(g))});mp(d,a.configuration.forceWaitForTracks?HTMLMediaElement.HAVE_CURRENT_DATA:HTMLMediaElement.HAVE_METADATA,a.h,function(){return f.resolve()});d.error?f.reject(Jp(a)):d.preload===_.Ze&&(a.log.warn('With \x3cvideo preload\x3d"none"\x3e, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way. Please do not use preload\x3d"none" with PRESTOplay for Web Apps.'),f.resolve());a.h.one(d,_.te,function(){f.reject(Jp(a))});
return new _.Sj(f,function(){var g=new _.N(_.O,7,7001);f.reject(g);return Promise.resolve()})};
Qp=function(a,b){mp(b,HTMLMediaElement.HAVE_CURRENT_DATA,a.h,function(){if(a.isLive()&&a.getState()!==_.yp){var c=a.getSeekRange().end,d=a.getPosition();Infinity===c||20>c-d||(a.log.warn("Detected that HLS live stream was not started from close to the live edge. Auto-fixing, seeking to seek range end.(position: "+(d+", seek range end: "+c+")")),a.seek(c)["catch"](function(e){a.log.warn("Error while seeking to seek range edge.",e)}))}})};
Rp=function(a,b){var c=!1;a.h.on(b,_.bg,function(){c=b.paused});a.h.on(b,_.ag,function(){.2>b.duration-b.currentTime&&b.paused&&!c&&(a.log.warn("Player was auto-paused during seek to the end, auto-resuming."),b.play())})};Sp=function(){};_.Vp=function(a){a&&(0<=Tp.indexOf(a)?Up.warn("Factory '"+a.name()+"' is already registered"):(Tp.push(a),Up.info("Factory "+a.name()+"' has been registered.")))};
Xp=function(a,b){var c=Tp.find(function(d){return d.isSupported(a,b)});c||(c=new Wp);Up.info("Chosen ads: "+c.name());return c};_.Yp=function(a,b){var c=document.createElement(a),d;for(d in b){var e=b[d];null===e||void 0===e?c.setAttribute(d,""):c.setAttribute(d,e)}return c};_.Zp=function(a,b){a.classList.add(b)};_.$p=function(a,b){if(a&&typeof b===_.$e)for(var c in b)a.style[c]=b[c]};_.aq=function(a){return document.createElement(a)};bq=function(){this.a=null;this.h=new Set;this.f=null;this.set(null)};
cq=function(a,b){a.a&&0!==b.length&&(a.a.classList.add(b),a.h.add(b))};dq=function(a,b){var c=new MutationObserver(function(){var d=Array.from(a.h.values());oi(Array.from(b.classList),Array.from(d))||b.classList.add.apply(b.classList,_.fh(d))});c.observe(b,{attributes:!0,attributeFilter:["class"]});return c};
hq=function(a,b){this.g=new _.K("clpp.PlayerSurface");this.w=_.M.pa(eq,b);this.f=new bq;this.h=null;this.a=new bq;this.l=fq;fq+=1;this.o="clpp-video-"+this.l;this.j=new _.Xh;if(null==a)throw new _.N(_.O,7,7102,"No Media element was provided");if(a instanceof Element)var c=a;else if(c=document.getElementById(a),!c)throw new _.N(_.O,7,7004,"Media element not found");var d=this.w;this.g.debug("Initializing Player Surface on ",c);if("cast-media-player"===c.tagName.toLowerCase())this.h=c;else{if(!(c instanceof
HTMLMediaElement))throw new _.N(_.O,7,7005,"Media element is not instance of HTMLMediaElement");if(!c.hasAttribute("crossorigin")){var e=d.crossorigin;this.g.info("Setting media elements crossorigin to "+e);c.setAttribute("crossorigin",e)}this.f.set(c);if(d.disableContainer)e=null;else if(d.containerEl){if(c.parentNode!==d.containerEl)throw new _.N(_.O,7,7006,"Container element is not a direct parent of media element");e=d.containerEl}else{e=document.createElement(_.be);c.parentNode?c.parentNode.replaceChild(e,
c):this.g.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!");for(var f=[],g=0;g<c.classList.length;g++)f.push(c.classList[g]);f=_.w(f);for(g=f.next();!g.done;g=f.next())g=g.value,c.classList.remove(g),_.Zp(e,g);e.style.cssText=c.style.cssText;c.removeAttribute(_.og);f=_.w([_.Zg,_.xe]);for(g=f.next();!g.done;g=f.next()){g=g.value;var h=c.getAttribute(g);h=parseInt(h,10);isNaN(h)||(e.style[g]=h+_.Pf);_.Yj()||c.removeAttribute(g)}e.appendChild(c)}e&&
(this.a.set(e),cq(this.a,"clpp-container"),cq(this.a,this.o),cq(this.f,_.Ad),cq(this.f,"clpp-video"));d.webOSStartupPatch&&gq(this,c,e)}};gq=function(a,b,c){(_.Zj()&&53===_.dl().major||_.Zj()&&68===_.dl().major||_.el())&&!b.hasAttribute(Xd)&&(b.style.opacity="0",b.setAttribute(Xd,""),a.j.one(b,oe,function(){b.removeAttribute(Xd);b.style.opacity="1";c&&(c.style.opacity="1")}))};jq=function(a){this.m=a;this.j=this.m.getNetworkEngine();this.a=new _.Xh;this.h=null;this.f=!0;iq(this)};
iq=function(a){a.a.on(window,"offline",function(){kq(a,!1)});a.a.on(window,"online",function(){a.f||lq(a)});a.a.on(a.m,hg,function(){return mq(a)});a.a.on(a.m,"suspend",function(){return mq(a)});a.a.on(a.m,_.Sg,function(){return mq(a)});a.a.on(a.m,_.zf,function(){a.f||lq(a)});a.a.on(a.m,_.Of,function(){a.f||lq(a)});a.a.on(a.m,_.jg,function(){switch(a.m.getState()){case _.sp:mq(a);break;default:mq(a)}})};lq=function(a){a.m.getConfiguration().connectivityCheck&&(nq(a),a.h=(new _.Zk(function(){return oq(a)})).da(5))};
mq=function(a){a.f&&lq(a)};nq=function(a){a.h&&(a.h.stop(),a.h=null)};oq=function(a){var b,c;return _.I(function(d){if(1==d.a)return(b=a.m.getConfiguration().connectivityCheck)&&a.m?_.y(d,gk(a.j,b.url,b.attemptParameters,b.method),2):d["return"]();c=d.f;kq(a,c);_.B(d)})};kq=function(a,b){nq(a);a.f!==b&&(a.f=b,a.m&&a.m.getConfiguration().connectivityCheck&&a.m.trigger(new _.L(ff,{online:a.f})))};qq=function(){for(var a=0;a<pq.length;++a)pq[a].Qc()};
_.rq=function(a,b){b=b||0;for(var c={priority:b,Qc:a},d=0;d<pq.length;d++)if(pq[d].priority<b){pq.splice(d,0,c);return}pq.push(c)};sq=function(a,b){a.onError(b);a.release().then(function(){return a.destroy()})};tq=function(a,b,c){var d=_.S.ba;this.h=a;this.f=b;JSON.parse(d(_.Aj(a)));this.a=JSON.parse(d(_.Aj(b)));this.j=c};
vq=function(a){var b=uq,c=_.S.Wa,d={kty:"RSA",n:b.n,e:b.e},e=a.h+"."+a.f,f=a.j;return new Promise(function(g,h){try{var l=window&&window.crypto&&window.crypto.subtle}catch(n){}if(l){var m={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};l.importKey("jwk",d,m,!1,["verify"]).then(function(n){var p=c(e),q=_.Aj(f);return l.verify(m,n,q.buffer,p.buffer)}).then(function(n){n?g():h(new _.Ei("Signature Verification failed",xg))})["catch"](h)}else g()})};wq=function(a){this.f=a;this.a=null;this.g=new _.K("clpp.utils.LicenseKey")};
xq=function(a){if(!a.a){var b=a.f.split(".");if(3!==b.length)throw Error("Expected to find 3 data sections in JWT raw data");b=new tq(b[0],b[1],b[2]);a.a=b}return a.a};
yq=function(a){var b,c,d;return _.I(function(e){if(1==e.a)return b=xq(a),_.D(e,2),_.y(e,vq(b),4);if(2!=e.a)return _.th(e,0);if((c=_.E(e))&&c.code===xg)throw c;var f=window.location.href,g=new _.Ji(f);d=g.ib||g.Pa?g:new _.Ji("//"+f);if(/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(d.Pa))return e["return"]();throw c;})};
zq=function(a){switch((a.Z[0]||{src:"",type:""}).type){case _.Wc:a="dash";break;case _.ad:a="ss";break;case _.Il:a="hls";break;case _.Mg:a="mp4";break;default:a=""}return a};Aq=function(a){return a.viewerId?a.viewerId:(a=a.drm||null)&&a.customData&&a.customData.userId?""+a.customData.userId:""};Bq=function(a){return(a=a.drm||null)&&a.customData&&a.customData.assetId?""+a.customData.assetId:""};Cq=function(a){return(a=a.drm||null)&&a.customData&&a.customData.sessionId?""+a.customData.sessionId:""};
Eq=function(a){var b=a.configuration,c="no";b.drm&&!_.M.la(b.drm,{})&&(c="custom",b.drm.env&&b.drm.env.toLowerCase().startsWith(ne)||Dq(a).endsWith("drmtoday.com"))&&(c=ne);return c};Fq=function(a){a=a.drmInfo;var b="";if(a)switch(a.keySystem){case _.Vd:b="wv";break;case _.Td:b="pr";break;case _.Rd:b="fps"}return b};Gq=function(a){a=a.drmInfo;var b=!1;a&&(b=a.persistentStateRequired);return b.toString()};
Hq=function(a){a=a.drmInfo;var b="";if(a)switch(a.videoRobustness){case jb:case hb:b="L1";break;case ib:b="L2";break;case _.$b:case _.Zb:b="L3"}return b};Dq=function(a){a=a.drmInfo;return(new _.Ji(a&&a.licenseServerUri||"")).Pa};
Kq=function(a,b){var c="ie"===_.ak().browser,d=b.configuration,e=_.fh(Array.from(_.im.keys())).concat(_.fh(b.li));d={"CL-KEY":a.f,"CL-LOCATION":window.location.href,"CL-SDK-VERSION":_.ja,"CL-USER-ID":Aq(d),"CL-ASSET-ID":Bq(d),"CL-SESSION-ID":Cq(d),"CL-PLAYBACK-TYPE":b.isLive?Iq:Jq,"CL-CONTENT-TYPE":zq(b),"CL-PLUGINS":e.join(" "),"CL-DRM":Eq(b),"CL-DRM-CDM":Fq(b),"CL-DRM-SEC-LEVEL":Hq(b),"CL-DRM-OFFLINE":Gq(b),"CL-DRM-IP":Dq(b)};c&&(e=window.localStorage.getItem("cl_et"))&&(d["CL-ETAG"]=e);e=_.Mj(["https://downloads.castlabs.com/r/register/"]);
e.method="GET";e.headers=d;return(new _.dk).fetch(e).P.then(function(f){200===f.status&&c&&window.localStorage.setItem("cl_et",f.headers.etag);return Promise.resolve()})["catch"](function(f){a:{var g=xq(a);f=f.data;var h=f.status;if(g.a&&g.a.ilv)f=Promise.resolve();else{switch(h){case 403:case 404:g=7101;var l="castLabs Player license is invalid";if(403===h){h=l;l="";try{l=JSON.parse(decodeURIComponent(f.responseText)).message}catch(m){}f=h+(": "+l)}else f=l+"!";l=f;break;case 412:g=7103;l="License requires a viewer ID. It should be supplied either via the `viewerId` config or in case of DRMtoday via the `drm.customData.userID` config.";
break;default:f=Promise.resolve();break a}a.g.error(wb+l);f=Promise.reject(new _.N(_.O,7,g,l))}}return f})};
X=function(a,b,c){_.Yl.call(this);var d=this;qq();this.g=new _.K("clpp.Player");if(!a)throw new _.N(_.O,7,7102);this.ea=new _.Xh;this.f=this.A=b||_.dm();this.l=null;void 0===this.f.license&&(this.f.license=bm,this.g.warn("You are using the embedded demo license!"));if(!this.f.license)throw this.g.error("You provided null or empty string as your license. Please check your license configuration."),new _.N(_.O,7,7101,"No license provided in configuration!");this.h=new hq(a,c);this.a=this.B=null;this.G=
new _.dk;this.j=null;this.$=[];this.aa=!0;this.I={};this.fa=null;this.N=!0;this.R=this.L=!1;this.J=this.Wc=null;this.xf=!1;this.ja=new jq(this);this.on(_.jg,function(){d.getState()===_.yp&&(d.a?d.a.unload():Promise.resolve())});this.on(_.Sc,this.Sh.bind(this));this.on(_.Rc,this.Sh.bind(this));Lq(this,this.f.license);this.h.getMedia()&&(a=this.h.getMedia(),a.hasAttribute("autoplay")&&(a.removeAttribute("autoplay"),this.g.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),
void 0===this.f.autoplay&&(this.f.autoplay=!0,this.g.debug("Setting autoplay in configuration since it was specified in the video element"))));a=[];b=_.w(Mq);for(c=b.next();!c.done;c=b.next()){c=c.value;try{var e=c.create(this.f);e&&a.push(e)}catch(f){this.g.error("Error while creating player plugin",f)}}Nq(this,a);this.K=_.qa;om(this)};
_.Oq=function(a,b){null!=b&&b===a.a?a.a.forwardEventsTo(a):(a.a&&(a.a.stopForwardingEventsTo(a),a.a.destroy(),a.a=null),b&&(b.init(a.h,a.A),b.setNetworkEngine(a.getNetworkEngine()),b.forwardEventsTo(a),a.a=b))};Lq=function(a,b){a.B=new wq(b);yq(a.B)["catch"](function(c){setTimeout(function(){a.g.error(wb+c);a.trigger(new _.L(_.te,{detail:new _.N(_.O,7,7101)}));a.destroy()},1E3)})};
Pq=function(a,b){var c,d;_.I(function(e){if(1==e.a)return a.h.getMedia()||a.h.getCastElement(),a.B||(a.B=new wq(a.f.license)),_.D(e,2),a.g.debug("Verifying license remotely"),_.y(e,Kq(a.B,b),4);if(2!=e.a)return a.g.debug("License verified remotely"),_.th(e,0);c=_.E(e);a.g.debug("License rejected by remote",c);d={release:a.release.bind(a),destroy:a.destroy.bind(a),onError:a.onError.bind(a)};setTimeout(sq,1E3,d,c);_.B(e)})};
Nq=function(a,b){a.$=b;for(var c=_.w(a.$),d=c.next();!d.done;d=c.next()){d=d.value;var e=d.id();e&&(a.I[e]=d)}a.yc("onPlayerCreated")};
Qq=function(a){var b,c;return _.I(function(d){if(1==d.a){if(a.N)return a.g.debug("The player is already released. No-op"),d["return"](new Promise(function(e){return e()}));a.ea.off(document,Qg);a.trigger(new _.L(_.Sf));a.h&&a.h.release();return a.j?_.y(d,a.j.dispose(),3):d.F(2)}2!=d.a&&(a.j=null);if(a.a)return b=null,c=a.a.on(_.jg,function(e){b=e}),d["return"](a.yc(_.df).then(function(){a.a.stopForwardingEventsTo(a);return Promise.all([a.a.release(),a.G.release()])}).then(function(){a.g.debug("Releasing player completed");
b&&(a.g.debug("Re-post state change event after release"),a.trigger(b))})["finally"](function(){a.a.off(_.jg,c);a.trigger(new _.L(Rf))}));a.trigger(new _.L(Rf));return d["return"](new Promise(function(e){return e()}))})};Tq=function(a,b,c){return a.K===_.Lb?Rq(b,c):Sq(a,b,c)};Sq=function(a,b,c){var d;return _.I(function(e){if((d=2===(a.a?a.a.canPlay(b[0],c):0))&&!a.R)return e["return"]({player:a.a,sourceIndex:0});a.R=!1;return e["return"](Uq(a,b,c))})};
Rq=function(a,b){var c=Th(function(d){return d.f(_.Lb)&&a.every(function(e){return 2===d.canPlay(e,b)})});if(!c)throw new _.N(_.O,7,7003,"No compatible player implementing playlist mode found!");return Promise.resolve({player:c.create(),sourceIndex:0})};
Uq=function(a,b,c){return new Promise(function(d,e){var f;if(b){for(var g=f=null,h=0;h<b.length;h++);h=Object.values(_.Qh);for(var l=0;l<b.length;l++)for(var m=0;m<h.length;m++){var n={Vb:h[m],confidence:h[m].canPlay(b[l],c)};if(null===f||f.confidence<n.confidence)f=n,g=l}f&&typeof g===_.k&&0<f.confidence?(_.Rh.debug("Player Factory '"+f.Vb.a()+"' can play",b[g]),f=new Ph(f.Vb,g)):(_.Rh.error("No compatible Player Factory found for sources:",b),f=null)}else f=null;f?(g=f.Vb.create(),d({player:g,sourceIndex:f.sourceIndex})):
(f=new _.L(_.te,{detail:new _.N(_.O,7,7003)}),a.trigger(f),e(f))})};Wq=function(a){var b;return _.I(function(c){if(1==c.a){if(!a.a)return a.g.warn(Ob),c["return"]();b=a.a;if(!b.Kg)return a.g.warn(Tb),c["return"]();a.trigger(new _.L(Oe));return _.y(c,b.Kg(),2)}return _.y(c,_.Vq(a),0)})};
_.Yq=function(a,b,c){var d,e;return _.I(function(f){switch(f.a){case 1:if(a.L)throw new _.N(_.O,7,7E3,"Player is already destroyed.");if(!a.h)throw new _.N(_.O,7,7E3,"No surface associated with this player!");_.Wn(uf);return _.y(f,a.release(),2);case 2:d=c||_.Fp(b);if(!b||0===d.length)throw new _.N(_.O,7,7003,Fb);a.fa=d;a.f=_.fm(a.A,b,{source:d});a.N=!1;return _.y(f,Tq(a,d,a.f),3);case 3:e=f.f;_.Oq(a,e.player);a.a&&a.a.setSourceIndex(e.sourceIndex);Xq(a);a.a&&a.a.setCdnErrorCallback(a.J);a.j=Xp(a,
a.f).create(a);if(a.f.pauseWhenInBackground)a.ea.on(document,Qg,function(){document.hidden?(a.g.debug("Player is hidden: pausing..."),a.pause()):(a.g.debug("Player is visible: resuming..."),a.play())});pm(a);return _.y(f,a.yc("onContentWillLoad",a.f.source[e.sourceIndex]),4);case 4:_.Wn(tf),_.Xn("player.beforeLoad",uf,tf),_.B(f)}})};_.Zq=function(a){return _.I(function(b){a.h.getMedia()||a.h.getCastElement();a.trigger(new _.L(Oe));return _.y(b,Promise.all([a.a.load(a.f),a.j.load()]),0)})};
ar=function(a){var b,c,d,e;_.I(function(f){if(1==f.a){b=[];if(a.f.remoteTextTracks)for(c=_.w(a.f.remoteTextTracks),d=c.next();!d.done;d=c.next())e=d.value,b.push(a.getTrackManager().addTextTrack(e));return _.y(f,Promise.all(b),2)}$q(a);_.B(f)})};
$q=function(a){var b=_.mi(a.f.preferredTextLanguage).filter(function(f){return f}),c=a.f.preferForcedSubtitles,d=a.getTrackManager().ia().filter(function(f){return c?f.kind===_.ue:f.kind!==_.ue});if(0===d.length)c&&a.g.warn("Forced subtitles are configured to be preferred, but no forced subtitles are available.");else{if(c&&0===b.length){var e=a.getTrackManager().ma();e&&e.language?(e=_.gj(e.language||""),b.push(e)):(e=a.getTrackManager().Ka())&&e.language&&(e=_.gj(e.language||""),b.push(e));0===
b.length&&a.g.warn("Forced subtitles are configured to be preferred, but neither the preferred text language is set, nor the audio or video track language is available to determine which forced subtitles language to select.")}b.some(function(f){var g=_.gj(f);if(f=d.find(function(h){h=_.gj(h.language||"");return _.hj(h,g)}))return a.getTrackManager().Ma(f),!0;c&&a.g.warn("Forced subtitles are configured to be preferred, but no forced subtitles match the preferred languages: ",b);return!1})}};
_.Vq=function(a){return _.I(function(b){if(1==b.a)return _.Wn(qf),Pq(a,{configuration:a.getConfiguration(),Z:a.xh(),drmInfo:a.getDrmInfo(),li:Object.keys(a.I),isLive:a.isLive()}),ar(a),qm(),_.y(b,a.yc("onContentLoaded"),2);if(3!=b.a)return a.f.autoplay?_.y(b,a.play(),3):b.F(3);_.Wn(pf);_.Xn("player.afterLoad",qf,pf);_.B(b)})};Xq=function(a){a.a&&a.a.setDrmCustomDataModifier(function(b){return _.I(function(c){if(!a.Wc||!a.xf)return c.F(0);a.xf=!1;return _.y(c,a.Wc(b),0)})})};
_.br=function(a){a&&(0<=Mq.indexOf(a)||Mq.push(a))};cr=function(a,b,c){X.call(this,a,b,c);a={manifest:{timeline:{version:2},keepTimelineLive:!0},streaming:{preferNativeHlsOnSafari:!1,enableLiveEdgeChasing:!1,startAtSegmentBoundary:!1}};this.A=_.M.pa(this.A,a);this.f=_.M.pa(this.f,a);this.D=0;this.o=[];this.V=!1;this.w=null;this.H=[]};dr=function(a){a.H.forEach(function(b){return b()});a.H=[]};
er=function(a,b){function c(f){a.D=a.o.findIndex(function(g){return g.id===f.id})}a.addEventListener(_.Yf,c);a.H.push(function(){a.removeEventListener(_.Yf,c)});if(b.endTime){var d=b.endTime,e=function(){a.getPosition()>=d&&(a.removeEventListener(_.ug,e),a.g.info("Playlist end time reached. Stopping playback."),a.trigger(new _.L(_.Xf)),a.pause())};a.addEventListener(_.ug,e);a.H.push(function(){a.removeEventListener(_.ug,e)})}};
hr=function(a,b){var c,d;return _.I(function(e){switch(e.a){case 1:return _.D(e,2),_.Wn(yf),a.K=_.Lb,a.aa=!1,c=b.slice(1).map(function(f){return{config:f,Z:_.Fp(f)}}),_.y(e,_.Yq(a,b[0]),4);case 4:return c.forEach(function(f){fr(a,f.config,f.Z)}),a.trigger(new _.L(Oe)),_.y(e,a.a.setupPlaylist(b),5);case 5:return _.y(e,_.Vq(a),6);case 6:c.forEach(function(f){gr(a,f.config,f.Z)});_.Wn(xf);_.Xn("player.setupPlaylist",yf,xf);_.th(e,0);break;case 2:d=_.E(e);if(a.l)throw a.g.info(xb),new _.N(_.O,7,7E3);
throw d;}})};ir=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return _.D(e,2),_.Wn(sf),c=_.Fp(b),fr(a,b,c),_.y(e,a.a.appendLoad(b),4);if(2!=e.a)return gr(a,b,c),_.Wn(rf),_.Xn("player.appendLoad",sf,rf),_.th(e,0);d=_.E(e);if(a.l)throw a.g.info(xb),new _.N(_.O,7,7E3,{id:b.id});throw d;})};gr=function(a,b,c){Pq(a,{configuration:b,Z:c,drmInfo:a.getDrmInfo(),li:Object.keys(a.I),isLive:c[0].isLive})};
fr=function(a,b,c){if(0===c.length)throw new _.N(_.O,7,7003,{message:Fb,id:b.id});if(1<c.length)throw new _.N(_.O,7,7003,{message:"Multiple sources not supported!",id:b.id,source:c});if(2!==(a.a?a.a.canPlay(c[0],a.f):0))throw new _.N(_.O,7,7003,{message:"Source not supported by the current player!",id:b.id,source:c[0]});};jr=function(a){this.a=a.map(function(b){return{videoId:b.getSurface().getMedia().id,player:b,ke:!0,ready:Promise.resolve()}});this.g=new _.K("clpp.plist.PlayerPool")};
mr=function(a){_.Yl.call(this);var b=this;this.f=_.M.pa({transition:_.kf,preloadMedia:!1},a);this.j=[];this.a=0;var c=kr(a.anchorId,this.f.config);this.w=new jr(c);this.h=null;this.l=!1;this.o=new Map;this.A=a.toggleVisible;this.g=new _.K(Md);this.w.a.forEach(function(d){return lr(b,d.player,!1)})};or=function(a){return Promise.all(Array.from(a.o.keys()).map(function(b){return nr(a,b)}))};
nr=function(a,b){var c;return _.I(function(d){if(1==d.a){c=a.o.get(b);if(!c)return d.F(0);a.g.info("Stop preloading item (index: "+b+")");return c.player?_.y(d,pr(a,c),3):d.F(3)}a.o["delete"](b);_.B(d)})};rr=function(a,b){return _.I(function(c){if(1==c.a)return a.g.info("Stop current playback (index: "+b.index+")"),b.player.pause(),lr(a,b.player,!1),_.y(c,pr(a,b),2);b.player=null;b.videoEl=null;b.role=qr;_.B(c)})};
pr=function(a,b){return _.I(function(c){b.disposers.forEach(function(d){return d()});b.disposers=[];return b.player?_.y(c,a.w.release(b.player),0):c.F(0)})};ur=function(a,b){var c;return _.I(function(d){if(1==d.a)return _.y(d,a.w.get(),2);if(3!=d.a)return c=d.f,a.h=b,b.role=sr,a.h.player=c,a.h.videoEl=c.getSurface().getMedia(),lr(a,c,!0),_.y(d,c.load(b.config),3);tr(a,b);return b.config.autoplay?d.F(0):_.y(d,c.play(),0)})};
vr=function(a,b){return _.I(function(c){switch(c.a){case 1:if(!b.player)return c["return"]();if(b.state!==Kf){c.F(2);break}a.g.info(qc);_.D(c,3);return _.y(c,b.preloadPromise,5);case 5:_.th(c,2);break;case 3:_.E(c);case 2:a.h=b;b.role=sr;lr(a,b.player,!0);if(b.state===Jf)return _.Wn(Df),a.f.preloadMedia?_.y(c,b.player.play(),11):_.y(c,Wq(b.player),11);if(b.state!==If){c.F(7);break}return _.y(c,b.player.load(b.config),7);case 11:_.Wn(Cf),_.Xn("playlist.next",Df,Cf);case 7:if(tr(a,b),b.config.autoplay)c.F(0);
else return _.y(c,b.player.play(),0)}})};tr=function(a,b){if(a.f.autoplayNext){var c=function(){a.g.info("Automatically transition to next item");a.ki()};b.player.on(_.se,c);var d=b.player;b.disposers.push(function(){d.off(_.se,c)})}};xr=function(a){var b;return _.I(function(c){b=a.a+1;a.g.info("Preload following item (index: "+b+")");return _.y(c,wr(a,b),0)})};yr=function(a){var b;return _.I(function(c){b=a.a-1;a.g.info("Preload preceding item (index: "+b+")");return _.y(c,wr(a,b),0)})};
zr=function(a){var b;_.I(function(c){if(0===a.a)return _.y(c,xr(a),0);if(a.a===a.j.length-1)return _.y(c,yr(a),0);b=[a.a-1,a.a+1];a.g.info("Preload items (indices: "+b+")");return _.y(c,Promise.all(b.map(function(d){return wr(a,d)})),0)})};
wr=function(a,b){var c,d,e;return _.I(function(f){switch(f.a){case 1:return _.y(f,a.w.get(),2);case 2:return c=f.f,d=a.j[b],d.player=c,d.videoEl=c.getSurface().getMedia(),d.role=qr,d.state=Kf,a.trigger(new _.L(Ag)),_.D(f,3),a.o.set(b,d),a.f.preloadMedia?(d.config.autoplay&&(a.g.warn("Autoplay should not be used for preloaded streams. Force disabling autoplay (index: "+(b+")")),d.config.autoplay=!1),d.preloadPromise=c.load(d.config)):d.preloadPromise=c.preload(d.config),_.y(f,d.preloadPromise,5);case 5:d.state=
Jf;a.trigger(new _.L(Ag));_.th(f,0);break;case 3:e=_.E(f),7001===e.code?(a.g.info("Preload aborted (index: "+b+")"),d.state=Hf):(a.g.warn("Preload failed (index: "+b+")",e),a.trigger(new _.L(_.te,{detail:e})),d.state=If),a.trigger(new _.L(Ag)),_.B(f)}})};lr=function(a,b,c){var d=b.getSurface().getMedia();b=b.getSurface().getUniqueCssClass();d&&(c?(a.g.info(cc+b),d.classList.add(Fd)):(a.g.info(lb+b),d.classList.remove(Fd)),a.A&&a.A(d,c))};
Ar=function(a){var b;return _.I(function(c){if(1==c.a)return _.y(c,a.w.destroy(),2);b=document.getElementById(a.f.anchorId);if(!b)return c["return"]();b.classList.remove(Cd);b.innerHTML="";_.B(c)})};
kr=function(a,b){var c=document.getElementById(a);if(!c)throw Error("Anchor element not found");c.classList.add(Cd);return Array.from({length:3}).map(function(){var d=document.createElement(_.r);d.classList.add(Ed);var e=document.createElement(_.be);e.classList.add(Dd);e.appendChild(d);c.appendChild(e);return new X(d,b)})};
_.Cr=function(a){if(Br.has(a))return Br.get(a);if(window.ManagedMediaSource){var b=ManagedMediaSource.isTypeSupported(a);Br.set(a,b);return b}return window.MediaSource?(b=MediaSource.isTypeSupported(a),Br.set(a,b),b):!1};Dr=function(a){this.h=a;this.f={keepOriginalTimestamps:!0,remux:!1};this.a=new muxjs.mp4.Transmuxer(this.f)};
Er=function(a,b){var c=b.replace(/mp2t/i,"mp4");a===_.cd&&(c=c.replace(_.r,_.cd));var d=/avc1\.(66|77|100)\.(\d+)/.exec(c);if(d){var e="avc1.",f=d[1],g=Number(d[2]);e=("66"===f?e+"4200":"77"===f?e+"4d00":e+"6400")+(g>>4).toString(16);e+=(g&15).toString(16);c=c.replace(d[0],e)}return c};
Hr=function(a){_.Yl.call(this);var b=this;this.f=_.M.pa({Fl:2},a);this.l=[];var c=Fr(a.anchorEl,this.f.Fl+1,this.f.xk);this.o=new jr(c);this.a=null;this.j=!1;this.h=new Map;this.A=!1;this.w=a.toggleVisible;this.g=new _.K("clpp.interstitial.MultiController");this.o.a.forEach(function(d){return Gr(b,d.player,!1)})};
Ir=function(a){var b;return _.I(function(c){if(1==c.a)return(b=a.a)?"loaded"===b.state?c.F(2):_.y(c,b.Wd,2):c["return"]();if(4!=c.a)return _.y(c,b.player.play(),4);b.state=_.zf;b.xc&&b.xc();_.B(c)})};Jr=function(a,b){a.A=b;var c=a.a&&a.a.player;c&&Gr(a,c,!b)};
Kr=function(a,b){var c=b.transition;if(c){if(c.Ya){var d=c.Ya,e=function(){a.g.info("Transition onEnded to (ID: "+d+")");a.play(d)};b.player.on(_.se,e);b.disposers.push(function(){b.player.off(_.se,e)})}if(c.Uh){var f=function(l){var m=c.Uh.find(function(n){return n.cueId===l.detail.id});m&&(a.g.info("Transition onCue to (ID: "+m.itemId+")"),a.play(m.itemId))};b.player.on(_.ki,f);b.disposers.push(function(){b.player.off(_.ki,f)})}if(c.$h){var g=c.$h,h=function(){b.player.getPosition()>=g.position&&
(a.g.info("Transition onPosition to (ID: "+g.itemId+")"),a.play(g.itemId))};b.player.on(_.ug,h);b.disposers.push(function(){b.player.off(_.ug,h)})}}};Nr=function(a){a.a&&(a.a.disposers.forEach(function(b){return b()}),a.a.disposers=[],Kr(a,a.a),Lr(a),Mr(a,a.a.next))};Lr=function(a){return Promise.all(Array.from(a.h.keys()).map(function(b){return Or(a,b)}))};
Or=function(a,b){var c;return _.I(function(d){if(1==d.a){c=a.h.get(b);if(!c)return d.F(0);a.g.info("Stop preloading item (ID: "+b+")");return c.player?_.y(d,a.o.release(c.player),3):d.F(3)}a.h["delete"](b);_.B(d)})};Qr=function(a,b){var c;return _.I(function(d){if(1==d.a)return a.g.info("Stop current playback (ID: "+b.id+")"),b.disposers.forEach(function(e){return e()}),b.disposers=[],c=b.player,b.player=null,b.videoEl=null,b.role=Pr,c.pause(),_.y(d,a.o.release(c),2);Gr(a,c,!1);_.B(d)})};
Sr=function(a,b){return _.I(function(c){if(1==c.a)return _.y(c,Rr(a,b),2);if(3!=c.a)return b.config.autoplay?c.F(3):_.y(c,b.player.play(),3);b.state=_.zf;_.B(c)})};Rr=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return _.y(e,a.o.get(),2);if(3!=e.a)return c=e.f,a.a=b,b.role=Tr,a.a.player=c,a.a.videoEl=c.getSurface().getMedia(),Gr(a,c,!0),b.primary&&a.trigger(new _.L(Mf,{detail:{player:c}})),b.state="loading",d=b,_.y(e,c.load(b.config),3);d.Wd=e.f;b.state="loaded";_.B(e)})};
Ur=function(a,b){return _.I(function(c){switch(c.a){case 1:if(!b.player)return c["return"]();if(b.state!==Kf){c.F(2);break}a.g.info(qc);_.D(c,3);return _.y(c,b.preloadPromise,5);case 5:_.th(c,2);break;case 3:_.E(c);case 2:a.a=b;b.role=Tr;Gr(a,b.player,!0);b.state="loading";if(b.state===Jf)return _.y(c,b.player.play(),7);if(b.state!==If){c.F(7);break}return _.y(c,b.player.load(b.config),7);case 7:if(b.config.autoplay){c.F(11);break}return _.y(c,b.player.play(),11);case 11:b.state=_.zf,_.B(c)}})};
Mr=function(a,b){var c;_.I(function(d){if(0===b.length)return d["return"]();a.g.info("Preload items (IDs: "+b+")");c=a.l.filter(function(e){return b.includes(e.id)})||[];return _.y(d,Promise.all(c.map(function(e){return Vr(a,e)})),0)})};
Vr=function(a,b){var c,d,e;return _.I(function(f){switch(f.a){case 1:return c=b.id,_.y(f,a.o.get(),2);case 2:return d=f.f,b.player=d,b.videoEl=d.getSurface().getMedia(),b.role=Pr,b.state=Kf,a.trigger(new _.L(Ag)),_.D(f,3),a.h.set(c,b),b.config.autoplay&&(a.g.warn("Autoplay should not be used for preloaded streams. Force disabling autoplay (ID: "+(c+")")),b.config.autoplay=!1),b.primary&&a.trigger(new _.L(Mf,{detail:{player:d}})),b.preloadPromise=d.load(b.config),_.y(f,b.preloadPromise,5);case 5:b.state=
Jf;a.trigger(new _.L(Ag));_.th(f,0);break;case 3:e=_.E(f),7001===e.code?(a.g.info("Preload aborted (ID: "+c+")"),b.state=Hf):(a.g.warn("Preload failed (ID: "+c+")",e),a.trigger(new _.L(_.te,{detail:e})),b.state=If),a.trigger(new _.L(Ag)),_.B(f)}})};
Gr=function(a,b,c){if(!a.A){var d=b.getSurface().getMedia();b=b.getSurface().getUniqueCssClass();d&&(c?(a.g.info(cc+b),d.classList.add(Fd),d.classList.remove("clpp-hide")):(a.g.info(lb+b),d.classList.remove(Fd),d.classList.add("clpp-hide")),a.w&&a.w(d,c))}};Wr=function(a){var b;return _.I(function(c){if(1==c.a)return _.y(c,a.o.destroy(),2);b=a.f.anchorEl;if(!b)return c["return"]();b.classList.remove(Cd);b.innerHTML="";_.B(c)})};
Fr=function(a,b,c){a.classList.add(Cd);return Array.from({length:b}).map(function(){var d=document.createElement(_.r);d.classList.add(Ed);var e=document.createElement(_.be);e.classList.add(Dd);e.appendChild(d);a.appendChild(e);return new X(d,c)})};
bs=function(a){_.Yl.call(this);var b=this;this.l=new Xr;this.f={prerollMarginSec:.5,resolutionOffsetSec:35,yospace:{enabled:!1}};this.f=_.M.pa(this.f,a);this.g=new _.K(Kd);this.o=null;this.a=new Hr({xk:this.f.config,anchorEl:a.anchorEl,preloadMedia:!0});Jr(this.a,!0);this.a.on(De,function(c){var d=c.detail;d.primary&&(b.o=d.player.getDuration());b.trigger(new _.L(Yr,c));Zr(b);d.primary&&$r(b,d.player)});this.j=[];this.a.on(Mf,function(c){b.trigger(new _.L(as,{detail:{player:c.detail.player}}))});
this.h=[]};
hs=function(a,b,c){var d,e,f,g,h,l,m,n,p;return _.I(function(q){switch(q.a){case 1:return b.source?_.y(q,a.unload(),2):(a.g.error("Config must be of type cl.api.PlayerConfiguration"),q["return"]());case 2:d=_.M.Oa(b);if(!a.f.yospace.enabled){q.F(3);break}e=_.Fp(b);1!==e.length&&a.g.warn("Multiple sources found this is currently not supported, only the first one will be used.");f=e[0];return _.y(q,cs(a.l,f.url),4);case 4:g=q.f,d.source={url:g,type:_.Il};case 3:return a.a.nd([{id:Nf,primary:!0,config:d,
next:[]}]),_.y(q,a.a.load(Nf),5);case 5:h=a.a.Eb();if(!h||!h.xe())return a.g.error("Failed to get cue timeline after load"),q["return"]();l=h.xe();a.f.mockCues&&(m=a.f.mockCues,l.clear(),m===ds?l.f({id:"cue-1",startTime:0,endTime:0,value:"",schemeIdUri:Sd,eventElement:null,type:_.fi,va:{"X-ASSET-LIST":Ae,CUE:"PRE"}}):m===es?(l.f({id:"cue-1",startTime:10,endTime:33,value:"",schemeIdUri:Sd,eventElement:null,type:_.fi,va:{"X-ASSET-LIST":Ae}}),l.f({id:"cue-2",startTime:160,endTime:220,value:"",schemeIdUri:Sd,
eventElement:null,type:_.fi,va:{"X-ASSET-LIST":Ae}})):m===fs&&l.f({id:"cue-1",startTime:0,endTime:0,value:"",schemeIdUri:Sd,eventElement:null,type:_.fi,va:{"X-ASSET-LIST":Ae,CUE:_.Mb}}));n=Array.from(l.cues());if(p=gs(a,n,c))q.F(0);else if(Jr(a.a,!1),c)q.F(0);else return _.y(q,Ir(a.a),0)}})};
gs=function(a,b,c){b=b.filter(function(h){return h.schemeIdUri===Sd&&h.va});a.g.info("Interstitial cues found",b);if(!is(a,b))return!1;var d=[],e=[],f=[],g=[];b.forEach(function(h){var l=h.va.CUE||[];l.includes(_.Mb)?e.push(h):l.includes("PRE")?d.push(h):h.startTime<a.f.prerollMarginSec?d.push(h):h.startTime<a.f.resolutionOffsetSec?g.push(h):f.push(h)});1<d.length?a.g.warn("Multiple preroll interstitials not supported. Will display only the 1st one."):d[0]&&js(a,d[0],c);g.forEach(function(h){return ks(a,
h)});f.forEach(function(h){return ls(a,h,es)});1<e.length?a.g.warn("Multiple postroll interstitials not supported. Will display only the 1st one."):e[0]&&ls(a,e[0],fs);a.trigger(new _.L(ms,{detail:a.Fd()}));return 0<d.length};ls=function(a,b,c){var d=b.va[yc];b={cueId:b.id,startTime:b.startTime,endTime:b.endTime,state:ns,xg:b.va[vc],yg:b.va[wc],Da:null,resumePosition:null==d?b.endTime:b.startTime+d,playoutLimit:b.va[xc],Oe:c};a.h.push(b);return b};
js=function(a,b,c){var d,e,f;_.I(function(g){if(1==g.a)return d=ls(a,b,ds),_.y(g,os(a,d),2);e=g.f;f=d.Da?d.Da.length:0;if(e&&0<f)return ps(a,d,c),g.F(0);e?a.g.warn("Preroll interstitial has no assets, skipping"):a.g.error("Preroll interstitial failed, skipping");Jr(a.a,!1);return c?g.F(0):_.y(g,Ir(a.a),0)})};
ks=function(a,b){var c,d,e,f;return _.I(function(g){if(1==g.a)return c=ls(a,b,es),a.g.info(mb+c.cueId+aa+(c.startTime+" s")),_.y(g,os(a,c),2);if(d=g.f){e=a.a.getCurrentItem();if(!e)return a.g.error("Cannot schedule interstitial "+(c.cueId+", no primary content not found in playlist")),g["return"]();if(!e.player)return g["return"]();f=e.player;e.state===_.zf?qs(a,c,f):e.xc=function(){qs(a,c,f)}}_.B(g)})};Zr=function(a){a.j.forEach(function(b){return b()});a.j=[]};
$r=function(a,b){function c(){a.trigger(new _.L(rs));ss(a)||a.trigger(new _.L(ts))}function d(){var e,f,g,h,l;return _.I(function(m){switch(m.a){case 1:e=b.getPosition();f=us(a,e);if(!f){m.F(2);break}a.g.info(mb+f.cueId+aa+(f.startTime+" s"));return _.y(m,os(a,f),3);case 3:(g=m.f)&&qs(a,f,b);case 2:h=ss(a);if(!(h&&h.state===ns&&b.getDuration()-e<a.f.resolutionOffsetSec)){m.F(0);break}return _.y(m,os(a,h),5);case 5:if(l=m.f)if(h.Da&&0!==h.Da.length){var n=a.a.getCurrentItem();if(n){var p=vs(a,h,fs);
a.a.nd(p);var q=p[0].id;n.next=[q];n.transition={Ya:q};Nr(a.a);h.state=ws;a.g.info("Postroll interstitial "+h.cueId+" scheduled");a.trigger(new _.L(xs,{detail:{id:h.cueId,startTime:h.startTime,endTime:h.endTime,resumePosition:h.resumePosition,itemCount:p.length,playoutLimit:h.playoutLimit}}))}}else a.g.warn("Postroll interstitial has no assets, ignoring.");_.B(m)}})}b.addEventListener(_.ug,d);a.j.push(function(){b.removeEventListener(_.ug,d)});b.on(_.se,c);a.j.push(function(){b.off(_.se,c)})};
ss=function(a){return a.h.find(function(b){return b.Oe===fs})||null};
is=function(a,b){for(var c=b.sort(function(m,n){return m.startTime-n.startTime}),d=a.f.resolutionOffsetSec,e=[],f=0;f<c.length-1;f++){var g=c[f],h=c[f+1];h&&h.startTime-g.endTime<d&&e.push(ob+g.id+" and "+h.id+" are too close to each other (less than "+(d+" s)."));h&&h.startTime<=g.endTime&&e.push(ob+g.id+" and "+h.id+" overlap.")}var l=[];b.forEach(function(m){var n=m.va[wc],p=m.va[xc];m.va[vc]||n?null!=p&&1>p&&a.g.warn(nb+m.id+" is invalid X-PLAYOUT-LIMIT is less than 1 s.",m):l.push(nb+m.id+" is invalid it contains neither X-ASSET-LIST nor X-ASSET-URI.")});
0<l.length?a.g.error("Invalid interstitials, all interstitials will be skipped. "+l.join(" ")):0<e.length&&a.g.warn("Unsupported format of interstitials, playback may not behave correctly. "+e.join(" "));return 0===l.length};us=function(a,b){return a.h.find(function(c){var d=c.startTime-b;return c.Oe===es&&c.state===ns&&0<d&&d<=a.f.resolutionOffsetSec})||null};
os=function(a,b){var c,d,e;return _.I(function(f){switch(f.a){case 1:b.state=ys;c={id:b.cueId,startTime:b.startTime,endTime:b.endTime,resumePosition:b.resumePosition,itemCount:-1,playoutLimit:b.playoutLimit};a.trigger(new _.L(zs,{detail:c}));if(!b.xg){b.yg?(b.Da=[{URI:b.yg,DURATION:b.endTime-b.startTime}],b.state=ws):b.state=As;f.F(2);break}_.D(f,3,4);a.g.info("Load X-ASSET-LIST for "+b.cueId);a.trigger(new _.L(Bs,{detail:c}));d=b;return _.y(f,Cs(a,b.xg),6);case 6:d.Da=f.f,b.state=ws,c.itemCount=
b.Da.length;case 4:_.uh(f);a.trigger(new _.L(Ds,{detail:c}));_.vh(f,2);break;case 3:e=_.E(f);a.g.error("Failed to load X-ASSET-LIST",e);b.state=As;f.F(4);break;case 2:return f["return"](b.state===ws)}})};ps=function(a,b,c){var d,e;_.I(function(f){if(1==f.a){d=a.a.getCurrentItem();if(!d)return f["return"]();e=vs(a,b,ds);a.a.nd(e);Es(a,d,b,!0);Nr(a.a);b.state=ws;return c?_.y(f,a.a.load(e[0].id),3):_.y(f,a.a.play(e[0].id),3)}Jr(a.a,!1);_.B(f)})};
qs=function(a,b,c){if(b.Da)if(0===b.Da.length){var d=function(){c.seek(b.resumePosition)};c.on(_.ki,d);a.j.push(function(){c.off(_.ki,d)});a.g.info(mb+b.cueId+" scheduled to be skipped")}else{var e=a.a.getCurrentItem();if(e){var f=vs(a,b,es);a.a.nd(f);var g=f[0].id;Es(a,e,b,!1);e.next=[g];e.transition={Uh:[{cueId:b.cueId,itemId:g}]};Nr(a.a);b.state=ws;a.g.info(mb+b.cueId+" scheduled for "+(b.startTime+" s"));a.trigger(new _.L(xs,{detail:{id:b.cueId,startTime:b.startTime,endTime:b.endTime,resumePosition:b.resumePosition,
itemCount:f.length,playoutLimit:b.playoutLimit}}))}}};
vs=function(a,b,c){var d=0,e=b.Da.map(function(l,m){var n=b.cueId+"-"+m;d+=l.DURATION;return{id:n,config:{source:{url:l.URI,type:_.Il}},duration:l.DURATION,eh:d,ql:b.cueId,next:[]}});e.forEach(function(l,m){var n=m===e.length-1;n&&c===fs||(n?(l.next=[Nf],l.transition={Ya:Nf}):(n=n?Nf:l.ql+"-"+(m+1),l.next=[n],l.transition={Ya:n}))});a.f.interstitialAssetConverter&&(e=e.map(function(l){return a.f.interstitialAssetConverter(l)}));e.forEach(function(l,m){l.xc=function(){a.g.info(Rb+l.id,l);a.trigger(new _.L(Fs,
{detail:{id:l.id,podId:b.cueId,uri:l.config.source.url,duration:l.duration,podOrder:m+1,podCount:b.Da.length}}))}});if(null!=b.playoutLimit){var f=b.playoutLimit;a.g.info("Playout limit for "+b.cueId+" is "+(f+" s"));e=e.filter(function(l){return l.eh-l.duration<=f});var g=e[e.length-1],h=Math.abs(g.eh-f);1>h?g.transition.Ya=Nf:(g.transition.Ya=void 0,g.transition.$h={position:g.duration-h,itemId:Nf});g.next=[Nf]}e[0].xc=function(){a.g.info("Playing interstitial "+c+" "+b.cueId+" with "+(b.Da.length+
" assets and will resume primary content at ")+(b.resumePosition+" s."),e);a.g.info(Rb+e[0].id,e[0]);a.trigger(new _.L(Gs,{detail:{id:b.cueId,startTime:b.startTime,endTime:b.endTime,resumePosition:b.resumePosition,itemCount:e.length,playoutLimit:b.playoutLimit}}));a.trigger(new _.L(Fs,{detail:{id:e[0].id,podId:b.cueId,uri:b.Da[0].URI,duration:b.Da[0].DURATION,podOrder:1,podCount:b.Da.length}}))};e[e.length-1].Ya=function(){a.trigger(new _.L(Hs,{detail:{id:b.cueId}}));b.state=Is;a.a.removeItems(e.map(function(l){return l.id}));
c===fs&&a.trigger(new _.L(ts))};return e};Es=function(a,b,c,d){b.xc=function(){a.g.info("Resuming primary content at "+(b.config.startTime+" s."));b.next=[];d&&a.trigger(new _.L(Js))};b.config.startTime=c.resumePosition};Cs=function(a,b){var c,d,e,f,g,h;return _.I(function(l){if(1==l.a){c=a.a.Eb();if(!c)throw Error("No player found");d=c.getNetworkEngine();e=_.Mj(b);return _.y(l,fk(d,e),2)}f=l.f;g=Ks(f);if(!g)throw new _.Ei("Invalid X-ASSET-LIST list response");h=f;return l["return"](Promise.resolve(h.ASSETS))})};
Ks=function(a){return a&&a.ASSETS&&Array.isArray(a.ASSETS)?a.ASSETS.every(function(b){return typeof b.URI===_.mg&&typeof b.DURATION===_.k}):!1};Xr=function(){this.a=null};
cs=function(a,b){var c=Ls,d;return _.I(function(e){if(1==e.a){a.a=null;if(typeof YospaceAdManagement!==_.$e)throw new _.N(_.O,7,7003,"Yospace SDK not found.");if(typeof b!==_.mg)throw new _.N(_.O,7,7003,"Yospace URL must be a string.");a:switch(c){case Ls:var f=YospaceAdManagement.SessionVOD.create(b);break a;case Ms:f=YospaceAdManagement.SessionLive.create(b);break a;case Ns:f=YospaceAdManagement.SessionDVRLive.create(b);break a;default:throw new _.N(_.O,7,7003,"Yospace stream type unknown "+c+".");
}return _.y(e,f,2)}d=e.f;if(d.getSessionState()!==YospaceAdManagement.SessionState.INITIALISED)throw new _.N(_.O,7,7003,"Yospace session failed to initialize");a.a=d;return e["return"](d.getPlaybackUrl())})};Os=function(){};Ps=function(){};Qs=function(){};Rs=function(){};Wp=function(){};Ss=function(){};_.Ts=function(){};Us=function(){this.a=null;this.g=new _.K("clpp.drm.eme.StandardEmeManager")};Vs=function(){};Ws=function(){this.size=0;this.a=void 0;this.g=new _.K("clpp.drm.eme.MediaKeyStatusMap")};
Xs=function(a,b){a.size=void 0===b?0:1;a.g.debug("Setting key status to",b);a.a=b};Ys=function(){};Zs=function(){};$s=function(){this.a=this.f=null};
at=function(a,b){this.keySystem=a;if(a.startsWith(_.Rd))for(var c=_.w(b),d=c.next();!d.done;d=c.next()){var e=d.value;if(e.persistentState===_.Uf)d=null;else{d={audioCapabilities:[],videoCapabilities:[],persistentState:_.gf,distinctiveIdentifier:_.gf,initDataTypes:e.initDataTypes,sessionTypes:[rg],label:e.label};var f=!1,g=!1;if(e.audioCapabilities)for(var h=_.w(e.audioCapabilities),l=h.next();!l.done;l=h.next())l=l.value,l.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&
(d.audioCapabilities.push(l),g=!0));if(e.videoCapabilities)for(e=_.w(e.videoCapabilities),l=e.next();!l.done;l=e.next())h=l.value,h.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,h.contentType.split(";")[0])&&(d.videoCapabilities.push(h),g=!0));f||(g=WebKitMediaKeys.isTypeSupported(this.keySystem,_.Mg));d=g?d:null}if(d){this.a=d;return}}c=Error(lc);c.name=Kb;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};
bt=function(a){this.f=null;this.h=new WebKitMediaKeys(a);this.a=new _.Xh;this.j=0;this.g=new _.K(Jd);this.g.info("Created Media Keys for "+a)};
ct=function(a,b){a.f=b;_.$h(a.a);if(!b)return Promise.resolve();a.a.on(b,qe,function(c){_.Nh("AppleEmeManager.cancelNativeMediaEncryptedEvent_",c);"MediaEncryptedEvent"in window&&c instanceof MediaEncryptedEvent&&(a.g.info("Cancel native MediaEncryptedEvent when using Apple-prefixed EME"),c.stopImmediatePropagation())});a.a.on(b,Yg,function(c){a.g.debug("Handle webkitNeedKey event");c=_.oj(c.initData);if(_.vj(c).getUint32(0,!0)+4!==c.byteLength)throw new RangeError("Malformed FairPlay init data");
c=_.S.qc(c.subarray(4),!0);c=_.S.Wa(c);var d=new Event(qe);d.initDataType="skd";d.initData=wj(c);a.f.dispatchEvent(d)});mp(b,HTMLMediaElement.HAVE_METADATA,a.a,function(){return b.webkitSetMediaKeys(a.h)});return Promise.resolve()};dt=function(a,b){_.Yl.call(this);this.a=null;this.o=a;this.f=this.h=null;this.j=new _.Xh;this.sessionId=b;this.expiration=NaN;this.closed=new _.Rj;this.l=!1;this.keyStatuses=new Ws;this.g=new _.K(Jd)};et=function(a,b){Xs(a.keyStatuses,b);a.dispatchEvent(new _.L(Ee))};
ft=function(){};gt=function(){this.f=this.a=null;this.h="";HTMLMediaElement.prototype.webkitGenerateKeyRequest&&(this.h="webkit")};
ht=function(a,b,c,d){this.h=a;this.a=this.keySystem=c;a=!1;c===_.hf&&(this.a=Ug,a=!1);var e=!1;d=_.w(d);for(var f=d.next();!f.done;f=d.next()){f=f.value;var g=[],h=[],l=!1;if(f.audioCapabilities)for(var m=_.w(f.audioCapabilities),n=m.next();!n.done;n=m.next())n=n.value,n.contentType&&(l=!0,b.canPlayType(n.contentType.split(";")[0],this.a)&&(g.push(n),e=!0));if(f.videoCapabilities)for(g=_.w(f.videoCapabilities),n=g.next();!n.done;n=g.next())m=n.value,m.contentType&&(l=!0,b.canPlayType(m.contentType,
this.a)&&(h.push(m),e=!0));l||(e=b.canPlayType(_.Mg,this.a)||b.canPlayType("video/webm",this.a));f.persistentState!==_.Uf||a||(e=!1);if(e){this.f=f;return}}b=lc;if(c===_.hf||c===_.Vd)b="None of the requested configurations were supported.";c=Error(b);c.name=Kb;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};it=function(a,b){this.h=a;this.o=b;this.a=null;this.f=new _.Xh;this.j=[];this.l=new Map};
lt=function(a,b){a.a=b;_.$h(a.f);b&&(a.f.on(b,a.h+"needkey",function(c){var d=new Event(qe);d.initDataType=_.vd;d.initData=wj(c.initData);a.a.dispatchEvent(d)}),a.f.on(b,a.h+"keymessage",function(c){var d=jt(a,c.sessionId);if(d){var e=void 0===d.keyStatuses.getStatus();c=new _.L(_.Se,{messageType:e?He:Ge,message:c.message});_.Nh("WebkitEmeManager.MediaKeySession.generated");d.f&&(d.f.resolve(),d.f=null);d.dispatchEvent(c)}else _.Oh("Session not found",c.sessionId)}),a.f.on(b,a.h+"keyadded",function(c){(c=
jt(a,c.sessionId))&&c.ready()}),a.f.on(b,a.h+"keyerror",function(c){var d=jt(a,c.sessionId);if(d){var e=Error("EME v0.1b key error"),f=c.errorCode;f.systemCode=c.systemCode;e.errorCode=f;!c.sessionId&&d.f?(45===c.systemCode&&(e.message="Unsupported session type."),d.f.reject(e),d.f=null):c.sessionId&&d.a?(d.a.reject(e),d.a=null):(e=c.systemCode,c.errorCode.code===MediaKeyError.MEDIA_KEYERR_OUTPUT?kt(d,_.jf):1===e?kt(d,"expired"):kt(d,_.Ce))}}))};
jt=function(a,b){var c=a.l.get(b);return c?c:(c=a.j.shift())?(c.sessionId=b,a.l.set(b,c),c):null};mt=function(a,b,c,d){_.Yl.call(this);this.w=a;this.j=b;this.o=!1;this.a=this.f=null;this.h=c;this.l=d;this.sessionId="";this.expiration=NaN;this.closed=new _.Rj;this.keyStatuses=new Ws};
ot=function(a,b,c){if(a.o)return Promise.reject(Error("The session is already initialized."));a.o=!0;try{if(a.l===_.mf)if(c)var d=_.oj(_.S.Wa("LOAD_SESSION|"+c));else{var e=_.S.Wa("PERSISTENT|"),f=new Uint8Array(e.byteLength+b.byteLength);f.set(e,0);f.set(_.oj(b),e.byteLength);d=f}else d=_.oj(b)}catch(h){return Promise.reject(h)}a.f=new _.Rj;var g=nt(a,"generateKeyRequest");try{a.j[g](a.h,d)}catch(h){if(h.name!==qb)return a.f=null,Promise.reject(h);(new _.Zk(function(){try{a.j[g](a.h,d)}catch(l){a.f.reject(l),
a.f=null}})).da(.01)}return a.f};pt=function(a,b,c){if(a.a)a.a.then(function(){return pt(a,b,c)})["catch"](function(){return pt(a,b,c)});else{a.a=b;if(a.h===Ug){var d=_.S.ba(c);var e=JSON.parse(d);"oct"!==e.keys[0].kty&&(a.a.reject(Error("Response is not a valid JSON Web Key Set.")),a.a=null);d=_.Aj(e.keys[0].k);e=_.Aj(e.keys[0].kid)}else d=_.oj(c),e=null;var f=nt(a,"addKey");try{a.j[f](a.h,d,e,a.sessionId)}catch(g){a.a.reject(g),a.a=null}}};kt=function(a,b){Xs(a.keyStatuses,b);a.dispatchEvent(new _.L(Ee))};
nt=function(a,b){return a.w?a.w+b.charAt(0).toUpperCase()+b.slice(1):b};qt=function(){};
rt=function(a,b,c,d,e){_.Em.call(this,kb);this.l=a;this.j=b;this.h=c;this.a=d;this.o=e;this.g=new _.K(Id);_.S.empty(this.l)?this.g.warn(_.tc):this.Ua(_.Vd,{licenseUrl:this.l,videoRobustness:[_.$b,void 0],audioRobustness:[_.Zb,void 0],persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:null,modifiers:{licenseRequest:this.Xd.bind(this)}});_.S.empty(this.j)?this.g.warn(_.Nb):this.Ua(_.Td,{licenseUrl:this.j,videoRobustness:["3000"],audioRobustness:["2000"],modifiers:{licenseRequest:this.Xd.bind(this)}});
_.S.empty(this.h)?this.g.warn(_.eb):_.S.empty(this.a)?this.g.warn(_.db):this.Ua(_.Rd,{licenseUrl:this.h,certificateUrl:this.a,modifiers:{licenseRequest:this.Wh.bind(this),licenseResponse:this.Xh.bind(this),certificateRequest:this.Xd.bind(this),extractContentId:this.jh.bind(this)}})};st=function(){};tt=function(a){var b=a.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(typeof Event===_.we)var c=new Event(b,a);else c=document.createEvent("Event"),c.initEvent(b,a.bubbles,a.cancelable);a.target.dispatchEvent(c)};
ut=function(a){a=a.target;if(a.webkitPresentationMode===nf){document.pictureInPictureElement=a;var b=new Event("enterpictureinpicture");a.dispatchEvent(b)}else document.pictureInPictureElement===a&&(document.pictureInPictureElement=null),b=new Event("leavepictureinpicture"),a.dispatchEvent(b)};vt=function(){return this.webkitSupportsPresentationMode(nf)?(this.webkitSetPresentationMode(nf),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))};
wt=function(){var a=document.pictureInPictureElement;return a?(a.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))};xt=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}};yt=function(a,b,c){return new window.TextTrackCue(a,b,c)};
zt=function(a,b,c){return new window.TextTrackCue(a+"-"+b+"-"+c,a,b,c)};Bt=function(a,b,c){if("input"===a)switch(this.type){case "range":a=yd}At.call(this,a,b,c)};Dt=function(){this.a=Ct()};Et=function(a){return Ct()-a.a};Ft=function(a){var b=new Dt;b.a=a.a;return b};Ct=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()};_.Gt=function(a){var b=[];a=_.w(a);for(var c=a.next();!c.done;c=a.next()){c=_.w(c.value.variants);for(var d=c.next();!d.done;d=c.next())b.push(d.value)}return b};
Ht=function(a){var b=void 0===b?2:b;this.a=new Uint8Array(a);this.h=b;this.f=0};It=function(a,b){var c=a.f+b.byteLength;if(c>a.a.byteLength){var d=a.a;a.a=new Uint8Array(Math.max(Math.ceil(a.a.buffer.byteLength*a.h),c));a.a.set(d)}a.a.set(b,a.f);a.f+=b.byteLength};_.Jt=function(a,b,c){this.h=a;this.j=b;this.f=c||this.h.getMedia();this.a=null};_.Lt=function(){this.a=new Blob([Kt],{type:_.Mg})};_.Mt=function(a,b,c,d){this.id=a;this.f=b;this.a=c;this.h=d};_.Nt=function(){this.a=[];this.f=-1;this.h=null};
_.Pt=function(a,b,c,d){var e,f;return _.I(function(g){if(1==g.a)return _.D(g,2),_.y(g,Ot(a,b,c,d),4);if(2!=g.a)return e=g.f,g["return"](new e);f=_.E(g);f.a(_.O);throw f;})};
Ot=function(a,b,c,d){var e,f,g,h;return _.I(function(l){if(1==l.a){if(d){if(e=_.Qt[d.toLowerCase()])return l["return"](e);_.Ih("Could not determine manifest type using MIME type ",d)}if(f=_.Rt(a)){if(g=_.St[f])return l["return"](g);_.Ih("Could not determine manifest type for extension ",f)}else _.Ih("Could not find extension for ",a);return d?l.F(2):_.y(l,Tt(a,b,c),3)}if(2!=l.a&&(d=l.f)){if(h=_.Qt[d])return l["return"](h);_.Ih("Could not determine manifest type using MIME type",d)}throw new _.N(_.O,
4,4E3,{url:a});})};Tt=function(a,b,c){var d,e,f;return _.I(function(g){if(1==g.a)return d=_.Mj(a),Kj(d,c),d.type=1,d.method="HEAD",_.y(g,b.fetch(d).P,2);e=g.f;f=e.headers["content-type"];return g["return"](f?f.toLowerCase():"")})};_.Rt=function(a){a=(new _.Ji(a)).Ea.split("/").pop().split(".");return 1===a.length?"":a.pop().toLowerCase()};Ut=function(a){this.a=new Uint8Array(a||65536);this.f=0;this.h=new Dt};
Wt=function(a,b,c){return b.read().then(function(d){var e=d.done;d=d.value;null!=d&&(Vt(a,d),Pj(c,d.byteLength,Et(a.h)),a.h.a=Ct());return e?(e=a.a.buffer,a.a.byteLength!==a.f&&(e=e.slice(0,a.f)),Promise.resolve(e)):Promise.resolve().then(function(){return Wt(a,b,c)})})};Vt=function(a,b){var c=a.f+b.byteLength;if(a.a.byteLength<c){for(var d=a.a.byteLength;d<c;)d*=2;c=new Uint8Array(d);c.set(a.a);a.a=c}a.a.set(b,a.f);a.f+=b.byteLength};
bk=function(a){var b=a.uris[a.uriIndex],c=new Xt,d=new Dt,e=Ft(d),f=0,g,h=new _.Rj;c.open(a.method,b,!0);c.responseType="arraybuffer";c.timeout=a.timeout;c.withCredentials=a.allowCrossSiteCredentials;var l=!1,m=!1;c.onreadystatechange=function(p){p=p.target;p.readyState>=XMLHttpRequest.LOADING&&0===f&&(g=Et(e));p.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!l&&(p=p.getResponseHeader(ya),Oj(a,p),l=!0)};c.onload=function(p){p=p.target;var q=(p.getAllResponseHeaders()||"").trim().split("\r\n"),u={};
q=_.w(q);for(var v=q.next();!v.done;v=q.next())v=v.value.split(": "),u[v[0].toLowerCase()]=v.slice(1).join(": ");try{var z=Et(e);m||Pj(a,p.response?p.response.length:0,z);var A=_.Nj(u,p.response,p.status,b,p.responseURL,a,z,g);a.rateLimitBps?Qj(a.rateLimitBps,Et(e),a.bytesLoaded).then(function(){h.resolve(A)}):h.resolve(A)}catch(G){h.reject(G)}};c.onerror=function(p){p=p.target;if(0>=p.status)h.reject(new _.N(1,1,1002,{url:b,request:a,status:p.status}));else{var q=p.getAllResponseHeaders(),u={};if(q){q=
_.w(q.trim().split("\r\n"));for(var v=q.next();!v.done;v=q.next())v=v.value.split(": "),u[v[0].toLowerCase()]=v.slice(1).join(": ")}p=_.Nj(u,p.response,p.status,b,p.responseURL,a,Et(e),g);h.resolve(p)}};c.ontimeout=function(){h.reject(new _.N(1,1,1003,{url:b,request:a}))};c.onprogress=function(p){var q=Et(d);d.a=Ct();if(100<q||p.lengthComputable&&p.loaded===p.total)Pj(a,p.loaded-f,q),f=p.loaded,m=!0};for(var n in a.headers)c.setRequestHeader(n.toLowerCase(),a.headers[n]);c.send(a.body);return{P:h,
request:a,abort:function(){c.abort();h.reject(new _.N(1,1,7001,{url:b,request:a}));return Promise.resolve()}}};Yt=function(a,b){a=void 0===a?1E6:a;b=void 0===b?!0:b;this.j=new Ht(a);this.length=a;this.A=b;this.f=this.a=this.h=0;this.l=null;this.o=-1;this.w=new Dt};
au=function(a,b,c,d){return b.read().then(function(e){var f=e.done;e=e.value;d&&e&&(d(e.byteLength,Et(a.w)),a.w.a=Ct());if(f)return f=Zt(a),(f=c(!0,f))?f.then(function(){return a.j.a.buffer}):Promise.resolve(a.j.a.buffer);var g=Promise.resolve();if(null!=e){It(a.j,e);a.a=a.h;a.f=a.j.f;a.l=new DataView(a.j.a.buffer,0,a.j.f);e=$t(a);for(f=[];e;)f.push(e),e=$t(a);if(!a.A)f.forEach(function(m){g=g.then(function(){return c(!1,m)})});else if(0<f.length){e=f[0];if(1<f.length){e=f[0];var h=f[f.length-1],
l=h.end-e.start;e={start:e.start,end:h.end,length:l,data:new DataView(a.j.a.buffer,e.start,l),count:f.length}}(f=c(!1,e))&&(g=f)}}return g.then(function(){return au(a,b,c,d)})})};$t=function(a){if(0<=a.o&&a.f<a.o)return null;for(var b=bu(a);null!==b;){if(b.name===_.Qe){var c={start:a.h,end:b.end,length:b.end-a.h,data:new DataView(a.j.a.buffer,a.h,b.end-a.h),count:1};a.h=b.end;return c}b=bu(a)}return null};
bu=function(a){var b=a.a;if(a.a+4>=a.f)return a.a=a.f,null;var c=cu(a);if(a.a+4>=a.f)return a.a=a.f,null;var d=cu(a);d=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);switch(c){case 0:c=a.f-b;break;case 1:if(a.a+8>=a.f)return a.a=a.f,null;try{var e=a.l.getUint32(a.a,!1);var f=a.l.getUint32(a.a+4,!1)}catch(g){throw new _.N(_.O,3,3E3);}if(2097151<e)throw new _.N(_.O,3,3E3);a.a+=8;c=e*Math.pow(2,32)+f}c=b+c;a.o=c;return a.f>=c?(a.a=c,{name:d,start:b,end:c}):null};
cu=function(a){var b=a.l.getUint32(a.a,!1);a.a+=4;return b};Zt=function(a){var b=null;a.h!==a.f&&(b={start:a.h,end:a.f,length:a.f-a.h,data:new DataView(a.j.a.buffer,a.h,a.f-a.h),count:-1});return b};eu=function(a){_.Sj.call(this,new _.Rj,function(){return Promise.resolve()});this.B=a;this.h=null;this.w=this.P;this.f=-1;this.j=this.l=this.o=null;du(this)};fu=function(a,b,c){a.o=setTimeout(b,c)};
du=function(a){a.h=a.B.then(function(e){a.j=e.request;e.request.uriIndex=e.request.currentAttempt%e.request.uris.length;if(0<e.request.currentAttempt){-1===a.f&&(a.f=gu(e.request.baseDelay,1E3));var f=a.f*(1+(2*Math.random()-1)*gu(e.request.fuzzFactor,.5));a.f*=gu(e.request.backoffFactor,2);if(0<f)return(new Promise(function(g,h){a.l=h;fu(a,function(){g(e.plugin(e.request))},f)}))["catch"](function(g){if(!a.a)throw g;})}if(a.a)throw new _.N(1,1,7001,{url:e.request.uris[e.request.uriIndex],request:e.request});
return e.plugin(e.request)});var b=0,c=0,d=0;return a.h.then(function(e){var f=e.request;f.currentAttempt+=1;b=f.currentAttempt;c=f.maxAttempts;d=f.uris.length;return e.P}).then(function(e){a.w.resolve(e)})["catch"](function(e){if(e instanceof _.N){var f=b<d,g=7001!==e.code,h=b<c;if((1===e.severity||f)&&g&&h)return du(a);g&&e.a(_.O);a.w.reject(e)}else a.w.reject(e)})};gu=function(a,b){return null===a||void 0===a?b:a};_.ju=function(a){this.a=!1;this.h=a;this.j=iu(this);this.h.Nc(this.j);this.f=null};
iu=function(a){return function(b){if(a.a&&(b=_.M.al(b.headers))){try{var c=new Map,d=b.split(";");for(b=0;b<d.length;b++){var e=ku(d[b]),f=e.key,g=e.value;Object.values(lu).includes(f)&&c.set(f,g)}var h=c}catch(l){mu.error("CmsdManager parseCmsdDynamicHeader_ failed:",l),h=null}a.f=h}}};
ku=function(a){var b=a.split("\x3d"),c=b[0];b=b[1];if(!c)throw new _.Ei("Parsing CMSD, missing parameter or wrong format");if(c&&!b)return{key:c,value:!0};var d=b[0];if('"'===d&&'"'===b[b.length-1])return{key:c,value:b.replaceAll(/(^")|("$)/g,"")};if(/^[-0-9]/.test(d))return{key:c,value:parseInt(b,10)};if(/^[a-zA-Z*]/.test(d))return{key:c,value:b};throw new _.Ei("Parsing CMSD, not recognized value type of "+a);};
ck=function(a){var b=new nu,c;for(c in a.headers)b.append(c.toLowerCase(),a.headers[c]);var d=new ou,e={qd:!1,yi:!1};b={P:pu(a.uris[a.uriIndex],a,{body:a.body||void 0,headers:b,method:a.method,signal:d.signal,credentials:a.allowCrossSiteCredentials?"include":void 0},e),request:a,abort:function(){e.qd||(e.qd=!0,d.abort());return Promise.resolve()}};if(a=a.timeout){var f=window.setTimeout(function(){e.yi=!0;d.abort()},a);b.P=b.P["finally"](function(){window.clearTimeout(f)})}return b};
pu=function(a,b,c,d){var e,f,g,h,l,m,n,p,q,u,v,z,A,G,F,C;return _.I(function(H){switch(H.a){case 1:return e=qu,l=new Dt,m=Ft(l),_.D(H,2),_.y(H,e(a,c),4);case 4:f=H.f;h=Et(l);n=f.headers.get(ya);Oj(b,n);p=n?parseInt(n,10):0;if(b.onFragment&&!b.disableFragmentSupport&&2===b.type)return v=f.body.getReader(),z=new Yt(p,!b.disableMergedFragments),A=function(Q,R){if(d.qd)return null;R&&R.data&&(Pj(b,R.data.byteLength,Et(l)),l.a=Ct());return b.onFragment&&R?b.rateLimitBps?Qj(b.rateLimitBps,Et(m),b.bytesLoaded).then(function(){return b.onFragment(R)}):
b.onFragment(R):null},_.y(H,au(z,v,A,b.onProgress),10);q=f.body.getReader();u=new Ut(p);return _.y(H,Wt(u,q,b),7);case 7:g=H.f;if(!b.rateLimitBps){H.F(6);break}return _.y(H,Qj(b.rateLimitBps,Et(m),g.byteLength),6);case 10:g=H.f;case 6:_.th(H,3);break;case 2:G=_.E(H);if(d.qd)throw new _.N(1,1,7001,{url:a,request:b});if(d.yi)throw new _.N(1,1,1003,{url:a,request:b});_.Oh("Error while fetching data:",G);throw new _.N(1,1,1002,{url:a,error:G,request:b,status:-1},G);case 3:F={};C=f.headers;C.forEach(function(Q,
R){F[R.trim()]=Q});if(d.qd)throw new _.N(1,1,7001,{url:a,request:b});return H["return"](_.Nj(F,g,f.status,a,f.url,b,Et(m),h))}})};Xj=function(a){try{var b=a.uris[a.uriIndex],c=_.ru(b);return{P:Promise.resolve({uri:b,data:c.data,request:a,headers:{"content-type":c.contentType}}),request:a,abort:function(){return Promise.resolve()}}}catch(d){return{P:Promise.reject(d),request:a,abort:function(){return Promise.resolve()}}}};
_.ru=function(a){var b=a.split(":");if(2>b.length||"data"!==b[0])throw _.Oh("Bad data URI, failed to parse scheme"),new _.N(_.O,1,1004,{uri:a});b=b.slice(1).join(":").split(",");if(2>b.length)throw _.Oh("Bad data URI, failed to extract encoding and MIME type"),new _.N(_.O,1,1004,{uri:a});var c=b[0];a=window.decodeURIComponent(b.slice(1).join(","));b=c.split(";");c=b[0];var d=!1;1<b.length&&"base64"===b[b.length-1]&&(d=!0,b.pop());return{data:d?_.Aj(a).buffer:_.S.Wa(a).buffer,contentType:c}};
_.tu=function(a,b){var c=_.Uk(_.Vk(a),_.Wk(a));_.su[c]=b};_.uu=function(a){a=_.Uk(_.Vk(a),_.Wk(a));return _.su[a]||null};_.vu=function(a){a=_.Uk(_.Vk(a),_.Wk(a));delete _.su[a]};
_.wu=function(a){a=a.getConfiguration();a=_.M.Oa(a.textStyle||a.textstyle||{});this.K=typeof a.backgroundColor===_.mg?a.backgroundColor:null;this.V=typeof a.windowColor===_.mg?a.windowColor:null;this.N=typeof a.fontColor===_.mg?a.fontColor:null;this.R=typeof a.fontFamily===_.mg?a.fontFamily:null;this.I=typeof a.fontSize===_.mg?a.fontSize:null;this.B=typeof a.fontSizePercent===_.k?a.fontSizePercent:null;this.H=typeof a.edgeColor===_.mg?a.edgeColor:"rgba(0, 0, 0, 1)";this.o=null;typeof a.edgeType===
_.mg&&(this.o=a.edgeType)};_.Bu=function(a){if(!a.o)return null;var b=a.H;switch(a.o){case xu:return"-2px -2px 0 "+b+", -1px -1px 0 "+b;case yu:return"2px 2px 0 "+b+", 1px 1px 0 "+b;case zu:return"-1px 0 "+b+", 0 1px "+b+", 1px 0 "+b+", 0 -1px "+b;case Au:return"2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b;default:return _.Ze}};Cu=function(a){this.f=a;this.a=null;this.g=new _.K("clpp.text.Mp4TextParser")};
_.Eu=function(a){_.wu.call(this,a);this.l=a.getSurface().getMedia();this.f="clpp-video-"+Du++;this.h=document.createElement(_.og);this.j=this.w=!1;_.Zp(this.l,this.f);document.head.appendChild(this.h);this.zb()};Fu=function(){};_.Gu=function(){};_.ch=[];gh=typeof Object.create==_.we?Object.create:function(a){function b(){}b.prototype=a;return new b};
if(typeof Object.setPrototypeOf==_.we)Hu=Object.setPrototypeOf;else{var Iu;a:{var Ju={Pi:!0},Ku={};try{Ku.__proto__=Ju;Iu=Ku.Pi;break a}catch(a){}Iu=!1}Hu=Iu?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var hh=Hu,lh=typeof Object.defineProperties==_.we?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},jh="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;mh.prototype.toString=function(){return this.a};var kh=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new mh("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();
ph.prototype.A=function(a){this.f=a};ph.prototype["return"]=function(a){this.h={"return":a};this.a=this.j};ph.prototype.F=function(a){this.a=a};
Ch("Promise",function(a){function b(g){this.f=0;this.l=void 0;this.a=[];var h=this.j();try{g(h.resolve,h.reject)}catch(l){h.reject(l)}}function c(){this.a=null}function d(g){return g instanceof b?g:new b(function(h){h(g)})}if(a)return a;c.prototype.f=function(g){if(null==this.a){this.a=[];var h=this;this.h(function(){h.l()})}this.a.push(g)};var e=jh.setTimeout;c.prototype.h=function(g){e(g,0)};c.prototype.l=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var h=0;h<g.length;++h){var l=
g[h];g[h]=null;try{l()}catch(m){this.j(m)}}}this.a=null};c.prototype.j=function(g){this.h(function(){throw g;})};b.prototype.j=function(){function g(m){return function(n){l||(l=!0,m.call(h,n))}}var h=this,l=!1;return{resolve:g(this.D),reject:g(this.h)}};b.prototype.D=function(g){if(g===this)this.h(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.G(g);else{a:switch(typeof g){case _.$e:var h=null!=g;break a;case _.we:h=!0;break a;default:h=!1}h?this.B(g):this.o(g)}};
b.prototype.B=function(g){var h=void 0;try{h=g.then}catch(l){this.h(l);return}typeof h==_.we?this.H(h,g):this.o(g)};b.prototype.h=function(g){this.w(2,g)};b.prototype.o=function(g){this.w(1,g)};b.prototype.w=function(g,h){if(0!=this.f)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.f);this.f=g;this.l=h;this.A()};b.prototype.A=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)f.f(this.a[g]);this.a=null}};var f=new c;b.prototype.G=function(g){var h=this.j();
g.le(h.resolve,h.reject)};b.prototype.H=function(g,h){var l=this.j();try{g.call(h,l.resolve,l.reject)}catch(m){l.reject(m)}};b.prototype.then=function(g,h){function l(q,u){return typeof q==_.we?function(v){try{m(q(v))}catch(z){n(z)}}:u}var m,n,p=new b(function(q,u){m=q;n=u});this.le(l(g,m),l(h,n));return p};b.prototype["catch"]=function(g){return this.then(void 0,g)};b.prototype.le=function(g,h){function l(){switch(m.f){case 1:g(m.l);break;case 2:h(m.l);break;default:throw Error("Unexpected state: "+
m.f);}}var m=this;null==this.a?f.f(l):this.a.push(l)};b.resolve=d;b.reject=function(g){return new b(function(h,l){l(g)})};b.race=function(g){return new b(function(h,l){for(var m=_.w(g),n=m.next();!n.done;n=m.next())d(n.value).le(h,l)})};b.all=function(g){var h=_.w(g),l=h.next();return l.done?d([]):new b(function(m,n){function p(v){return function(z){q[v]=z;u--;0==u&&m(q)}}var q=[],u=0;do q.push(void 0),u++,d(l.value).le(p(q.length-1),n),l=h.next();while(!l.done)})};return b});var Eh=this||self;
Eh.a=!0;_.M={Mi:20,Oa:function(a){var b=_.M.S,c=_.M.Jh,d=_.M.pa;return b(a)||c(a)?a:d(a)}};_.J("clpp.utils.obj.cloneItem",_.M.Oa);_.M.pa=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];c={};for(var d=0;d<b.length;d++)null!=b[d]&&(c=_.M.Oh(c,{merging:b[d]},1));return c.merging||null};_.J("clpp.utils.obj.merge",_.M.pa);_.M.Ld=function(a){for(var b in a)if(void 0!==a[b])return!0;return!1};
_.M.Oh=function(a,b,c){var d=_.M.S,e=_.M.Jh,f=_.M.Oh,g=_.M.vb,h=_.M.wl,l=_.M.Ih,m=_.M.sl,n=_.M.cd;c+=1;if(d(a)||!n(a))a={};for(var p in b)n=b[p],e(n)||d(n)||g(n)||m(n)?a[p]=n:h(n)?a[p]=n.subarray(0):n instanceof Array?a[p]=f([],n,c):!d(n)&&l(n)&&c<_.M.Mi&&(a[p]=f(a[p],n,c));return a};_.M.Jh=function(a){a=typeof a;return a===_.mg||a===_.k||a===_.md};_.M.sl=function(a){return a instanceof Element};_.M.S=function(a){return null===a||"undefined"===typeof a};_.M.cd=function(a){return typeof a===_.$e};
_.M.vb=function(a){return typeof a===_.we};_.M.ca=function(a){return typeof a===_.mg};_.M.sa=function(a){return typeof a===_.k};_.M.Eh=function(a){return typeof a===_.md};_.M.Ih=function(a){var b=_.M.cd,c=_.M.S;if(c(a)||!b(a))return!1;a=Object.getPrototypeOf(a);return a===Object.prototype||null===a};_.M.wl=function(a){var b=_.M.cd,c=_.M.vb;return!!(b(a)&&a.buffer&&a.buffer instanceof ArrayBuffer&&c(a.subarray))};
_.M.la=function(a,b,c,d){if(a===b||null===a&&null===b||void 0===a&&void 0===b)return!0;if(null===a&&null!==b||null!==a&&null===b||void 0!==a&&void 0===b||void 0===a&&void 0!==b||!_.M.cd(a)||!_.M.cd(b))return!1;for(var e=c||Object.keys(a),f={},g=0;g<e.length;g++){var h=e[g];if(_.M.S(d)||0>d.indexOf(h))if(f[h]=!0,a[h]!==b[h])return!1}if(_.M.S(c))for(a=Object.keys(b),b=0;b<a.length;b++)if(c=a[b],(_.M.S(d)||0>d.indexOf(c))&&!f[c])return!1;return!0};
_.M.isNaN=function(a){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(b){return b!==b})(a)};_.M.tl=function(a,b,c){return a>=b&&a<=c};_.M.vg=function(a){for(var b=new Map,c=_.w(Object.keys(a)),d=c.next();!d.done;d=c.next())d=d.value,b.set(d,a[d]);return b};_.M.wg=function(a){var b={};a.forEach(function(c,d){b[d]=c});return b};_.M.al=function(a){a=_.w(Object.entries(a));for(var b=a.next();!b.done;b=a.next()){var c=_.w(b.value);b=c.next().value;c=c.next().value;if("cmsd-dynamic"===b.toLowerCase())return c}return null};var Jh={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};_.J("clpp.log.Level",Jh);var Gh=3,Fh={},Lu=[];_.J("clpp.log.getLoggers",function(){return _.M.Oa(Fh)});_.J("clpp.log.addInterceptor",function(a){a&&Lu.push(a)});_.J("clpp.log.removeInterceptor",function(a){a&&(a=Lu.indexOf(a),0<=a&&Lu.splice(a,1))});_.J("clpp.log.getTagLevel",Hh);_.J("clpp.log.hasTagLevel",function(a){return void 0===a?!1:0<=Fh[a]});_.J("clpp.log.setTagLevel",function(a,b){a&&(_.M.ca(b)&&(b=Kh(b)),Fh[a]=b)});
_.J("clpp.log.setLogLevel",function(a){-1===a&&(a=3);_.M.ca(a)&&(a=Kh(a));Gh=a});_.J("clpp.log.getLogLevel",function(){return Gh});_.t=_.K.prototype;
_.t.log=function(a,b){if(window.console){if(1<arguments.length){var c=arguments[0];Array.prototype.shift.call(arguments)}else c=3;var d=Hh(this.tag);if(0<=d){if(d<c)return}else if(Gh<c)return;this.tag&&Array.prototype.unshift.call(arguments,"["+this.tag+"]");d=new Date;d.toISOString&&(d=d.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,d));4===c?console.log.apply(console,arguments):3===c?console.info.apply(console,arguments):2===c?console.warn.apply(console,arguments):
1===c?console.error.apply(console,arguments):console.log.apply(console,arguments);d=_.w(Lu);for(var e=d.next();!e.done;e=d.next())e=e.value,e.call(e,c,arguments)}};_.t.info=function(a){Array.prototype.unshift.call(arguments,3);this.log.apply(this,arguments)};_.t.debug=function(a){Array.prototype.unshift.call(arguments,4);this.log.apply(this,arguments)};_.t.warn=function(a){Array.prototype.unshift.call(arguments,2);this.log.apply(this,arguments)};
_.t.error=function(a){Array.prototype.unshift.call(arguments,1);this.log.apply(this,arguments)};_.t.sk=function(a){return a?this.tag?new _.K(this.tag+"."+a):new _.K(a):this};_.J("clpp.log.Logger",_.K);_.K.prototype.createChild=_.K.prototype.sk;_.K.prototype.error=_.K.prototype.error;_.K.prototype.warn=_.K.prototype.warn;_.K.prototype.debug=_.K.prototype.debug;_.K.prototype.info=_.K.prototype.info;_.K.prototype.log=_.K.prototype.log;var Lh=new _.K("clpp");_.J("clpp.log.info",_.Mh);
_.J("clpp.log.debug",_.Nh);_.J("clpp.log.warn",_.Ih);_.J("clpp.log.error",_.Oh);(function(){var a=console.assert;a?a.bind||(console.assert=function(){a.apply(console,arguments)}):console.assert=function(){}})();_.Rh=new _.K("clpp.players");_.Qh={};_.t=_.Uh.prototype;_.t.push=function(a,b){a in this.a?this.a[a].push(b):this.a[a]=[b]};_.t.get=function(a){return(a=this.a[a])?a.slice():[]};_.t.remove=function(a,b){var c=this.a[a];if(!c)return!1;for(var d=!1,e=0;e<c.length;++e)c[e]===b&&(c.splice(e,1),--e,d=!0);return d};_.t.clear=function(){this.a={}};_.t.forEach=function(a){for(var b in this.a)a(b,this.a[b])};Vh.prototype.gc=function(a){try{this.Qc.handleEvent?this.Qc.handleEvent(a):this.Qc.call(this.a,a)}catch(b){_.Oh("clpp","Uncaught exception in event handler for event '"+this.f+"'",b,b?b.message:null,b?b.stack:null)}};_.L.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};_.L.prototype.stopImmediatePropagation=function(){this.f=!0};_.L.prototype.stopPropagation=function(){};_.t=Wh.prototype;
_.t.trigger=function(a){var b=this.a.get(a.type);if(b)for(var c=0;c<b.length&&(a.target=this.f,a.currentTarget=this.f,b[c].gc(a),b[c].Ym&&this.a.remove(a.type,b[c]),!a||!a.f);c++);};_.t.on=function(a,b,c){this.a.push(a,new Vh(a,b,c||this.f));return b};_.t.one=function(a,b,c){this.a.push(a,new Vh(a,b,c||this.f,!0));return b};_.t.off=function(a,b){var c=this.a.get(a),d=!1;if(c)for(var e=0;e<c.length;e++)c[e].Qc===b&&(d=this.a.remove(a,c[e])||d);return d};_.t.clear=function(){this.a.clear()};_.Xh.prototype.release=function(){_.$h(this)};_.Xh.prototype.on=function(a,b,c,d){a=new ai(a,b,c,void 0===d?!1:d);this.a.push(b,a)};_.Xh.prototype.one=function(a,b,c){function d(f){e.off(a,b,d);return c(f)}var e=this;this.on(a,b,d)};_.Xh.prototype.off=function(a,b,c){for(var d=this.a.get(b)||[],e=0;e<d.length;++e){var f=d[e];f.target!==a||c!==f.a&&c||(Zh(f),this.a.remove(b,f))}};bi.prototype.release=function(){this.f.release();this.h=[];this.a=null};bi.prototype.destroy=function(){var a=this;return _.I(function(b){a.release();a.l=null;a.j=null;_.B(b)})};bi.prototype.getTimelineCues=function(){return this.h};_.xi.prototype.la=function(a){return this.payload===a.payload&&this.startTime===a.startTime&&this.endTime===a.endTime&&this.payloadType===a.payloadType};_.J("clpp.text.Cue",_.xi);_.xi.positionAlign={LEFT:_.Ie,RIGHT:_.Je,CENTER:_.wd,AUTO:"auto"};_.ri="text";_.xi.payloadType={TEXT:_.ri,VTT_XML:_.Rg,TTML_XML:_.wg};_.si=_.wd;_.Mu={LEFT:_.Fe,RIGHT:_.Wf,CENTER:_.si,START:_.Fe,END:_.Wf};_.xi.textAlign=_.Mu;var wi="ltr";_.xi.direction={HORIZONTAL_LEFT_TO_RIGHT:wi,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};_.ti="horizontal-tb";
_.xi.writingMode={HORIZONTAL_TOP_TO_BOTTOM:_.ti,VERTICAL_LEFT_TO_RIGHT:_.Jg,VERTICAL_RIGHT_TO_LEFT:_.Kg};_.ui=0;_.xi.lineInterpretation={LINE_NUMBER:_.ui,PERCENTAGE:1};_.vi=_.ig;_.Nu={CENTER:_.wd,START:_.vi,END:_.re};_.xi.lineAlign=_.Nu;_.J("clpp.text.CueRegion",_.Ai);_.yi=1;_.Ai.units={PX:0,PERCENTAGE:_.yi,LINES:2};var zi="";_.Ai.scrollMode={NONE:zi,UP:"up"};_.Ai.displayAlign={BEFORE:"flex-end",CENTER:_.wd,AFTER:"flex-start"};
_.Ai.writingMode={HORIZONTAL_TOP_TO_BOTTOM:_.Pd,VERTICAL_LEFT_TO_RIGHT:"row-reverse",VERTICAL_RIGHT_TO_LEFT:"row"};Bi.prototype.destroy=function(){this.a.release();this.j=!1;this.l=this.a=this.h=this.f=null;return Promise.resolve()};Bi.prototype.start=function(a){var b=this;this.j?this.g.warn("Already started. Ignoring request..."):(this.j=!0,this.h=a,this.f=this.h.textTracks,this.a.on(this.f,_.Pc,function(c){return Ci(b,c)}),this.a.on(this.f,yd,function(){for(var c=b.f,d=0;d<c.length;d++){var e=c[d];e.mode===_.cg&&(e.mode=_.ye)}}))};
Bi.prototype.o=function(a){var b=new _.xi(a.startTime,a.endTime,a.text,_.Rg);if(_.M.ca(a.vertical))switch(a.vertical){case "lr":b.writingMode=_.Jg;break;case "rl":b.writingMode=_.Kg}_.M.sa(a.size)&&(b.size=a.size);if(_.M.ca(a.align))switch(a.align){case _.Fe:case _.ig:b.textAlign=_.Fe;break;case _.wd:b.textAlign=_.si;break;case _.Wf:case _.re:b.textAlign=_.Wf}_.M.sa(a.position)&&(b.position=a.position);if(_.M.ca(a.positionAlign))switch(a.positionAlign){case _.Ie:b.positionAlign=_.Ie;break;case _.wd:b.positionAlign=
_.wd;break;case _.Je:b.positionAlign=_.Je}_.M.sa(a.line)&&(b.line=a.line);if(_.M.ca(a.lineAlign))switch(a.lineAlign){case _.ig:b.lineAlign=_.vi;break;case _.wd:b.lineAlign=_.wd;break;case _.re:b.lineAlign=_.re}_.M.Eh(a.snapToLines)&&(b.lineInterpretation=a.snapToLines?_.ui:1);return b};_.x(_.N,Error);_.N.prototype.a=function(a){this.severity!==a&&(this.severity=a,this.message=Di(this.severity,this.category,this.code,this.data))};_.N.prototype.toString=function(){var a=this.message;this.cause&&(a+="\n Caused by "+this.cause);return a};_.J("clpp.Error",_.N);_.O=2;_.N.Severity={RECOVERABLE:1,FATAL:_.O};_.N.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10};
_.N.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,INVALID_MP4:2011,
TEXT_PARSER_MISSING:2012,THUMBNAILS_FAILED_TO_LOAD:2013,THUMBNAIL_ERROR:2014,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,
MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,
DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,
DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,HLS_MSE_ENCRYPTED_TS_NOT_SUPPORTED:4041,HLS_PLAYLIST_NOT_UTF8:4042,HLS_PLAYLIST_EMPTY:4043,HLS_INVALID_VALUE:4044,
HLS_DISCONTINUITY_NOT_SUPPORTED:4045,HLS_UNSUPPORTED_FEATURE:4046,HLS_INCOMPATIBLE_PLAYLIST_UPDATE:4047,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,
EXPIRED:6014,REQUESTED_DRM_ENVIRONMENT_UNAVAILABLE:6015,INIT_DATA_TRANSFORM_ERROR:6016,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,SERVER_CERTIFICATE_REQUIRED:6102,EXTRACT_CONTENT_ID_MODIFIER_ERROR:6103,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7E3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,MEDIA_ELEMENT_NOT_FOUND:7004,INVALID_MEDIA_ELEMENT:7005,INVALID_CONTAINER_ELEMENT:7006,INVALID_ARGUMENT:7007,
WRONG_ORDER_OF_OPERATIONS:7008,NOT_SUPPORTED:7009,INVALID_CONFIGURATION:7100,INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8E3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9E3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,GL_CONTEXT_ERROR:9003,GL_SHADER_ERROR:9004,YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,
YOUBORA_SDK_VERSION_NOT_SUPPORTED:9102,VIMOND_INVALID_CONFIGURATION:9200,VIMOND_SESSION_ERROR:9201,MUXDATA_INVALID_CONFIGURATION:9300,MUX_SDK_MISSING:9301,MUXDATA_INIT_ERROR:9302,IMA_SDK_MISSING:1E4,IMA_INVALID_CONFIGURATION:10001,IMA_UNSUPPORTED_PLATFORM:10002,AD_ERROR:10003,SIMID_CONTAINER_MISSING:10100,BROADPEAK_SDK_MISSING:11E3,BROADPEAK_SESSION_ERROR:11001,FREEWHEEL_SDK_MISSING:12E3,FREEWHEEL_INVALID_CONFIGURATION:12001,CONTENT_TRANSFORMATION_FAILED:14E3,SESSIONS_INVALID_CONFIGURATION:15E3};
_.x(_.Ei,Error);var Oi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;_.t=_.Ji.prototype;_.t.ib="";_.t.Cc="";_.t.Pa="";_.t.gd=null;_.t.Ea="";_.t.pc="";_.t.toString=function(){var a=[],b=this.ib;b&&a.push(Ri(b,Ou,!0),":");if(b=this.Pa){a.push("//");var c=this.Cc;c&&a.push(Ri(c,Ou,!0),"@");a.push(encodeURIComponent(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.gd;null!=b&&a.push(":",String(b))}if(b=this.Ea)this.Pa&&"/"!=b.charAt(0)&&a.push("/"),a.push(Ri(b,"/"==b.charAt(0)?Pu:Qu,!0));(b=this.a.toString())&&a.push("?",b);(b=this.pc)&&a.push("#",Ri(b,Ru));return a.join("")};
_.t.resolve=function(a){var b=new _.Ji(this);"data"===b.ib&&(b=new _.Ji);var c=!!a.ib;c?Ki(b,a.ib):c=!!a.Cc;c?b.Cc=a.Cc:c=!!a.Pa;c?b.Pa=a.Pa:c=null!=a.gd;var d=a.Ea;if(c)Li(b,a.gd);else if(c=!!a.Ea){if("/"!=d.charAt(0))if(this.Pa&&!this.Ea)d="/"+d;else{var e=b.Ea.lastIndexOf("/");-1!=e&&(d=b.Ea.substr(0,e+1)+d)}if(".."==d||"."==d)d="";else if(-1!=d.indexOf("./")||-1!=d.indexOf("/.")){e=0==d.lastIndexOf("/",0);d=d.split("/");for(var f=[],g=0;g<d.length;){var h=d[g++];"."==h?e&&g==d.length&&f.push(""):
".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),e&&g==d.length&&f.push("")):(f.push(h),e=!0)}d=f.join("/")}}c?b.Ea=d:c=""!==a.a.toString();c?_.Mi(b,Ni(a.a)):c=!!a.pc;c&&(b.pc=a.pc);return b};var Ou=/[#\/\?@]/g,Qu=/[#\?:]/g,Pu=/[#\?]/g,Si=/[#\?@]/g,Ru=/#/g;_.Qi.prototype.a=null;_.Qi.prototype.h=null;
_.Qi.prototype.add=function(a,b){if(!this.a&&(this.a={},this.h=0,this.f))for(var c=this.f.split("\x26"),d=0;d<c.length;d++){var e=c[d].indexOf("\x3d"),f=null;if(0<=e){var g=c[d].substring(0,e);f=c[d].substring(e+1)}else g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));f=f||"";this.add(g,decodeURIComponent(f.replace(/\+/g," ")))}this.f=null;(c=this.a.hasOwnProperty(a)&&this.a[a])||(this.a[a]=c=[]);c.push(b);null!==this.h&&this.h++;return this};
_.Qi.prototype.toString=function(){if(this.f)return this.f;if(!this.a)return"";var a=[],b;for(b in this.a)for(var c=encodeURIComponent(b),d=this.a[b],e=0;e<d.length;e++){var f=c;""!==d[e]&&(f+="\x3d"+encodeURIComponent(d[e]));a.push(f)}return this.f=a.join("\x26")};var Ui;_.P="text";_.Mp={VIDEO:_.r,AUDIO:_.cd,TEXT:_.P,Dn:_.Uc,IMAGE:_.Be,Oi:_.pg};_.$u=1/15;Ui={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/],video:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]};Ui[_.P]=[/^vtt$/,/^wvtt/,/^stpp/];var Wi={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av0?1/],text:[/^vtt$/,/^wvtt/,/^stpp/]};_.Zi={text:{mp4:Xc,m4s:Xc,m4i:Xc,cmft:Xc,vtt:_.sg,ttml:_.$c},video:{mp4:_.Mg,m4s:_.Mg,m4i:_.Mg,m4v:_.Mg,cmfv:_.Mg,ts:_.Lg},audio:{mp4:_.hd,m4s:_.hd,m4i:_.hd,m4a:_.hd,cmfa:_.hd,ts:_.Lg,aac:_.dd,ec3:_.gd,ac3:_.ed},image:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}};_.aj.prototype.toString=function(){function a(d){return d.name+"\x3d"+(isNaN(Number(d.value))?'"'+d.value+'"':d.value)}var b="#"+this.name,c=this.attributes?this.attributes.map(a):[];this.value&&c.unshift(this.value);0<c.length&&(b+=":"+c.join(","));return b};_.aj.prototype.getAttribute=function(a){var b=this.attributes.filter(function(c){return c.name===a});return b.length?b[0]:null};_.ej.prototype.getPosition=function(){return this.position};_.ej.prototype.Hd=function(){return this.ka?this.ka-this.xa+1:null};_.ej.prototype.f=dh(0);_.x(_.fj,_.ej);var ij=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze",
"cs"],["dan","da"],["deu","de"],[_.be,"dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice",
"is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao",
"mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san",
"sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie",
"vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);var pj=function hv(a){var c;return _.Bh(hv,function(d){1==d.a&&(c=0);if(3!=d.a)return c<a?_.y(d,c,3):d.F(0);c++;return d.F(2)})};_.J("clpp.utils.BufferUtils",mj);mj.toArrayBuffer=wj;mj.toDataView=_.vj;mj.toInt32Array=_.uj;mj.toUint32Array=tj;mj.toUint16Array=sj;mj.toUint8Array=_.oj;mj.equal=qj;_.S={};_.S.dd=new _.K("clpp.utils.strings");_.S.Li=16E3;_.S.fromCharCode=function(a){for(var b=_.S.Li,c="",d=0;d<a.length;d+=b)c+=String.fromCharCode.apply(null,a.subarray(d,d+b));return c};_.S.ba=function(a){if(!a)return"";a=_.oj(a);239===a[0]&&187===a[1]&&191===a[2]&&(a=a.subarray(3));if("TextDecoder"in window){a=(new TextDecoder).decode(a);if(a.includes("\ufffd"))throw Error($a);return a}a=escape(_.S.fromCharCode(a));try{return decodeURIComponent(a)}catch(b){throw Error($a);}};
_.J("clpp.utils.strings.fromUtf8",_.S.ba);
_.S.qc=function(a,b,c){if(!a)return"";var d=_.S.dd;if(!c&&0!==a.byteLength%2)throw d.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");c=_.oj(a);if(b&&255===c[0]&&254===c[1]||254===c[0]&&255===c[1])a=c.subarray(2);a instanceof ArrayBuffer?d=a:(c=new Uint8Array(a.byteLength),c.set(_.oj(a)),d=c.buffer);a=Math.floor(a.byteLength/2);c=new Uint16Array(a);d=new DataView(d);for(var e=0;e<a;e++)c[e]=d.getUint16(2*e,b);return _.S.fromCharCode(c)};
_.S.Dd=function(a,b){if(_.M.ca(a))return a;var c="",d=!!b,e=_.oj(a);239===e[0]&&187===e[1]&&191===e[2]?c=_.S.ba(e):254===e[0]&&255===e[1]?c=_.S.qc(e.subarray(2),!1):255===e[0]&&254===e[1]&&(c=_.S.qc(e.subarray(2),!0));var f=function(g,h){return g.byteLength<=h||32<=g[h]&&126>=g[h]}.bind(null,e);_.S.dd.debug("Unable to find byte-order-mark, making an educated guess.");0===e[0]&&0===e[2]?c=_.S.qc(a,!1):0===e[1]&&0===e[3]?c=_.S.qc(a,!0):f(0)&&f(1)&&f(2)&&f(3)&&(c=_.S.ba(a));if(c)return d&&(c=escape(c)),
c;throw Error("Unable to detect text encoding");};_.J("clpp.utils.strings.fromBytesAutoDetect",_.S.Dd);_.S.Wa=function(a){if("TextEncoder"in window)return(new TextEncoder).encode(a);a=encodeURIComponent(a);a=unescape(a);for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.J("clpp.utils.strings.toUtf8",_.S.Wa);_.S.Se=function(a,b){for(var c=new Uint8Array(2*a.length),d=new DataView(c.buffer),e=0;e<a.length;++e)d.setUint16(2*e,a.charCodeAt(e),b);return c.buffer};
_.J("clpp.utils.strings.toUtf16",_.S.Se);_.S.jd=function(a,b){var c=b||1,d=a.length,e=new ArrayBuffer(d*c),f;4===c?f=tj(e):2===c?f=sj(e):f=_.oj(e);for(c=0;c<d;c++)f[c]=a.charCodeAt(c);return e};_.J("clpp.utils.strings.toByteArray",_.S.jd);_.S.startsWith=function(a,b){return String.prototype.startsWith?a.startsWith(b):0===a.indexOf(b)};_.J("clpp.utils.strings.startsWith",_.S.startsWith);
_.S.endsWith=function(a,b){if(String.prototype.endsWith)return a.endsWith(b);var c=a.length-b.length,d=a.lastIndexOf(b,c);return-1!==d&&d===c};_.J("clpp.utils.strings.endsWith",_.S.endsWith);_.S.He=function(a){return!!(a&&0<a.length)};_.S.empty=function(a){return!a||0===a.length};_.S.Wn=function(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()};_.S.Zn=function(a){return a.replace(/-(\w)/g,function(b,c){return c.toUpperCase()})};
_.S.lf=function(a){if(void 0===a||null===a||""===a)return"";try{var b=Number(a);if(_.M.isNaN(b))return"";a="bps";1E3<=Math.abs(b)&&(a="Kbps",b/=1E3);1E3<=Math.abs(b)&&(a="Mbps",b/=1E3);return b.toFixed(2).replace(/[.,]00$/,"")+a}catch(c){return""}};_.J("clpp.utils.strings.bitrateToString",_.S.lf);
_.S.zk=function(a,b){function c(h){return function(l,m){return d(h,m.length-1)}}function d(h,l){return h.length<l?d("0"+h,l):h}b=void 0===b?"%h:%mm:%ss":b;if(null===a||void 0===a)a=0;if(null===b||void 0===b)b="%h:%mm:%ss";var e=Math.floor(a/3600),f=Math.floor((a-3600*e)/60),g=Math.floor(a-3600*e-60*f);return b.replace(/(%h+)/,c(String(e))).replace(/(%m+)/,c(String(f))).replace(/(%s+)/,c(String(g)))};_.J("clpp.utils.strings.durationToString",_.S.zk);
_.S.Bk=function(a,b){for(var c in b)if(b[c]===a)return c;return""};_.S.kl=function(a){var b=0;if(0===a.length)return b;for(var c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b|=0;return b};_.J("clpp.utils.strings.hashCode",_.S.kl);_.S.wn=function(a){_.S.vi.innerHTML=a;return _.S.vi.textContent};_.S.vi=document.createElement("span");_.S.kg=function(a){a=a.replace(/<[^>]+>/gi,"");a=_.S.wn(a);return a=a.replace(/<[^>]+>/gi,"")};_.S.Qh=function(a){return a.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")};_.J("clpp.utils.Uint8ArrayUtils",xj);xj.toStandardBase64=_.yj;xj.concat=Ej;xj.equal=_.Dj;xj.toHex=_.Cj;xj.fromHex=_.Bj;xj.fromBase64=_.Aj;xj.toBase64Url=_.zj;_.Y={Bb:function(a,b){return a.filter(function(c){return c.name===b})},Ai:function(a){var b=/^[a-zA-Z0-9_-]+$/,c=new Set;a.forEach(function(d){var e=_.bj(d,"VALUE"),f=_.bj(d,"NAME"),g=_.bj(d,"IMPORT"),h=_.bj(d,"QUERYPARAM");if(1!==[f,g,h].filter(Boolean).length||f&&null==e)throw new _.N(_.O,4,4044,{message:"Invalid tag.",text:d.toString()});d=f||g||h;if(c.has(d))throw new _.N(_.O,4,4044,'EXT-X-DEFINE redefined variable "'+d+'".');if(!b.test(d))throw new _.N(_.O,4,4044,'EXT-X-DEFINE invalid variable name "'+
d+'".');c.add(d)})},Bf:function(a,b){var c=Array.isArray(b)?b:[b];return a.filter(function(d){d=_.cj(d,_.fc);return c.includes(d)})},bd:function(a,b){return a.some(function(c){return c.name===b})},Ra:function(a,b,c){c=void 0===c?{}:c;a=a.find(function(d){return d.name===b})||null;if(!a&&c.required)throw new _.N(_.O,4,4024,{missingTag:b});return a},wh:function(a,b){return _.Y.Ra(a,b,{required:!0})},Uk:function(a,b,c){c=void 0===c?0:c;return(a=_.Y.Ra(a,b))?Number(a.value):c},co:function(a,b,c){return a.filter(function(d){var e=
d.getAttribute(_.fc);d=d.getAttribute(_.gb);return e.value===b&&d.value===c})},Nm:function(a){var b=_.Y.Ra(a,"EXT-X-TILES");if(!b)return{Jd:1,be:1,durationPerTile:null};a=_.bj(b,"LAYOUT")||"1x1";b=_.bj(b,_.Ha);a=_.kj(a);return{Jd:a.Jd,be:a.be,durationPerTile:b?Number(b):null}},vd:function(a,b,c){c=void 0===c?!0:c;a=new _.Ji(a);b=new _.Ji(b);b=a.resolve(b).toString();return c?b:decodeURI(b)},Fh:function(a){return/^#(?!EXT)/m.test(a)},Mh:function(a,b){Array.isArray(a)||(a=[a]);a.forEach(function(c){for(var d=
_.w(_.Y.Qe(c)),e=d.next();!e.done;e=d.next())b(e.value,c)})},Qe:function(a){var b=new Set;a.variants.forEach(function(c){c.audio&&b.add(c.audio);c.video&&b.add(c.video)});a.textStreams.forEach(function(c){return b.add(c)});a.thumbStreams.forEach(function(c){return b.add(c)});return Array.from(b)},ll:function(a){return a.some(function(b){return _.Y.bd(b.X,Oa)})},Wi:function(a){return _.Y.Qe(a).filter(_.Y.Dh)},Mm:function(a,b){var c=_.Y.Ra(a,Oa);if(b&&c)return _.oc;c=_.Y.Ra(a,Ua);if(!c)return"LIVE";
if(c.value===_.oc)return _.oc;if("EVENT"===c.value)return"EVENT";throw new _.N(_.O,4,4044,"Invalid EXT-X-PLAYLIST-TYPE value: "+c.value);},$g:function(a){a={AUDIO:_.cd,VIDEO:_.r,SUBTITLES:_.P,"CLOSED-CAPTIONS":_.P}[a.toUpperCase()];if(!a)throw new _.N(_.O,4,4044,"EXT-X-MEDIA tag has an invalid TYPE attribute.");return a},qk:function(a){var b=_.cj(a,_.fc).toUpperCase();if(_.Y.$g(b)!==_.P)return null;a=a.getAttribute("FORCED");a=!(!a||!a.value||"YES"!==a.value.toUpperCase());var c=_.pg;b===_.sa&&(c=
_.rd);a&&(c=_.ue);return c},fi:function(a,b,c){c=void 0===c?!1:c;var d=0,e=null;if(a){d=a.split("@");a=Number(d[0]);if(0>=a)throw new _.N(_.O,4,4044,"Byte range length must be positive.");if(d[1]){if(d=Number(d[1]),0>d)throw new _.N(_.O,4,4044,"Byte range start byte must not be negative.");}else{if(c)throw new _.N(_.O,4,4044,"Invalid byte range, offset is required but missing.");if(null==b)throw new _.N(_.O,4,4044,"Invalid byte range, cannot calculate offset based on previous byte ranges.");d=b+1}e=
d+a-1}return{xa:d,ka:e}},hi:function(a,b){var c=_.Y.Ra(a,Ka);return _.Y.fi(c?c.value:null,b)},Hm:function(a){a=_.Y.wh(a,"EXTINF").value.split(",");return{duration:Number(a[0]),title:a[1]||null}},ii:function(a,b){function c(f){return null==f?null:Number(f)}b=void 0===b?{}:b;var d={me:!1,$i:!1,aj:null,ml:null,ji:null},e=_.Y.Ra(a,Xa,{required:b.oi});if(!e)return d;d.me="YES"===_.bj(e,"CAN-BLOCK-RELOAD");d.$i="YES"===_.bj(e,"CAN-SKIP-DATERANGES");d.aj=c(_.bj(e,"CAN-SKIP-UNTIL"));d.ml=c(_.bj(e,"HOLD-BACK"));
d.ji=c(_.bj(e,"PART-HOLD-BACK",void 0,{required:b.oi}));return d},gi:function(a,b,c){c=void 0===c?!1:c;a=_.bj(a,"BYTERANGE");return _.Y.fi(a,b,c)},Km:function(a){var b=_.Y.Bb(a,"EXT-X-MEDIA"),c=_.Y.Bb(a,_.Ya);a=_.Y.Bb(a,"EXT-X-IMAGE-STREAM-INF");return{ed:{Ui:_.Y.Bf(b,["AUDIO",_.nc]),closedCaptions:_.Y.Bf(b,_.sa),pn:_.Y.Bf(b,_.Yb)},ce:c,Hf:a}},tk:function(a,b){var c=_.Y.hi(a.X,null);return new _.fj(0,0,0,function(){return[a.a]},c.xa,c.ka,0,b)},Df:function(a,b){if(null==a)return null;var c=Object.assign({},
a);null==c.iv&&(c.iv=Ej(new Uint8Array(12),new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255])));return c},cl:function(a){var b=a.U;a=b[0].startTime;b=b[b.length-1].endTime;return{ac:a,Ee:b,duration:b-a}},Zk:function(a){var b=Infinity,c=Infinity;_.Y.Wi(a).forEach(function(d){d=_.Y.cl(d);b=Math.min(b,d.ac);c=Math.min(c,d.duration)});return{ac:b,duration:c}},Dh:function(a){return a.type===_.cd||a.type===_.r},Ck:function(a){return a.filter(_.Y.Dh)},Yk:function(a){return a.map(function(b){return _.Y.Zk(b).duration}).reduce(function(b,
c){return b+c},0)},Qk:function(a,b){return a&&b?_.Xo(a.drmInfos,b.drmInfos)?_.Wo(a.drmInfos,b.drmInfos):null:a?a.drmInfos:b?b.drmInfos:null},uk:function(a,b){return(b?b.Kb():"")+" - "+(a?a.Kb():"")},bh:function(a){return(a.video?a.video.hc:"")+" - "+(a.audio?a.audio.hc:"")},Jm:function(a,b,c,d){if(b===_.oc)return{delay:0,Bc:0};b=_.Y.Ra(a,Ta);if(c&&b)return c=Number(_.cj(b,"PART-TARGET")),null!=d?{delay:d,Bc:c}:{delay:_.Y.ii(a,{oi:!0}).ji,Bc:c};a=_.Y.wh(a,Za);a=Number(a.value);return null!=d?{delay:d,
Bc:a}:{delay:3*a,Bc:a}},Xk:function(a){var b=[];_.Y.Mh(a,function(c){b.push(c.Bl)});return{delay:Math.max.apply(Math,_.fh(b.map(function(c){return c.delay}))),Bc:Math.min.apply(Math,_.fh(b.map(function(c){return c.Bc})))}},te:function(a,b){return a+":"+b},tn:function(a){var b=_.Y.te,c=new Map;a.forEach(function(d){var e=b(d.td(),d.Vk());c.has(e)?(e=c.get(e),e.includes(d)||e.push(d)):c.set(e,[d])});return c},th:function(a){return _.gj(a||_.yg)},Dm:function(a){var b=new Map;a=_.w(a);for(var c=a.next();!c.done;c=
a.next()){c=c.value;var d=_.bj(c,_.vb);d=_.Y.th(d);var e=_.cj(c,_.gb);c=_.cj(c,"INSTREAM-ID");b.has(e)||b.set(e,new Map);b.get(e).set(c,d)}return b},yk:function(a){a=_.w(a.audio.concat(a.video));for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=b.Pk().filter(function(d){return"mp4a.40.34"!==d});b.dn(c)}},Om:function(a){if(null==a.getAttribute("FRAME-RATE")&&null==a.getAttribute(_.Vb))return null;var b=_.bj(a,"FRAME-RATE");a=_.bj(a,_.Vb);var c=_.w(a?a.split("x"):[null,null]);a=c.next().value;
c=c.next().value;return{frameRate:jj(b),width:jj(a),height:jj(c)}},xl:function(a){return"EXT-X-MEDIA"!==a.name?!0:_.bj(a,_.fc)===_.Yb},Em:function(a,b,c,d){var e=_.bj(a,"ID"),f=_.bj(a,"START-DATE");if(null===e||null===f)return _.Y.g.warn("Invalid  EXT-X-DATERANGE missing mandatory ID or START-DATE attribute, ignoring the EXT-X-DATERANGE tag.",a),null;b=d?c-b:-b;var g=new Date(f);f=g.getTime()/1E3+b;e={id:e,startTime:f,startDate:g};c=jj(_.bj(a,_.Ha));void 0!==c&&0<=c&&(e.duration=c);d=jj(_.bj(a,"PLANNED-DURATION"));
void 0!==d&&0<=d&&(e.plannedDuration=d);var h=_.bj(a,"CLASS");null!==h&&(e.schemeIdUri=h);var l=_.bj(a,"END-DATE");l=l?new Date(l):null;null!==l&&l.getTime()>=g.getTime()&&(e.endDate=l);g=_.Y.Cm(a)||{};var m=_.bj(a,"CUE");m&&(g.Gn=m.split(","));if(h===Sd){h=_.Y.Im(a);if(null===h)return _.Y.g.warn("Invalid interstitial attributes, ignoring the EXT-X-DATERANGE tag.",a),null;g=Object.assign(g,h)}_.M.Ld(g)&&(e.va=g);e.endTime=l?l.getTime()/1E3+b:c?f+c:d?f+d:f;e.type=_.iv;return e},Cm:function(a){var b=
a.attributes;if(null==b)return null;a={};b=_.w(b);for(var c=b.next();!c.done;c=b.next())c=c.value,c.name.startsWith("X-")&&(a[c.name]=c.value);return _.M.Ld(a)?a:null},Im:function(a){var b=a.attributes;if(null==b)return null;a={};b=_.w(b);for(var c=b.next();!c.done;c=b.next())switch(c=c.value,c.name){case wc:a[wc]=c.value;break;case vc:a[vc]=c.value;break;case yc:a[yc]=jj(c.value);break;case xc:a[xc]=jj(c.value);break;case "X-SNAP":a["X-SNAP"]=c.value.split(",");break;case "X-RESTRICT":a["X-SNAP"]=
c.value.split(",")}return a[wc]&&a[vc]||!a[wc]&&!a[vc]?(_.Y.g.warn("Invalid EXT-X-DATERANGE Interstitial attributes X-ASSET-URI, X-ASSET-LIST"),null):_.M.Ld(a)?a:null},lh:function(a,b){if(!a)return null;var c=a.hc;return b.find(function(d){return d.Kb()===c})||null}};_.Y.g=new _.K("clpp.hls.Utils");_.jv=new Set([_.Na,Oa,"EXT-X-I-FRAMES-ONLY",_.Sa,Ta,Ua,Xa,Za]);_.kv=new Set(["EXTINF",Ka,_.Ma,_.Pa,_.Ra,_.Wa]);_.lv=new Set(["EXT-X-PART",_.Va]);_.mv=new Set([_.La]);var Ij=[403,401];_.J("clpp.net.DEFAULT_FATAL_STATUS_CODES",Ij);_.J("clpp.net.makeRequest",_.Mj);_.Lj=6;_.J("clpp.net.RequestType",{MANIFEST:1,SEGMENT:2,LICENSE:3,APP:4,TIMING:5,OTHER:_.Lj});_.Rj.prototype.resolve=function(){};_.Rj.prototype.reject=function(){};_.Sj.prototype.abort=function(){this.a=!0;return this.A()};_.Sj.prototype.ne=function(a,b){function c(){e.reject(new _.N(_.O,7,7001));return d.abort()}var d=this,e=new _.Rj;this.P.then(function(f){d.a?e.reject(new _.N(_.O,7,7001)):a?c=Uj(a,f,e):e.resolve(f)},function(f){b?c=Uj(b,f,e):e.reject(f)});return new _.Sj(e,function(){return c()})};_.Sj.aborted=function(){var a=Promise.reject(new _.N(_.O,7,7001));a["catch"](function(){});return new _.Sj(a,function(){return Promise.resolve()})};
_.Sj.prototype.chain=_.Sj.prototype.ne;_.Vj.prototype.destroy=function(){for(var a=[],b=_.w(this.a),c=b.next();!c.done;c=b.next())c=c.value,c.P["catch"](function(){}),a.push(c.abort());this.a=[];return Promise.all(a)};_.t=_.dk.prototype;_.t.jn=function(a){0<a?_.Ih("Rate limit set to "+a+"bps"):_.Ih("Rate limit disabled");this.l=a};_.t.release=function(){return this.o.destroy()};_.t.destroy=function(){this.w=!0;this.f=[];this.h=[];return this.o.destroy()};_.t.jf=function(a){this.f.push(a)};_.t.Nc=function(a){this.h.push(a)};_.t.cg=function(a){this.f=this.f.filter(function(b){return b!==a})};_.t.Yd=function(a){this.h=this.h.filter(function(b){return b!==a})};
_.t.fetch=function(a){var b=this;if(this.w)return new eu(Promise.reject(new _.N(1,1,7001,{url:a.uris[a.uriIndex],request:a})));this.l&&0<this.l&&(a.rateLimitBps=this.l);for(var c=[],d=_.w(this.f),e=d.next();!e.done;e=d.next())c.push(e.value);if(a.requestModifiers)for(d=_.w(a.requestModifiers),e=d.next();!e.done;e=d.next())c.push(e.value);a.requestModifiers=c;c=[];d=_.w(this.h);for(e=d.next();!e.done;e=d.next())c.push(e.value);if(a.responseModifiers)for(d=_.w(a.responseModifiers),e=d.next();!e.done;e=
d.next())c.push(e.value);a.responseModifiers=c;d=c=new _.Rj;try{var f={},g=_.w(a.requestModifiers);for(e=g.next();!e.done;f={$e:f.$e},e=g.next())f.$e=e.value,d=d.then(function(n){return function(p){if(h.a)throw new _.N(_.O,1,7001,p?{url:p.uris[p.uriIndex],request:p}:null);return n.$e(p)||p}}(f))["catch"](function(n){if(n instanceof _.N)throw n;throw new _.N(_.O,1,1006,null,n);});d=d.then(function(n){var p=new _.Ji(n.uris[n.uriIndex]),q=p.ib;q||(q=location.protocol,q=q.slice(0,-1),Ki(p,q),n.uris[n.uriIndex]=
p.toString());q=b.a[q];if(!q)throw new _.N(_.O,1,1E3,{url:p.toString()});return{request:n,plugin:q}});var h=new eu(d);g={};var l=_.w(a.responseModifiers);for(e=l.next();!e.done;g={ge:g.ge},e=l.next())g.ge=e.value,h.then(function(n){return function(p){function q(){if(h.a)throw new _.N(_.O,1,7001,p?{url:p.request.uris[p.request.uriIndex],request:p.request}:null);}q();var u=n.ge(p)||p;q();return u}}(g))["catch"](function(n){return function(p){if(p instanceof _.N&&p.data&&p.data.response){var q=n.ge(p.data.response);
if(q&&q.then)return q.then(function(){return Promise.reject(p)})}return Promise.reject(p)}}(g))["catch"](function(n){if(n instanceof _.N)throw n;throw new _.N(_.O,1,1007,null,n);});l={};var m=_.w(this.j);for(e=m.next();!e.done;l={af:l.af},e=m.next())l.af=e.value,h["catch"](function(n){return function(p){p instanceof _.N&&p.data&&p.data.response||n.af({uri:a.uris[a.uriIndex],data:(new Uint8Array(0)).buffer,status:-1,timeMs:0,headers:{},request:a});return Promise.reject(p)}}(l))["catch"](function(n){if(n instanceof
_.N)throw n;throw new _.N(_.O,1,1007,null,n);});_.Wj(this.o,h);c.resolve(a);return h}catch(n){return new eu(Promise.reject(n))}};_.J("clpp.net.NetworkEngine",_.dk);_.dk.prototype.fetch=_.dk.prototype.fetch;_.dk.prototype.removeResponseModifier=_.dk.prototype.Yd;_.dk.prototype.removeRequestModifier=_.dk.prototype.cg;_.dk.prototype.addResponseModifier=_.dk.prototype.Nc;_.dk.prototype.addRequestModifier=_.dk.prototype.jf;_.dk.prototype.setRateLimit=_.dk.prototype.jn;var lk;_.hk.prototype.la=function(a){return this.type===a.type&&this.channelsCount===a.channelsCount&&this.frameRate===a.frameRate&&this.trickPlay===a.trickPlay&&this.kind===a.kind&&this.label===a.label&&this.language===a.language&&this.mimeType===a.mimeType&&pi(this.roles,a.roles)&&pi(this.accessibility,a.accessibility,pk)};_.hk.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length};_.J("clpp.Track",_.hk);
_.hk.prototype.toString=_.hk.prototype.toString;_.J("clpp.Rendition",_.sk);_.nk=1;_.kk=_.r;_.jk=_.cd;_.T="text";lk=_.Te;_.nv={VIDEO:_.kk,AUDIO:_.jk,TEXT:_.T,METADATA:lk};_.hk.Type=_.nv;_.J("clpp.utils.url.queryString",_.vk);yk.prototype.h=function(a,b){var c=this,d,e,f,g,h,l,m;return _.I(function(n){switch(n.a){case 1:return d=null,_.D(n,2),_.y(n,Ek(c,a),4);case 4:d=n.f;_.th(n,3);break;case 2:return e=_.E(n),c.g.warn("Failed to fetch playlist in order metadata from HLS playlist.",e.message),n["return"](Promise.resolve({}));case 3:f={};_.D(n,5);if(!b.enableHlsVideoTrackInfo){n.F(7);break}return _.y(n,Bk(c,d,a),8);case 8:g=n.f,f.renditions=g.renditions,f.mimeType=g.mimeType;case 7:_.th(n,6);break;case 5:h=_.E(n),c.g.warn("Failed to parse video metadata from HLS playlist.",
h.message);case 6:return _.D(n,9),_.y(n,Dk(d),11);case 11:l=n.f;f.ed=l;_.th(n,10);break;case 9:m=_.E(n),c.g.warn("Failed to parse metadata from HLS playlist.",m.message);case 10:return n["return"](f)}})};_.Kk=[];_.t=_.U.prototype;_.t.pf=function(){return!0};_.t.Ik=function(a){return this.getVideoTracks().find(function(b){return _.M.la(b,a,a&&Object.keys(a))})};_.t.Ek=function(a){return this.getAudioTracks().find(function(b){return _.M.la(b,a,a&&Object.keys(a))})};_.t.Gk=function(a){return this.ia().find(function(b){return _.M.la(b,a,a&&Object.keys(a))})};_.t.Hk=function(a){return this.getVideoTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.M.la(b,a,a&&Object.keys(a))})};
_.t.Dk=function(a){return this.getAudioTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.M.la(b,a,a&&Object.keys(a))})};_.t.Fk=function(a){return this.ia().flatMap(function(b){return b.renditions}).find(function(b){return _.M.la(b,a,a&&Object.keys(a))})};_.J("clpp.TrackManager",_.U);_.U.prototype.isAbrEnabled=_.U.prototype.ra;_.U.prototype.addTextTrack=_.U.prototype.addTextTrack;_.U.prototype.findTextRendition=_.U.prototype.Fk;_.U.prototype.findAudioRendition=_.U.prototype.Dk;
_.U.prototype.findVideoRendition=_.U.prototype.Hk;_.U.prototype.findTextTrack=_.U.prototype.Gk;_.U.prototype.findAudioTrack=_.U.prototype.Ek;_.U.prototype.findVideoTrack=_.U.prototype.Ik;_.U.prototype.setTextRendition=_.U.prototype.kb;_.U.prototype.setAudioRendition=_.U.prototype.jb;_.U.prototype.setVideoRendition=_.U.prototype.$a;_.U.prototype.setTextTrack=_.U.prototype.Ma;_.U.prototype.setAudioTrack=_.U.prototype.Ba;_.U.prototype.setVideoTrack=_.U.prototype.lb;_.U.prototype.getTextTrack=_.U.prototype.wa;
_.U.prototype.getAudioTrack=_.U.prototype.ma;_.U.prototype.getVideoTrack=_.U.prototype.Ka;_.U.prototype.getLoadingTextRendition=_.U.prototype.pb;_.U.prototype.getLoadingAudioRendition=_.U.prototype.ob;_.U.prototype.getLoadingVideoRendition=_.U.prototype.fb;_.U.prototype.getTextRendition=_.U.prototype.Ja;_.U.prototype.getAudioRendition=_.U.prototype.Qa;_.U.prototype.getVideoRendition=_.U.prototype.na;_.U.prototype.getTextTracks=_.U.prototype.ia;_.U.prototype.getAudioTracks=_.U.prototype.getAudioTracks;
_.U.prototype.getVideoTracks=_.U.prototype.getVideoTracks;_.U.prototype.canSelectVideoTracks=_.U.prototype.pf;var Ok=new Map,Nk=1,Sk=2,Rk=3,Qk=4;_.ov=(new Map).set(_.Od,_.Od).set("frameRate","framerate").set("bandwidth","bitrate").set(_.Zg,_.Zg).set(_.xe,_.xe).set("channelsCount","channels");_.Xk.prototype.da=function(a){return Yk(this,a,!1)};_.Xk.prototype.mb=function(a){return Yk(this,a,!0)};_.Xk.prototype.stop=function(){this.a&&(this.a(),this.a=null)};_.Zk.prototype.ng=function(){this.stop();this.f();return this};_.Zk.prototype.da=function(a){var b=this;this.stop();this.a=(new _.Xk(function(){b.f()})).da(a);return this};_.Zk.prototype.mb=function(a){var b=this;this.stop();this.a=(new _.Xk(function(){b.f()})).mb(a);return this};_.Zk.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)};_.J("clpp.utils.Timer",_.Zk);_.Zk.prototype.stop=_.Zk.prototype.stop;_.Zk.prototype.tickEvery=_.Zk.prototype.mb;_.Zk.prototype.tickAfter=_.Zk.prototype.da;
_.Zk.prototype.tickNow=_.Zk.prototype.ng;_.J(Nd,$k);$k.getInfo=_.ak;
var kl=null,jl=null,ml=new _.K(Nd),tl="android",sl="ios",yl="linux",ul="osx",vl="windows",wl="tizen",xl="webos",rl=zg,Bl=zg,Al={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,
chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,
chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},
webos:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}};_.x(Cl,_.U);_.t=Cl.prototype;_.t.pf=function(){return!_.gl()};
_.t.Vf=function(a,b){var c=this,d,e,f,g,h,l,m,n,p,q,u,v,z,A,G,F,C,H;return _.I(function(Q){if(1==Q.a){if(!b)return c.g.warn(Db),Q["return"]();d=b.track;if(!d)return c.g.warn(Gb),Q["return"]();e=a===_.jk;f=a===_.kk;g=a===_.T;h=e||f;l=b.target;if(m=c.h.find(function(R){return Ql(R,d,a)}))return c.g.warn("Track from event already exists",d,m),Q["return"]();n=ok(a,d);p=Ul(d);if(g){if(d.kind===_.Te)return Q["return"]();void 0!==d.id?q=c.o[d.id]:(u=Object.values(c.o),q=u.find(function(R){return Ql(n,R,
a)}));n.kind&&"captions"===n.kind&&(n.mimeType=_.Vc);q&&(n.src=q.url,n.mimeType=q.mimeType)}else if(m=c.h.find(function(R){return R.type===a&&_.M.la(R,n,["kind","label","language"])}))return m.id=d.id,p&&(c.g.debug(bc+a+" track active"),c.a.set(a,m)),c.g.debug("Track from event seems to already exists, flipped native track to",d),Q["return"]();_.D(Q,2);v=new _.sk(n.id,n);n.renditions.push(v);c.h.push(n);z=c.m.getConfiguration().safari;return Gl(c,a,z)?_.y(Q,Jl(c,n,z),5):Hl(c,a,z)?_.y(Q,Kl(c,n,z),
5):Q.F(5)}if(2!=Q.a)return c.g.debug(a+" Track added",n),c.m.trigger(new _.L(_.pv)),A=Nl(c,a).length,G=!(!l||!l.length),F=l&&l.length||0,C=function(){c.g.debug(bc+a+" track active. Native track active: "+(p+". Number of tracks: ")+A,d);c.a.set(a,n)},p?C():1===A&&h&&(f?C():G&&1!==F||C()),_.th(Q,0);H=_.E(Q);c.g.error("Error while converting track data",H);_.B(Q)})};
_.t.Xf=function(a,b){if(b){var c=b.track;if(!c)this.g.warn(Gb);else if(a===_.T&&c.kind!==_.Te){var d=this.h.find(function(e){return Ql(e,c,a)});d&&(this.h.splice(this.h.indexOf(d),1),(this.a.get(a)||null)===d&&(this.a.set(a,null),Wl(this)),this.g.debug(a+" Track removed, id: ",d.id))}}else this.g.warn(Db)};
_.t.Wf=function(a,b){this.g.debug(a+" Track changed",b);a===_.T&&Wl(this);var c=Ml(this,a);if(c)for(var d={Hc:0};d.Hc<c.length;d={Hc:d.Hc},++d.Hc)if(Ul(c[d.Hc])){if(d=this.h.find(function(e){return function(f){return Ql(f,c[e.Hc],a)}}(d)))this.a.set(a,d),this.g.debug("Track change detected, id:",d.id),d===this.l.get(a)&&this.l.set(a,null),a===_.jk?this.m.trigger(new _.L(_.Rl)):a===_.T&&this.m.trigger(new _.L(_.Sl));break}};_.t.initialize=function(a){this.m=a;this.j=new yk(a.getNetworkEngine())};
_.t.load=function(){this.A=!1;var a=Ll(this,_.T);a&&(this.f.on(a,_.Pc,this.J),this.f.on(a,Tf,this.L),this.f.on(a,yd,this.K));if(a=Ll(this,_.jk))this.f.on(a,_.Pc,this.G),this.f.on(a,Tf,this.I),this.f.on(a,yd,this.H);if(a=Ll(this,_.kk))this.f.on(a,_.Pc,this.N),this.f.on(a,Tf,this.V),this.f.on(a,yd,this.R);this.f.one(this.m,qd,this.Uj.bind(this))};_.t.release=function(){this.A=!0;this.h=[];this.o={};this.a.clear();this.l.clear();this.f.release()};_.t.destroy=function(){this.release();this.m=null};
_.t.getVideoTracks=function(){return Nl(this,_.kk)};_.t.getAudioTracks=function(){return Nl(this,_.jk)};_.t.ia=function(){return Nl(this,_.T)};_.t.na=function(){var a=this,b=this.a.get(_.kk)||null;if(!b)return null;if(this.w){var c=b.renditions.find(function(d){return d.width===a.w.width&&d.height===a.w.height});if(c)return c}return b.renditions[0]||null};_.t.Qa=function(){return Ol(this,_.jk)};_.t.Ja=function(){return Ol(this,_.T)};_.t.fb=function(){return Pl(this,_.kk)};
_.t.ob=function(){return Pl(this,_.jk)};_.t.pb=function(){return Pl(this,_.T)};_.t.Ka=function(){return this.a.get(_.kk)||null};_.t.ma=function(){return this.a.get(_.jk)||null};_.t.wa=function(){return this.a.get(_.T)||null};_.t.lb=function(a){Tl(this,_.kk,a)};_.t.Ba=function(a){Tl(this,_.jk,a)};_.t.Ma=function(a){Tl(this,_.T,a)};_.t.$a=function(a){Tl(this,_.kk,a&&a.track)};_.t.jb=function(a){Tl(this,_.jk,a&&a.track)};_.t.kb=function(a){Tl(this,_.T,a&&a.track)};
_.t.addTextTrack=function(a){var b=this,c;return _.I(function(d){return a.mimeType.match(/text\/vtt/)?(c="External_"+b.B++,b.o[c]=a,Dl(b,a,c),d.F(0)):_.y(d,El(b,a),0)})};_.t.ra=function(){return 1>=this.getVideoTracks().flatMap(function(a){return a.renditions}).length};
_.t.Uj=function(){var a=this,b,c,d;return _.I(function(e){if(1==e.a){b=a.m.getConfiguration();Vl(a,_.jk,b.preferredAudioLanguage);c=Ml(a,_.T);if(c.some(function(f){return Ul(f)}))return e.F(2);d=Ll(a,_.T);return _.y(e,new Promise(function(f){a.f.one(d,yd,f);(new _.Zk(f)).da(1)}),2)}if(a.A)return e["return"]();Vl(a,_.T,b.preferredTextLanguage);_.B(e)})};Cl.prototype.isAbrEnabled=Cl.prototype.ra;Cl.prototype.addTextTrack=Cl.prototype.addTextTrack;Cl.prototype.setTextRendition=Cl.prototype.kb;
Cl.prototype.setAudioRendition=Cl.prototype.jb;Cl.prototype.setVideoRendition=Cl.prototype.$a;Cl.prototype.setTextTrack=Cl.prototype.Ma;Cl.prototype.setAudioTrack=Cl.prototype.Ba;Cl.prototype.setVideoTrack=Cl.prototype.lb;Cl.prototype.getTextTrack=Cl.prototype.wa;Cl.prototype.getAudioTrack=Cl.prototype.ma;Cl.prototype.getVideoTrack=Cl.prototype.Ka;Cl.prototype.getLoadingTextRendition=Cl.prototype.pb;Cl.prototype.getLoadingAudioRendition=Cl.prototype.ob;Cl.prototype.getLoadingVideoRendition=Cl.prototype.fb;
Cl.prototype.getTextRendition=Cl.prototype.Ja;Cl.prototype.getAudioRendition=Cl.prototype.Qa;Cl.prototype.getVideoRendition=Cl.prototype.na;Cl.prototype.getTextTracks=Cl.prototype.ia;Cl.prototype.getAudioTracks=Cl.prototype.getAudioTracks;Cl.prototype.getVideoTracks=Cl.prototype.getVideoTracks;Cl.prototype.canSelectVideoTracks=Cl.prototype.pf;_.t=_.Xl.prototype;_.t.start=function(a){if(this.f)return this.f.start(a);if(a<this.a.length)return this.a[a].start;throw Error(gc);};_.t.end=function(a){if(this.f)return this.f.end(a);if(a<this.a.length)return this.a[a].end;throw Error(gc);};_.t.Ha=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)};_.t.ha=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:this.end(this.length-1)};
_.t.tb=function(a,b,c){b=void 0===b?!0:b;c=void 0===c?0:c;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)||a>this.end(this.length-1))return!1;if(b)return c+a>=this.start(0)&&a<=this.end(this.length-1);for(b=0;b<this.length;b++)if(c+a>=this.start(b)&&a<=this.end(b))return!0;return!1};
_.t.ya=function(a,b){b=void 0===b?!1:b;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0))return 0;var c=0;if(b){var d=this.ha();null!=d&&(c=Math.max(0,d-a))}else for(d=this.length-1;0<=d&&this.end(d)>a;--d)c+=this.end(d)-Math.max(this.start(d),a);return c};_.t.toString=function(){for(var a="",b=0;b<this.length;b++)0<b&&(a+=" "),a+=this.start(b).toFixed(3)+"-"+this.end(b).toFixed(3);return a};_.J("clpp.BufferInfo",_.Xl);_.Xl.prototype.bufferedAheadOf=_.Xl.prototype.ya;
_.Xl.prototype.isBuffered=_.Xl.prototype.tb;_.Xl.prototype.bufferEnd=_.Xl.prototype.ha;_.Xl.prototype.bufferStart=_.Xl.prototype.Ha;_.Xl.prototype.end=_.Xl.prototype.end;_.Xl.prototype.start=_.Xl.prototype.start;_.t=_.Yl.prototype;_.t.addEventListener=function(a,b){this.on(a,b)};_.t.removeEventListener=function(a,b){this.off(a,b)};_.t.on=function(a,b,c){return this.Bd.on(a,b,c)};_.t.one=function(a,b,c){return this.Bd.one(a,b,c)};_.t.off=function(a,b){return this.Bd.off(a,b)};_.t.forwardEventsTo=function(a){a&&(0<=this.xd.indexOf(a)||this.xd.push(a))};_.t.dispatchEvent=function(a){this.trigger(a);return a.defaultPrevented};
_.t.stopForwardingEventsTo=function(a){a&&(a=this.xd.indexOf(a),0<=a&&this.xd.splice(a,1))};_.t.trigger=function(a){this.Bd.trigger(a);for(var b=_.w(this.xd),c=b.next();!c.done;c=b.next())c.value.dispatchEvent(a)};_.Yl.prototype.off=_.Yl.prototype.off;_.Yl.prototype.one=_.Yl.prototype.one;_.Yl.prototype.on=_.Yl.prototype.on;_.Yl.prototype.removeEventListener=_.Yl.prototype.removeEventListener;_.Yl.prototype.addEventListener=_.Yl.prototype.addEventListener;_.J("clpp.events.ERROR",_.te);_.J("clpp.events.LOADEDMETADATA",_.Ne);_.J("clpp.events.BUFFERING_ENDED",_.nd);_.J("clpp.events.BUFFERING_STARTED",_.od);_.J("clpp.events.STATE_CHANGED",_.jg);_.Rl="audiotrackchanged";_.J("clpp.events.AUDIO_TRACK_CHANGED",_.Rl);_.Sl="texttrackchanged";_.J("clpp.events.TEXT_TRACK_CHANGED",_.Sl);_.J("clpp.events.VIDEO_TRACK_CHANGED",_.Og);_.J("clpp.events.BITRATE_CHANGED",_.ld);_.pv="tracksadded";_.J("clpp.events.TRACKS_ADDED",_.pv);_.J("clpp.events.LOAD_START",Oe);
_.J("clpp.events.RELEASING",_.Sf);_.J("clpp.events.RELEASED",Rf);_.J("clpp.events.DESTROYING","destroying");_.J("clpp.events.DESTROYED","destroyed");_.J("clpp.events.VIDEO_BUFFER_CHANGED",_.Ng);_.J("clpp.events.AUDIO_BUFFER_CHANGED",_.jd);_.J("clpp.events.DOWNLOAD_TRACE","downloadtrace");_.J("clpp.events.DRM_SESSION_UPDATE",_.me);_.J("clpp.events.DRM_SESSION_PERSISTED",_.le);_.J("clpp.events.DRM_RENEWAL_STARTED",ke);_.J("clpp.events.DRM_EXPIRATION_UPDATE",_.je);
_.J("clpp.events.AUTOPLAY_NOT_ALLOWED",_.kd);_.J("clpp.events.PLAY",_.of);_.J("clpp.events.SEEKING",_.bg);_.J("clpp.events.SEEKED",_.ag);_.J("clpp.events.USER_SEEKING",_.Gg);_.J("clpp.events.USER_SEEKED",_.Dg);_.vp={SEEKING:1,NO_DATA:2};_.J("clpp.events.BufferingReasons",_.vp);_.J("clpp.events.ADS_TIMELINE_CHANGED",_.Qc);_.J("clpp.events.AD_LOADED",_.Gc);_.J("clpp.events.AD_BREAK_STARTED",_.zc);_.J("clpp.events.AD_STARTED",_.Mc);_.J("clpp.events.AD_BUFFERING",_.Bc);_.J("clpp.events.AD_PROGRESS",_.Jc);
_.J("clpp.events.AD_FIRST_QUARTILE",_.Ec);_.J("clpp.events.AD_MIDPOINT",_.Hc);_.J("clpp.events.AD_THIRD_QUARTILE",_.Oc);_.J("clpp.events.AD_PAUSED",_.Ic);_.J("clpp.events.AD_RESUMED",_.Kc);_.J("clpp.events.AD_SKIPPED",_.Lc);_.J("clpp.events.AD_CLICKED",_.Cc);_.J("clpp.events.AD_IMPRESSION",_.Fc);_.J("clpp.events.AD_COMPLETED",_.Dc);_.J("clpp.events.AD_STOPPED",_.Nc);_.J("clpp.events.AD_BREAK_STOPPED",_.Ac);_.J("clpp.events.SIMID_CREATIVE_STARTED",_.dg);_.J("clpp.events.SIMID_CREATIVE_STOPPED",_.eg);
_.J("clpp.events.CASTING_STARTED",_.sd);_.J("clpp.events.CASTING_ENDED","castingended");_.J("clpp.events.CAST_STATUS_CHANGED",_.td);_.J("clpp.events.AIRPLAY_STATUS_CHANGED",_.Tc);_.J("clpp.events.AIRPLAY_CASTING_STARTED",_.Sc);_.J("clpp.events.AIRPLAY_CASTING_ENDED",_.Rc);_.ii="timeline-cue-added";_.J("clpp.events.TIMELINE_CUE_ADDED",_.ii);_.ki="timeline-cue-enter";_.J("clpp.events.TIMELINE_CUE_ENTER",_.ki);_.li="timeline-cue-exit";_.J("clpp.events.TIMELINE_CUE_EXIT",_.li);
_.J("clpp.events.MPD_TYPE_CHANGED",_.Xe);_.J("clpp.events.LIVE_TURNED_STATIC",_.Ke);_.J("clpp.events.VIMOND_RESPONSE",_.Pg);_.J("clpp.events.PLAYLIST_ITEM_CHANGED",_.Af);_.J("clpp.events.PLAYLIST_MODIFIED",_.Bf);_.J("clpp.events.SC_PLAYLIST_TIMELINE_CHANGED",_.$f);_.J("clpp.events.SC_PLAYLIST_ITEM_CHANGED",_.Yf);_.J("clpp.events.SC_PLAYLIST_ENDED",_.Xf);_.J("clpp.events.SC_PLAYLIST_LIVE_TURNED_STATIC",_.Zf);_.J("clpp.events.CDN_SWITCH_SUCCESS",_.ud);_.J("clpp.events.ONLINE_STATUS_CHANGED",ff);var Zl=["play() failed because the user didn't interact","The play method is not allowed by the user agent","The request is not allowed by the user agent or the platform"];_.J("clpp.version",_.ja);_.J("clpp.name",_.wa);_.Il="application/x-mpegurl";_.J("clpp.Type",{DASH:_.Wc,HLS:_.Il,SMOOTH_STREAMING:_.ad,MP4:_.Mg});_.hi="scte35";_.iv="hls-daterange";_.fi=zg;_.J("clpp.TimelineCueType",{SCTE35:_.hi,DASH_CALLBACK:_.Ye,HLS_DATERANGE:_.iv,UNKNOWN:_.fi});_.J("clpp.SpeedUpMode",{DECODER:_.Zd,SEEK:"seek"});_.J("clpp.CodecSwitchingStrategy",{PREVENT:_.Lf,SMOOTH:_.gg});_.J("clpp.utils.PlayerConfiguration",am);am.create=_.fm;var qv=["abort",pd,qd,oe,"emptied",qe,_.se,_.te,"interruptbegin","interruptend",_.Le,_.Ne,Oe,"mozaudioavailable",_.kf,_.of,_.zf,_.Of,_.Qf,_.ag,_.bg,hg,"suspend",_.ug,"volumechange",_.Sg,_.Tg,_.Vf,Yg,Xg,Vg,Wg];_.x(_.hm,_.Yl);_.t=_.hm.prototype;_.t.init=function(a,b){this.configuration=this.kc=b;this.D=a;this.log.info("Initializing Player surface");var c=this.D.getMedia();this.log.info("Attaching media element listeners");for(var d=_.w(qv),e=d.next();!e.done;e=d.next())e=e.value,this.N.on(c,e,this.Fi,e!==_.te);this.zd||(this.zd=this.dh());this.zd.initialize(this);this.D.showMediaElement()};_.t.release=function(){this.V&&(this.V.destroy(),this.V=null);return Promise.resolve()};
_.t.destroy=function(){this.N.release();return this.ag.release()};_.t.canPlay=function(a,b){return _.Qh[this.namespace()].canPlay(a,b)};_.t.getTimeline=function(){return null};_.t.setupPlaylist=function(){return Promise.reject(_.Ib)};_.t.appendLoad=function(){return Promise.reject(_.Ib)};_.t.seekWith=function(){return Promise.reject(_.Ib)};
_.t.play=function(){var a=this;if(!this.Z)return Promise.reject("No sources specified yet. You need to load content before calling play.");var b=this.D.getMedia().play();return Promise.resolve(b)["catch"](function(c){a.log.info("Caught play promise exception",c);var d={name:c.name||"",message:c.message||"",stack:c.stack||""};$l(d)?(a.trigger(new _.L(_.kd)),a.log.warn(_.oa)):d.name===Jb&&a.log.warn('Unrecognized "NotAllowedError" on play(). '+(c.name+": "+c.message));throw c;})};
_.t.pause=function(){var a=this;return this.Z?new Promise(function(b,c){var d=a.getState();if(d!==_.sp&&d!==_.up&&d!==_.Bp&&d!==_.Ap)c();else if(a.D.getMedia().pause(),a.getState()===_.Bp)a.N.one(a,_.jg,function(){b()});else b()}):Promise.reject("No sources specified yet. You need to load content before calling pause.")};_.t.isPaused=function(){return this.D.getMedia().paused};_.t.isEnded=function(){return this.D.getMedia().ended};_.t.getConfiguration=function(){return this.configuration};
_.t.setDrmCustomDataModifier=function(a){this.Wc=a};_.t.setCdnErrorCallback=function(a){this.Kc=a};_.t.Yc=function(){return this.Wc};_.t.getSurface=function(){return this.D};_.t.getBufferInfo=function(a){var b=this.getSurface().getMedia();return new _.Xl(b?b.buffered:void 0,a)};_.t.getPosition=function(){return this.getMediaPosition()};_.t.getMediaPosition=function(){var a=this.D.getMedia();if(a)return a.currentTime;this.log.warn("No media element available, can not report current time!");return 0};
_.t.seek=function(a){var b=this,c=this.getMediaPosition();if(void 0===a||null===a||typeof a!==_.k||a===c)return Promise.resolve();var d=this.D.getMedia();if(!d)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var e=a-c;return.1>=Math.abs(e)?(this.log.info("Skip seek. Delta "+Math.abs(e)+" \x3c 0.1"),Promise.resolve()):new Promise(function(f,g){function h(){if(d.readyState>HTMLMediaElement.HAVE_NOTHING)m();else b.N.one(d,_.Ne,m)}function l(n){var p=b.getMediaPosition(),
q=.1>=Math.abs(a-p),u=.25<p-a,v=d.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,z=n.type===_.ag,A=n.type===_.Of,G=n.type===_.ug,F=A&&v;u=z||q&&F||G&&u;b.log.debug("Checking seeking state after "+n.type+" event. Seek completed:",u,"Current Time:",p,"Target Time:",a,"Native Event:",z,"Time reached",q,"Timeupdate:",G,"Progress:",A,"ReadyState:",v,"Progress Ready:",F);u?(b.dg=!1,b.Rd=!1,b.N.off(d,_.ag,l),b.N.off(d,_.ug,l),b.N.off(d,_.Of,l),b.di(),b.trigger(new _.L(_.Dg)),f()):A&&c===p&&(b.log.debug("Seek seemed to have been ignored. Trying again"),
d.currentTime=a)}function m(){b.trigger(new _.L(_.Gg));b.N.on(d,_.ag,l);b.N.on(d,_.ug,l);b.N.on(d,_.Of,l);b.log.info("Seeking to "+a+". Delta "+e);b.dg=!0;b.Rd=!0;d.currentTime=a}b.getState()===_.np?(b.log.debug("Player is in IDLE state. Postpone seek."),b.N.one(b,_.jg,function(){switch(b.getState()){case _.sp:case _.Bp:case _.Ap:b.log.debug("Valid seek state reached.");h();break;default:b.log.warn("Invalid seek target state. Aborting seek"),g()}})):h()})};
_.t.getVolume=function(){var a=this.D.getMedia();if(a)return a.volume;this.log.warn("No media element available, can not report volume!");return null};_.t.setVolume=function(a){var b=this.D.getMedia();b?_.M.sa(a)?0>a||1<a?this.log.warn(ua+a+".\n          Value must be between 0 and 1."):b.volume=a:this.log.warn(ua+a+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")};_.t.isMuted=function(){return this.D.getMedia().muted};
_.t.setMuted=function(a){var b=this.D.getMedia();typeof a===_.md&&(b.muted=a)};_.t.getDuration=function(){return this.getMediaDuration()};_.t.getMediaDuration=function(){return this.Z?this.D.getMedia().duration:-1};_.t.getTrackManager=function(){return this.zd};_.t.getPlaybackRate=function(){var a=this.D.getMedia();return a&&a.playbackRate||1};_.t.setPlaybackRate=function(a){var b=this.D.getMedia();void 0!==a&&b&&(b.playbackRate=a)};_.t.setSourceIndex=function(a){this.Ce=a};_.t.getSourceIndex=function(){return this.Ce};
_.t.getLoadedSource=function(){return this.Z&&-1!==this.Ce?this.Z[this.Ce]:null};_.t.getPeriods=function(){return[]};_.t.getNetworkEngine=function(){return this.ag};_.t.setNetworkEngine=function(a){this.ag=a};_.t.getTextDisplayer=function(){return this.V};_.t.getTimelineCues=function(){return[]};_.t.resetAbr=function(){};
_.t.Xm=function(a){var b=this.getSurface().getMedia(),c=this.getPosition(),d="Received Video Element Event: '"+a.type+"' with playhead at: "+c;if(a.type===_.ug||a.type===_.Of)this.ug.debug(d);else{var e="";switch(a.type){case _.Qf:e="Rate: "+this.getPlaybackRate();break;case oe:e="Duration: "+this.getDuration();break;case "volumechange":e="Volume: "+this.getVolume()+" Muted: "+this.isMuted();break;case _.of:case _.zf:case "suspend":case _.Sg:case hg:case _.bg:case _.ag:case _.ug:case _.Of:case pd:case qd:b=
this.getBufferInfo().ya(c);e="State "+this.getSurface().getMedia().readyState+" Buffer: "+b;break;case _.Vf:null!=b&&(e="Size: "+b.videoWidth+"x"+b.videoHeight)}e&&(d+=". "+e);this.ug.info(d)}a.type!==_.te&&this.trigger(new _.L(a.type,{detail:a}))};_.t.di=function(){};_.hm.prototype.getTextDisplayer=_.hm.prototype.getTextDisplayer;_.hm.prototype.setNetworkEngine=_.hm.prototype.setNetworkEngine;_.hm.prototype.getNetworkEngine=_.hm.prototype.getNetworkEngine;var km;km=new _.K("clpp.Components");_.im=new Map;_.J("clpp.install",function(a){sm(a)});_.J("clpp.uninstall",function(a){tm(a)});um.prototype.release=function(){this.a=this.f=null};_.J("clpp.drm.WidevineRobustnessLevel",{SW_SECURE_CRYPTO:_.Zb,SW_SECURE_DECODE:_.$b,HW_SECURE_CRYPTO:ib,HW_SECURE_DECODE:jb,HW_SECURE_ALL:hb});_.J("clpp.drm.PlayreadyRobustnessLevel",{SL150:"150",SL2000:"2000",SL3000:"3000"});_.J("clpp.drm.KeySystem",{NONE:_.Ze,CLEAR_KEY:_.hf,WIDEVINE:_.Vd,PLAYREADY:_.Td,FAIRPLAY:_.Rd,PRIMETIME:_.Qd});_.ym={};_.J("clpp.drm.registerDrmEnvironment",_.zm);var Cm={V1_STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,
96,39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,
134,188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,
185,188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,
48,60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,
153,20],V1_PROD:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,
224,79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,
211,8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,
28,189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,
73,152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,
244],V2:[10,187,2,8,3,18,16,160,220,209,96,48,44,4,19,213,32,118,162,12,129,36,76,24,191,132,241,238,5,34,142,2,48,130,1,10,2,130,1,1,0,188,93,207,198,77,28,25,14,217,103,5,56,106,241,93,252,216,61,104,36,3,52,23,246,32,9,11,77,12,188,251,189,53,137,249,11,36,52,104,185,13,221,170,204,238,44,227,192,167,199,144,75,188,190,7,211,16,145,75,13,132,119,167,164,29,39,107,69,76,50,161,131,132,248,207,237,214,130,27,113,204,37,77,14,232,248,26,85,213,126,147,7,183,241,23,44,117,142,192,109,70,192,86,166,
21,58,231,13,118,215,58,166,74,44,51,103,50,120,198,197,213,64,34,105,66,115,72,235,88,51,28,238,54,93,147,140,187,28,173,50,109,5,234,155,141,29,52,234,135,38,55,103,111,116,98,171,210,13,211,129,249,70,57,64,155,151,38,8,225,188,229,3,247,234,26,46,91,211,250,252,38,87,111,205,37,108,74,168,112,74,116,191,73,170,243,167,54,36,20,23,72,67,35,181,159,241,102,250,221,22,18,92,161,54,236,172,183,214,18,160,199,92,46,171,180,211,90,64,62,144,121,201,77,74,211,17,244,49,124,244,120,116,148,234,184,79,
136,12,176,34,231,39,149,87,28,219,2,3,1,0,1,58,12,99,97,115,116,108,97,98,115,46,99,111,109,64,1,18,128,3,50,97,151,165,120,63,210,172,84,187,10,36,166,202,149,32,118,107,37,251,186,217,170,254,4,95,20,85,66,157,43,154,24,66,136,147,101,223,78,204,173,228,175,111,100,168,97,164,222,84,160,51,79,233,227,223,105,252,85,11,242,129,199,206,11,9,236,118,163,118,204,179,159,69,108,223,229,114,176,8,26,36,9,23,103,233,62,55,162,154,209,96,98,102,80,173,114,233,213,36,56,135,65,188,245,176,95,70,189,199,
143,81,72,182,124,207,225,238,28,172,144,110,89,44,12,137,51,52,239,130,117,119,15,207,200,229,142,166,8,80,79,111,255,191,70,47,189,108,75,234,184,241,119,21,255,98,167,124,132,30,239,102,113,7,132,96,39,134,123,220,209,255,110,222,35,147,0,77,125,253,129,139,66,158,126,221,13,117,113,163,143,235,9,130,180,3,133,94,152,45,199,69,168,182,95,122,82,25,203,10,99,191,186,193,238,225,224,140,156,142,171,110,26,214,32,240,6,218,138,10,47,114,133,17,1,151,43,213,223,198,210,186,81,18,50,221,84,177,180,
26,58,164,235,113,177,235,207,22,230,8,119,76,167,166,176,173,209,214,53,116,116,231,227,221,238,174,87,249,19,166,195,81,47,210,172,15,75,251,202,192,80,85,213,23,17,178,104,181,193,115,239,91,72,230,167,55,143,10,250,26,54,8,60,13,213,206,235,3,215,179,205,232,1,144,158,35,48,196,149,117,219,63,196,130,117,40,165,193,65,215,122,44,201,218,67,216,6,131,178,5,168,229,21,137,112,215,254,127,48,160,181,68,49,255,64,46,247,236,85,155,146,208,5,219,252,37,174,31,218,136,135,55,119,112]};_.Em.prototype.Ua=function(a,b){this.f[a]=b};_.J("clpp.drm.DrmEnvironment",_.Em);_.Em.prototype.setDrmSystem=_.Em.prototype.Ua;_.Fm.prototype.getPosition=function(){return this.a};_.Fm.prototype.Ia=function(){return this.f.byteLength};_.Fm.prototype.seek=function(a){(0>a||a>=this.f.byteLength)&&_.Gm();this.a=a};_.Im.prototype.getPosition=function(){return this.a};_.Im.prototype.Ia=function(){return this.f.byteLength};_.Im.prototype.skip=function(a){this.a+a>this.f.byteLength&&_.Km();this.a+=a};_.Im.prototype.seek=function(a){if(0>a||a>=this.f.byteLength)throw _.Km();this.a=a};_.J("clpp.utils.dataview.DataViewReader",_.Im);_.t=_.Rm.prototype;_.t.M=function(a,b){var c=Vm(a);this.h[c]=rv;this.f[c]=b;return this};_.t.Y=function(a,b){var c=Vm(a);this.h[c]=sv;this.f[c]=b;return this};_.t.stop=function(){this.a=!0};_.t.parse=function(a,b){var c=_.oj(a);c=new _.Im(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);for(this.a=!1;_.Jm(c)&&!this.a;)this.Ne(0,c,b)};
_.t.Ne=function(a,b,c){var d=b.getPosition(),e=_.W(b),f=_.W(b),g=!1;this.g.debug("Parsing MP4 box",_.Wm(f));switch(e){case 0:e=b.Ia()-d;break;case 1:e=_.Om(b),g=!0}var h=this.f[f];if(h){var l=null,m=null;this.h[f]===sv&&(m=_.W(b),l=m>>>24,m&=16777215);f=b.getPosition()-d;var n=d+e;c&&n>b.Ia()&&(n=b.Ia());n-=b.getPosition();b=0<n?_.Qm(b,n):new Uint8Array(0);b=new _.Im(new DataView(b.buffer,b.byteOffset,b.byteLength),!1);h({parser:this,partialOkay:c||!1,version:l,flags:m,reader:b,size:e,start:d+a,headerSize:f,
has64BitSize:g})}else a=Math.min(d+e-b.getPosition(),b.Ia()-b.getPosition()),b.skip(a)};_.J("clpp.utils.Mp4Parser",_.Rm);_.Rm.typeToString=_.Wm;_.Rm.allData=_.Um;_.Rm.sampleDescription=_.Tm;_.Rm.children=_.Sm;_.Rm.prototype.parseNext=_.Rm.prototype.Ne;_.Rm.prototype.parse=_.Rm.prototype.parse;_.Rm.prototype.stop=_.Rm.prototype.stop;_.Rm.prototype.fullBox=_.Rm.prototype.Y;_.Rm.prototype.box=_.Rm.prototype.M;_.Rm.headerSize=_.Xm;var rv=0,sv=1;_.J("clpp.utils.FairplayUtils",Ym);Ym.parseFairPlayResponse=_.dn;Ym.formatFairPlayRequest=_.cn;Ym.createFairplayPayload=bn;Ym.extractContentId=_.$m;Ym.extractExtXKeyUri=Zm;var pn=new _.K("clpp.drm.DrmToday"),fn="PRODUCTION",gn="STAGING",hn="TEST",uv={PRODUCTION:fn,STAGING:gn,TEST:hn};_.J("clpp.drm.DrmToday.Environment",uv);_.J("clpp.drm.DrmToday.WidevineCertificates",{V1_PROD:"V1_PROD",V1_STAGING:"V1_STAGING",V2:"V2"});
for(var kn="/license-proxy-widevine/cenc/",ln="/license-proxy-headerauth/drmtoday/RightsManager.asmx",mn="/license-server-fairplay/",An={"00000":"Success","01000":"General Internal Error","02000":"General Request Error","03000":"General Request Authentication Error",10001:"Bad Request",3E4:"General DRM error",4E4:"General Widevine Modular error",40001:"Widevine Device Certificate Revocation (wv 127)",40002:"Widevine Device Certificate Revocation - Permanently (wv 175)",41E3:"General Widevine Classic error",
42E3:"General Playready error",43E3:"General Fairplay error",44E3:"General OMA error",44001:"OMA Device registration failed",45E3:"General CDRM error",45001:"CDRM Device registration failed",6E4:"CSL",60001:"CSL - INVALID",60100:"CSL - Denied by Stream Limiting",7E4:"General Output Protection",70001:"All keys filtered by EOP settings",8E4:"TAKE DOWN",80001:"TAKE DOWN - Denied by Take Down",9E4:"General GBL error",90001:"License delivery prohibited in your region"},vv={video:[hb,jb,ib,_.$b,_.Zb],audio:[hb,
jb,ib,_.$b,_.Zb]},wv={video:["3000","2000","150"],audio:["2000","150"]},xv=_.w(Object.keys(uv)),yv=xv.next();!yv.done;yv=xv.next()){var en=yv.value,zv=Fa;en!==fn&&(zv+="_"+en);var Av=new _.Em(zv),Bv=null;switch(en){case fn:case gn:Bv=Dm("V2");break;case hn:Bv=null}Av.Ua(_.Vd,{licenseUrl:nn(_.Vd),videoRobustness:vv.video,audioRobustness:vv.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:Bv,modifiers:{licenseRequest:_.sn,licenseResponse:_.zn}});Av.Ua(_.Rd,{licenseUrl:nn(_.Rd),
certificateUrl:jn()+"/license-server-fairplay/cert/",modifiers:{licenseRequest:_.un,licenseResponse:_.vn,extractContentId:_.qn,certificateRequest:_.yn}});Av.Ua(_.Td,{licenseUrl:nn(_.Td),videoRobustness:wv.video,audioRobustness:wv.audio,modifiers:{licenseRequest:tn}});_.zm(Av)};_.J("clpp.drm.eme.EmeFactory",Cn);var Dn=[];Cn.Apis={STANDARD:Xb,APPLE:"APPLE",WEBKIT:"WEBKIT",NOP:"NOP"};var Mn;_.Tn=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149];Mn=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237];_.x(Ln,Kn);_.x(_.Pn,Kn);var Vn=!!(performance&&performance.mark&&performance.measure);Yn.prototype.j=function(a){if(1<a.version)_.Ih("Unrecognized PSSH version found!");else{var b=_.Cj(_.Qm(a.reader,16)),c=[];if(0<a.version)for(var d=_.W(a.reader),e=0;e<d;++e){var f=_.Cj(_.Qm(a.reader,16));c.push(f)}d=_.W(a.reader);a.reader.skip(d);this.h.push.apply(this.h,c);this.f.push(b);this.a.push({start:a.start,end:a.start+a.size-1});a.reader.getPosition()!==a.reader.Ia()&&_.Ih("Mismatch between box size and data size!")}};_.t=_.bo.prototype;_.t.destroy=function(){var a=this;return _.I(function(b){if(1==b.a){if(a.j)return _.y(b,a.Ga,0);a.j=!0;return _.y(b,eo(a),4)}a.Ga.resolve();return b.F(0)})};_.t.keySystem=function(){return this.a?_.Ko(this.a.keySystem):""};_.t.getDrmInfo=function(){return this.a};
_.t.ci=function(a){var b=this,c,d,e;return _.I(function(f){if(1==f.a){if(b.G&&b.K===fo)return f["return"]();c=Math.floor(a.timeStamp);d="drm.msg."+c+ia;e="drm.msg."+c+".end";_.Wn(d);return!b.h.delayLicenseRequestUntilPlayed||b.B&&!b.B.paused||b.Na?_.y(f,Vo(b,a),2):(b.ea.push(a),f.F(2))}_.Wn(e);_.Xn("drm.sess.msg."+c,d,e);_.B(f)})};
_.t.Yh=function(a){var b=this,c=a.target;this.g.info("Key status changed for session",c.sessionId);var d=this.f.get(c),e=!1;c.keyStatuses.forEach(function(g,h){if(typeof h===_.mg){var l=h;h=g;g=l}if(Ro(b.a.keySystem)&&16===h.byteLength&&_.al()){l=_.vj(h);var m=l.getUint32(0,!0),n=l.getUint16(4,!0),p=l.getUint16(6,!0);l.setUint32(0,m,!1);l.setUint16(4,n,!1);l.setUint16(6,p,!1)}d&&g!==kg&&(d.loaded=!0);d&&d.La&&d.La.resolve();"expired"===g&&(e=!0);l=_.oj(h);var q=_.Cj(l);"00"===q&&d&&d.keyId?q=d.keyId:
b.a.keySystem.startsWith(_.Rd)&&16!==l.byteLength&&(q=_.S.fromCharCode(l));(l=q||"")?b.g.info(ub+q+"': "+g):b.g.info("Key status global keys: "+g);b.o.set(l,g);d&&!d.keyId&&b.f.forEach(function(u,v){v===c||u.keyId!==q||u.loaded||(u.loaded=!0)})});d&&d.loaded&&d.cb.forEach(function(g){b.o.get(g)===kg&&(b.g.warn(ub+g+fa),b.o.set(g,_.jf))});for(a=0;a<this.a.initData.length;a++){var f=this.a.initData[a];f.keyId&&this.o.get(f.keyId)===kg&&_.Dj(f.initData,d.initData)&&(this.g.warn(ub+f.keyId+fa),this.o.set(f.keyId,
_.jf))}a=c.expiration-Date.now();(0>a||e&&1E3>a)&&d&&!d.yb&&(this.g.debug("Session has expired",c.sessionId),(a=this.f.get(c))&&a.Tc&&a.Tc.stop(),this.f["delete"](c),c.close()["catch"](function(){}));Mo(this)&&(this.H.resolve(),1!==this.f.size||e?this.aa.da(.5):$n(this))};var fo=0,Zn=3;_.Zo=new Map;_.$o=new _.K("clpp.text");_.ip.prototype.getStats=function(){return{width:this.w,height:this.h,streamBandwidth:this.o,decodedFrames:this.j,droppedFrames:this.l,corruptedFrames:this.D,estimatedBandwidth:this.f,loadLatency:this.A,playTime:ep(this.a,_.Bp),pauseTime:ep(this.a,_.Ap),bufferingTime:ep(this.a,_.sp),stateHistory:fp(this.a),switchHistory:hp(this.B)}};_.kp.prototype.value=function(){void 0===this.a&&(this.a=this.f());return this.a};var lp=new _.kp(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,_.Ne],[HTMLMediaElement.HAVE_CURRENT_DATA,_.Le],[HTMLMediaElement.HAVE_FUTURE_DATA,pd],[HTMLMediaElement.HAVE_ENOUGH_DATA,qd]])});qp.prototype.gc=function(a,b){this.m&&this.m.trigger(new _.L(a,{detail:b}))};qp.prototype.getState=function(){return tp(this,"")};qp.prototype.T=function(a){(a=a&&a.detail)&&a.severity&&a.severity===_.O&&xp(this,_.yp)};qp.prototype.destroy=function(){this.g.debug("Stop watching for video events for "+this.m.namespace());this.a.release()};_.J("clpp.utils.media.detectType",Dp);var Gp=new _.K("clpp.sources");_.x(Hp,_.hm);_.t=Hp.prototype;_.t.init=function(a,b){_.hm.prototype.init.call(this,a,b);this.j=new qp(this);xp(this.j,_.np)};_.t.namespace=function(){return Ld};
_.t.unload=function(){var a=this,b;return _.I(function(c){if(!a.Z)return c.F(0);a.log.debug("Releasing player with source",a.Z);a.B&&(a.B.stop(),a.B=null);(b=a.getTrackManager())&&b.release();a.A&&(a.A.destroy(),a.A=null);a.V&&(a.V.destroy(),a.V=null);a.l&&a.l.release();a.o&&(a.o.destroy(),a.o=null);_.$h(a.h);a.f&&(a.f=new _.ip);a.G=null;a.Z=null;a.H=!1;a.a&&(a.a.removeAttribute("src"),a.a.load());return _.y(c,Lp(a),0)})};
_.t.release=function(){var a=this;return _.hm.prototype.release.call(this).then(function(){return a.unload()}).then(function(){a.j&&xp(a.j,_.np)})};
_.t.destroy=function(){var a=this;if(this.w)return this.log.warn("Player is already destroyed!"),Promise.resolve();this.w=!0;return _.hm.prototype.destroy.call(this).then(function(){return a.release()}).then(function(){a.log.debug(Ia);var b=a.getTrackManager();b&&b.destroy();a.l&&(a.l.destroy()["catch"](function(c){a.log.warn("Error while disposing metadata handler",c)}),a.l=null);a.j&&(a.j.destroy(),a.j=null);a.f=null})};_.t.getDrmInfo=function(){return this.o?this.o.getDrmInfo():null};
_.t.detach=function(){};_.t.getTrackManager=function(){return this.zd};
_.t.load=function(a){var b=this,c,d,e,f,g;return _.I(function(h){switch(h.a){case 1:if(b.w)return h["return"](Ip());if(!b.getSurface()||!b.getSurface().getMedia())return h["return"](Promise.reject("No surface or no media element in surface"));c=_.M;d=b.D.getMedia();b.I=Date.now()/1E3;b.f=new _.ip;b.h.on(b,_.jg,function(){b.f&&_.dp(b.f.a,b.getState())});xp(b.j,_.zp);b.Z=_.Fp(a);b.configuration=_.fm(b.kc,a);b.log.debug(_.yb,b.configuration);b.log.debug(_.Pb,b.Z);e=_.bp(b.configuration,[_.ze,"native"]);
b.V=e.create(b);b.V.setTextVisibility(!0);b.configuration.enableHtmlCue&&_.jm(_.qg)&&!_.il()&&(b.A=new Bi(b),b.A.start(d));b.l?b.l.release():b.l=new bi(b);ei(b.l,d);f=b.getTrackManager();f.load();d.loop=!!b.configuration.loop;c.S(b.configuration.volume)||b.setVolume(b.configuration.volume);c.S(b.configuration.muted)||b.setMuted(b.configuration.muted);b.h.one(d,pd,function(){b.trigger(new _.L(_.pv))});null==b.configuration.startTime&&Qp(b,d);_.gl()&&Rp(b,d);_.D(h,2);return _.y(h,Kp(b,d),4);case 4:return _.y(h,
Np(b),5);case 5:return _.y(h,Pp(b).P,6);case 6:_.th(h,0);break;case 2:g=_.E(h),b.H=!1,b.onError(g),_.B(h)}})};_.t.onError=function(a){this.H||(a.severity===_.O&&null!==this.j&&xp(this.j,_.yp),this.trigger(new _.L(_.te,{detail:a})))};_.t.dh=function(){return new Cl};_.t.getState=function(){return null!==this.j?this.j.getState().currentState:_.op};
_.t.getPresentationStartTime=function(){if(this.a&&this.a.getStartDate&&this.isLive()){var a=this.a.getStartDate();return isNaN(a.getTime())?(this.log.warn("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),null):a.getTime()/1E3}return null};_.t.getSeekRange=function(){var a=this.getSurface().getMedia();if(a&&a.src){a=a.seekable;if(a.length)return this.G=a={start:a.start(0),end:a.end(a.length-1)};if(this.G)return this.G}return{start:0,end:0}};
_.t.isLive=function(){return this.a&&this.a.src?Infinity===this.a.duration:!1};
_.t.getStats=function(){if(!this.f||!this.a)return _.jp();this.f&&_.dp(this.f.a,this.getState());var a=this.a,b=this.f,c=a.videoHeight;b.w=a.videoWidth;b.h=c;a.getVideoPlaybackQuality&&(a=a.getVideoPlaybackQuality(),b=this.f,c=Number(a.totalVideoFrames),b.l=Number(a.droppedVideoFrames),b.j=c,this.f.D=Number(a.corruptedVideoFrames));if(a=this.getTrackManager())if(a=a.na())a.bandwidth&&(this.f.o=a.bandwidth),a.pd&&(this.f.f=a.pd);return this.f.getStats()};
_.t.getTimelineCues=function(){return this.l?this.l.getTimelineCues():[]};Sp.prototype.a=function(){return Ld};Sp.prototype.canPlay=function(a,b){var c=a.type||"",d=c===_.Wc,e=c===_.ad,f=c===_.Il;return _.fl()||d||e||f&&!_.gl()?0:""!==ll().canPlayType(c)?f&&_.gl()&&(window.ManagedMediaSource||window.MediaSource&&MediaSource.isTypeSupported)&&!b.streaming.preferNativeHlsOnSafari?1:2:0};Sp.prototype.f=function(a){return a===_.qa};Sp.prototype.create=function(){return new Hp};_.Sh(new Sp);_.J("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2});_.J("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1});_.J("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var Up=new _.K("clpp.ads"),Tp=[];_.J("clpp.utils.dom.createHTMLElement",_.aq);bq.prototype.set=function(a){this.h.clear();this.f&&(this.f.disconnect(),this.f=null);if(this.a=a)this.f=dq(this,a)};bq.prototype.get=function(){return this.a};_.t=hq.prototype;_.t.getMedia=function(){return this.f.get()};_.t.getContainer=function(){return this.a.get()};_.t.getSafeContainer=function(){return this.a};_.t.getId=function(){return this.l};_.t.getUniqueCssClass=function(){return this.o};_.t.getCastElement=function(){return this.h};_.t.isFullscreen=function(){return!!document.fullscreenElement};_.t.hideMediaElement=function(){var a=this.getMedia();a?_.Zp(a,Bd):this.g.debug("No media element available that could be hidden")};
_.t.showMediaElement=function(){var a=this.getMedia();a?a.classList.remove(Bd):this.g.debug("No media element available that could be shown")};_.t.addElementToContainer=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?!1:c;var d=this.getContainer();if(!d)throw Error("No container is available. Unable to add element");b&&_.Zp(a,_.Ad);c?d.insertBefore(a,d.firstElementChild):d.appendChild(a)};
_.t.removeElementFromContainer=function(a){var b=this.getContainer();if(!b)throw Error("No container is available. Unable to remove element");b.removeChild(a)};_.t.hide=function(a){_.Zp(a,Bd)};_.t.show=function(a){a.classList.remove(Bd)};_.t.release=function(){this.j.release()};hq.prototype.removeElementFromContainer=hq.prototype.removeElementFromContainer;hq.prototype.addElementToContainer=hq.prototype.addElementToContainer;hq.prototype.getCastElement=hq.prototype.getCastElement;
hq.prototype.getContainer=hq.prototype.getContainer;hq.prototype.getMedia=hq.prototype.getMedia;var eq={disableContainer:!1,webOSStartupPatch:!0,crossorigin:"anonymous",containerEl:null},fq=1;jq.prototype.release=function(){this.a.release();nq(this);this.m=null};_.J("clpp.polyfill.installAll",qq);var pq=[];_.J("clpp.polyfill.register",_.rq);var uq={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"},bm="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g";var Jq="vod",Iq="live";_.x(X,_.Yl);_.t=X.prototype;_.t.on=function(a,b,c){return _.Yl.prototype.on.call(this,a,b,c)};_.t.one=function(a,b,c){return _.Yl.prototype.one.call(this,a,b,c)};_.t.off=function(a,b){return _.Yl.prototype.off.call(this,a,b)};_.t.onError=function(a){if(null!==this.a)this.a.onError(a);else this.trigger(new _.L(_.te,{detail:a}))};_.t.rc=function(a){a=this.I[a];void 0===a&&(a=null);return a};_.t.getSurface=function(){return this.h};_.t.getConfiguration=function(){return _.M.Oa(this.f)};
_.t.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null};_.t.detach=function(){return this.a?this.a.detach():Promise.resolve()};_.t.release=function(){var a=this;if(null!=this.l)return this.g.info("Player release already in progress"),this.l;this.g.debug("Releasing player");this.l=Qq(this);return this.l["finally"](function(){a.g.debug("Player released");a.l=null})};
_.t.destroy=function(){var a=this;if(this.L)return this.g.debug("The player is already destroyed. No-op"),new Promise(function(b){return b()});this.L=!0;return this.release().then(function(){a.g.debug(Ia);a.trigger(new _.L("destroying"));return a.yc(_.cf)}).then(function(){a.a&&a.a.stopForwardingEventsTo(a);a.Bd.clear();a.ja.release();if(a.a)return a.a.destroy()}).then(function(){return a.G.destroy()}).then(function(){rm();a.a=null;a.trigger(new _.L("destroyed"))})};
_.t.load=function(a){var b=this,c,d,e;return _.I(function(f){switch(f.a){case 1:return _.D(f,2),_.Wn(wf),b.K=_.qa,b.aa=!0,c=_.Fp(a),d=gm(a)?a:{},_.y(f,_.Yq(b,d,c),4);case 4:return _.y(f,_.Zq(b),5);case 5:return _.y(f,_.Vq(b),6);case 6:_.Wn(vf);_.Xn("player.load",wf,vf);_.th(f,0);break;case 2:e=_.E(f);if(b.l)throw b.g.info(xb),new _.N(_.O,7,7E3);throw e;}})};
_.t.preload=function(a){var b=this,c;return _.I(function(d){if(1==d.a)return _.y(d,_.Yq(b,a),2);if(!b.a)return b.g.warn(Ob),d["return"]();c=b.a;return c.preload?_.y(d,c.preload(b.f),0):(b.g.warn(Tb),d["return"]())})};_.t.yc=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];if(!this.aa)return Promise.resolve();var e=this;d=this.$.map(function(f){var g=f[a];return g.call.apply(g,[f,e].concat(_.fh(c)))}).filter(function(f){return f instanceof Promise});return Promise.all(d)};
_.t.use=function(a){(a=sm(a))&&a.o(this)};_.t.remove=function(a){return(this.getState()<=_.np||this.N)&&null!==mm(a)?(tm(a),this.R=!0):!1};_.t.play=function(){return this.a?this.j&&this.a.namespace()!==_.Hd?this.j.start(this.a):this.a.play():Promise.reject("No player initialized. You need to load content before calling play.")};_.t.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")};
_.t.getTrackManager=function(){return this.a&&this.a.getTrackManager()};_.t.getBufferInfo=function(a){return this.a?this.a.getBufferInfo(a):new _.Xl};_.t.getState=function(){return this.a?this.a.getState():_.np};_.t.getPeriods=function(){return this.a?this.a.getPeriods():[]};_.t.isEnded=function(){return this.a&&this.a.isEnded()||!1};_.t.isPaused=function(){return this.a&&this.a.isPaused()||!1};_.t.getPosition=function(){return this.a?this.a.getPosition():0};
_.t.seek=function(a){return this.getState()===_.yp?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(a):Promise.reject("delegate does not exist")};_.t.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():null};_.t.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}};_.t.sc=function(){var a=this.a;return a&&a.sc?a.sc():null};_.t.getVolume=function(){return this.a?this.a.getVolume():null};_.t.setVolume=function(a){this.a&&this.a.setVolume(a)};
_.t.getDuration=function(){return this.a?this.a.getDuration():-1};_.t.getAdsManager=function(){return this.j};_.t.namespace=function(){return this.a&&this.a.namespace()||"Undefined"};_.t.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1};_.t.setPlaybackRate=function(a,b){this.a&&this.a.setPlaybackRate(a,b)};_.t.isMuted=function(){return this.a&&this.a.isMuted()||!1};_.t.setMuted=function(a){this.a&&this.a.setMuted(a)};_.t.getNetworkEngine=function(){return this.G};
_.t.setNetworkEngine=function(a){this.G=a};_.t.getTextDisplayer=function(){return this.a&&this.a.getTextDisplayer()};_.t.isLive=function(){return!!this.a&&this.a.isLive()};_.t.getStats=function(){return this.a?this.a.getStats():null};_.t.xh=function(){return Object.freeze(this.fa)};_.t.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()};_.t.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]};_.t.xe=function(){return this.a?this.a.xe():null};
_.t.resetAbr=function(){this.a&&this.a.resetAbr()};_.t.setDrmCustomDataModifier=function(a){this.Wc=a;Xq(this)};_.t.setCdnErrorCallback=function(a){this.J=a;this.a&&this.a.setCdnErrorCallback(this.J)};_.t.Sh=function(){this.xf=!0};_.J("clpp.Player",X);X.registerPlugin=_.br;X.prototype.setCdnErrorCallback=X.prototype.setCdnErrorCallback;X.prototype.setDrmCustomDataModifier=X.prototype.setDrmCustomDataModifier;X.prototype.resetAbr=X.prototype.resetAbr;X.prototype.getTimelineCues=X.prototype.getTimelineCues;
X.prototype.getLoadedSource=X.prototype.getLoadedSource;X.prototype.getSources=X.prototype.xh;X.prototype.getStats=X.prototype.getStats;X.prototype.isLive=X.prototype.isLive;X.prototype.getTextDisplayer=X.prototype.getTextDisplayer;X.prototype.setNetworkEngine=X.prototype.setNetworkEngine;X.prototype.getNetworkEngine=X.prototype.getNetworkEngine;X.prototype.setMuted=X.prototype.setMuted;X.prototype.isMuted=X.prototype.isMuted;X.prototype.setPlaybackRate=X.prototype.setPlaybackRate;
X.prototype.getPlaybackRate=X.prototype.getPlaybackRate;X.prototype.namespace=X.prototype.namespace;X.prototype.getAdsManager=X.prototype.getAdsManager;X.prototype.getDuration=X.prototype.getDuration;X.prototype.setVolume=X.prototype.setVolume;X.prototype.getVolume=X.prototype.getVolume;X.prototype.getTimelineOffset=X.prototype.sc;X.prototype.getSeekRange=X.prototype.getSeekRange;X.prototype.getPresentationStartTime=X.prototype.getPresentationStartTime;X.prototype.seek=X.prototype.seek;
X.prototype.getPosition=X.prototype.getPosition;X.prototype.isPaused=X.prototype.isPaused;X.prototype.isEnded=X.prototype.isEnded;X.prototype.getState=X.prototype.getState;X.prototype.getBufferInfo=X.prototype.getBufferInfo;X.prototype.getTrackManager=X.prototype.getTrackManager;X.prototype.pause=X.prototype.pause;X.prototype.play=X.prototype.play;X.prototype.remove=X.prototype.remove;X.prototype.use=X.prototype.use;X.prototype.load=X.prototype.load;X.prototype.destroy=X.prototype.destroy;
X.prototype.release=X.prototype.release;X.prototype.getDrmInfo=X.prototype.getDrmInfo;X.prototype.getConfiguration=X.prototype.getConfiguration;X.prototype.getSurface=X.prototype.getSurface;X.prototype.getPlugin=X.prototype.rc;X.prototype.off=X.prototype.off;X.prototype.one=X.prototype.one;X.prototype.on=X.prototype.on;_.np=0;_.zp=1;_.sp=2;_.Bp=3;_.Ap=4;_.up=5;_.yp=6;_.op=7;_.wp={IDLE:_.np,PREPARING:_.zp,BUFFERING:_.sp,PLAYING:_.Bp,PAUSED:_.Ap,ENDED:_.up,ERROR:_.yp,UNSET:_.op};X.State=_.wp;
var Mq=[];_.x(cr,X);_.t=cr.prototype;
_.t.open=function(a,b){var c=this,d,e,f,g,h,l,m;return _.I(function(n){if(1==n.a){if(c.w)throw new _.N(_.O,7,7008,"Cannot call open() while "+c.w+ha);if(0!==a)throw new _.N(_.O,7,7007,"The index parameter only supports the value of 0.");if(0===b.length)throw new _.N(_.O,7,7003,Fb);if(b.some(function(p){return!p.id||!p.source}))throw new _.N(_.O,7,7100,"Some config is missing required properties `id` or `source`!");d=new Set(b.map(function(p){return p.id}));if(d.size!==b.length)throw new _.N(_.O,7,
7100,"Some config contains a non-unique property `id`!");if(e=b[0].playlist){f=e.timeline;g=["flat","basic"];if(f&&!g.includes(f))throw new _.N(_.O,7,7100,"Unsupported `playlist.timeline` config value!");h=e.startTime;if(null!=h&&(typeof h!==_.k||0>h))throw new _.N(_.O,7,7100,"Invalid `playlist.startTime` config value!");l=e.endTime;if(null!=l&&(typeof l!==_.k||0>l||null!=h&&l<=h))throw new _.N(_.O,7,7100,"Invalid `playlist.endTime` config value!");m=e.content;if("DVR"===m&&!l)throw new _.N(_.O,7,
7100,"`playlist.endTime` config value is required for DVR content!");}_.sh(n);dr(c);c.w="open";return _.y(n,hr(c,b),4)}2!=n.a&&(c.D=0,c.o=b,c.V=!0,er(c,b[0].playlist||{}));_.uh(n);c.w=null;return _.vh(n,0)})};
_.t.Qi=function(a){var b=this,c;return _.I(function(d){if(1==d.a){if(b.w)throw new _.N(_.O,7,7008,"Cannot call addItem() while "+b.w+ha);if(!b.V)throw new _.N(_.O,7,7008,"open() must be called before addItem()!");if(!a.id||!a.source)throw new _.N(_.O,7,7100,"The config is missing required properties `id` or `source`!");c=new Set(b.o.map(function(e){return e.id}));if(c.has(a.id))throw new _.N(_.O,7,7100,"A config with this `id` already exists in the playlist!");_.sh(d);b.w="addItem";b.o.push(a);return _.y(d,
ir(b,a),2)}_.uh(d);b.w=null;return _.vh(d,0)})};_.t.getCurrentItem=function(){return this.o[this.D]||null};_.t.getCurrentItemIndex=function(){return this.D};_.t.$k=function(){return _.fh(this.o).concat()};_.t.Hd=function(){return this.o.length};_.t.getTimeline=function(){return this.a?this.a.getTimeline():null};_.t.seekWith=function(a){return this.a?this.a.seekWith(a):Promise.resolve()};_.t.release=function(){this.o=[];this.D=0;this.V=!1;return X.prototype.release.call(this)};
_.t.destroy=function(){dr(this);return X.prototype.destroy.call(this)};_.t.setCdnErrorCallback=function(){throw new _.N(1,7,7009,"CDN switching is not supported!");};_.J("clpp.plist.ScPlaylist",cr);cr.prototype.setCdnErrorCallback=cr.prototype.setCdnErrorCallback;cr.prototype.destroy=cr.prototype.destroy;cr.prototype.release=cr.prototype.release;cr.prototype.seekWith=cr.prototype.seekWith;cr.prototype.getTimeline=cr.prototype.getTimeline;cr.prototype.getSize=cr.prototype.Hd;
cr.prototype.getPlaylist=cr.prototype.$k;cr.prototype.getCurrentItemIndex=cr.prototype.getCurrentItemIndex;cr.prototype.getCurrentItem=cr.prototype.getCurrentItem;cr.prototype.addItem=cr.prototype.Qi;cr.prototype.open=cr.prototype.open;jr.prototype.has=function(){return this.a.some(function(a){return a.ke})};jr.prototype.get=function(){var a=this,b;return _.I(function(c){if(1==c.a){b=a.a.find(function(d){return d.ke});if(!b)throw Error("No available players in the pool");b.ke=!1;return _.y(c,b.ready,2)}return c["return"](b.player)})};
jr.prototype.release=function(a){var b=this,c=this.a.find(function(d){return d.player===a});if(!c)return Promise.resolve();c.ke=!0;c.ready=new Promise(function(d){a.release()["catch"](function(e){b.g.error("Failed to unload player",e)}).then(d)});return c.ready};jr.prototype.destroy=function(){var a=this;return _.I(function(b){return _.y(b,Promise.all(a.a.map(function(c){return c.player.destroy()})),0)})};_.x(mr,_.Yl);_.t=mr.prototype;_.t.Gd=function(){return this.h};_.t.Eb=function(){return this.h?this.h.player:null};_.t.sh=function(){return this.o.get(this.a+1)||null};_.t.uh=function(){return this.o.get(this.a-1)||null};_.t.Ff=function(){return[this.uh(),this.sh()].filter(Boolean)};_.t.fn=function(a){if(0<this.j.length)throw Error("Cannot re-set items in the playlist");this.g.info("Set items",a);this.j=a.map(function(b,c){return{config:b,index:c,preloadPromise:Promise.resolve(),disposers:[]}})};
_.t.en=function(a){if(0===this.j.length)throw Error(Eb);if(0>a||a>this.j.length-1)throw Error("Index out of bounds");this.a=a};_.t.$c=function(){return this.a<this.j.length-1};_.t.zh=function(){return 0<this.a};
_.t.Qm=function(){var a=this,b,c;return _.I(function(d){switch(d.a){case 1:if(a.l)return a.g.warn("Cannot play first item while busy"),d["return"]();if(0===a.j.length)return a.g.warn(Eb),d["return"]();a.l=!0;a.g.info("First (index: "+a.a+")");b=a.j[a.a];_.D(d,2,3);a.g.info("First loading (index: "+a.a+")");return _.y(d,ur(a,b),5);case 5:a.g.info("First playing (index: "+a.a+")");case 3:_.uh(d);a.l=!1;zr(a);_.vh(d,0);break;case 2:throw c=_.E(d),a.g.error("First failed (index: "+a.a+")"),c;}})};
_.t.ki=function(){var a=this,b,c,d;return _.I(function(e){switch(e.a){case 1:if(a.l)return a.g.warn("Cannot play next item while busy"),e["return"]();if(!a.$c())return a.g.warn("There are no more items in the playlist"),e["return"]();a.l=!0;a.a+=1;a.g.info("Next (index: "+a.a+")");b=a.h;a.f.transition===_.kf&&b.player.pause();nr(a,a.a+-2);a.o["delete"](a.a);c=a.j[a.a];_.D(e,2,3);a.g.info("Next loading (index: "+a.a+")");return _.y(e,vr(a,c),5);case 5:a.g.info("Next playing (index: "+a.a+")");case 3:_.uh(e);
a.l=!1;b&&rr(a,b);zr(a);_.vh(e,0);break;case 2:throw d=_.E(e),a.g.error("Next failed (index: "+a.a+")"),d;}})};
_.t.Rm=function(){var a=this,b,c,d;return _.I(function(e){switch(e.a){case 1:if(a.l)return a.g.warn("Cannot play previous item while busy"),e["return"]();if(!a.zh())return a.g.warn("There are no more previous items in the playlist"),e["return"]();a.l=!0;--a.a;a.g.info("Previous (index: "+a.a+")");b=a.h;a.f.transition===_.kf&&b.player.pause();nr(a,a.a+2);a.o["delete"](a.a);c=a.j[a.a];_.D(e,2,3);a.g.info("Previous loading (index: "+a.a+")");return _.y(e,vr(a,c),5);case 5:a.g.info("Previous playing (index: "+
a.a+")");case 3:_.uh(e);a.l=!1;b&&rr(a,b);zr(a);_.vh(e,0);break;case 2:throw d=_.E(e),a.g.error("Previous failed (index: "+a.a+")"),d;}})};_.t.destroy=function(){var a=this;return _.I(function(b){return 1==b.a?(a.g.info("Destroy"),_.y(b,Promise.all([or(a),a.h?rr(a,a.h):Promise.resolve()]),2)):_.y(b,Ar(a),0)})};_.J(Md,mr);mr.prototype.destroy=mr.prototype.destroy;mr.prototype.playPrev=mr.prototype.Rm;mr.prototype.playNext=mr.prototype.ki;mr.prototype.playFirst=mr.prototype.Qm;
mr.prototype.hasPrev=mr.prototype.zh;mr.prototype.hasNext=mr.prototype.$c;mr.prototype.setIndex=mr.prototype.en;mr.prototype.setItems=mr.prototype.fn;mr.prototype.getPreloading=mr.prototype.Ff;mr.prototype.getPrev=mr.prototype.uh;mr.prototype.getNext=mr.prototype.sh;mr.prototype.getCurrentPlayer=mr.prototype.Eb;mr.prototype.getCurrent=mr.prototype.Gd;var qr="preload",sr=_.Pe;var Br=new Map;_.t=Dr.prototype;_.t.destroy=function(){this.a.dispose();this.a=null};_.t.reset=function(){this.a=new muxjs.mp4.Transmuxer(this.f)};_.t.isSupported=function(a,b){var c="mp2t"===a.toLowerCase().split(";")[0].split("/")[1],d=a.toLowerCase().split(";")[0]===_.dd;if(!window.muxjs||!c&&!d)return!1;if(d)return _.Cr(id);if(b)return _.Cr(Er(b,a));c=Er(_.cd,a);d=Er(_.r,a);return _.Cr(c)||_.Cr(d)};_.t.isMuxed=function(a,b){return 1<this.demuxMimeTypes(a,b).size};
_.t.demuxMimeTypes=function(a,b){var c=new Map;c.set(a,b);try{var d=_.Vk(b),e=_.Wk(b).split(","),f=new Map,g=Vi(_.cd,e),h=Vi(_.r,e);g&&f.set(_.cd,this.convertCodecs(_.cd,_.Uk(d,g)));h&&f.set(_.r,this.convertCodecs(_.r,_.Uk(d,h)));return f}catch(l){return c}};_.t.convertCodecs=function(a,b){return b.toLowerCase().split(";")[0]===_.dd?id:"mp2t"===b.toLowerCase().split(";")[0].split("/")[1]?Er(a,b):b};_.t.getOriginalMimeType=function(){return this.h};
_.t.transmux=function(a){function b(){g={video:Ej.apply(xj,_.fh(d)),captions:f,audio:Ej.apply(xj,_.fh(e))}}function c(h){f=h.captions;var l=new Uint8Array(h.data.byteLength+h.initSegment.byteLength);l.set(h.initSegment,0);l.set(h.data,h.initSegment.byteLength);h.type===Cv?d.push(l):h.type===Dv&&e.push(l)}var d=[],e=[],f=[],g=null;a=_.oj(a);this.a.on("data",c);this.a.on("done",b);this.a.push(a);this.a.flush();this.a.off("data",c);this.a.off("done",b);if(!g)throw new _.N(_.O,3,3018);return g};
Pk(_.dd,function(){return new Dr(_.dd)});Pk(_.Lg,function(){return new Dr(_.Lg)});var Dv=_.cd,Cv=_.r;_.x(Hr,_.Yl);_.t=Hr.prototype;_.t.getCurrentItem=function(){return this.a};_.t.Eb=function(){return this.a?this.a.player:null};_.t.Ff=function(){return Array.from(this.h.values())};_.t.nd=function(a){this.g.info("Add items",a);this.l=this.l.concat(a.map(function(b){return Object.assign({},b,{state:"idle",disposers:[],preloadPromise:Promise.resolve(),Wd:Promise.resolve()})}))};
_.t.removeItems=function(a){this.g.info("Remove items",a);a?this.l=this.l.filter(function(b){return!a.includes(b.id)}):this.l=[]};_.t.$c=function(){return 0<this.h.size};
_.t.play=function(a){var b=this,c,d,e,f;return _.I(function(g){switch(g.a){case 1:if(b.j)return b.g.warn("Cannot play item while busy (ID: "+a+")"),g["return"]();c=b.getItem(a);if(!c)return b.g.warn(tb+a+")"),g["return"]();b.g.info("Play item (ID: "+a+")");b.j=!0;(d=b.a)&&d.player.pause();(e=b.h.has(a))&&b.h["delete"](a);_.D(g,2,3);b.g.info(sb+a+")");return e?_.y(g,Ur(b,c),6):_.y(g,Sr(b,c),6);case 6:c.xc&&c.xc();if(c.Ya)c.player.on(_.se,c.Ya);b.trigger(new _.L(De,{detail:c}));Kr(b,c);b.g.info("Item playing (ID: "+
a+")");case 3:_.uh(g);b.j=!1;d&&Qr(b,d);Lr(b);Mr(b,c.next);_.vh(g,0);break;case 2:throw f=_.E(g),b.g.error(rb+a+")"),f;}})};
_.t.load=function(a){var b=this,c,d,e,f;return _.I(function(g){switch(g.a){case 1:if(b.j)return b.g.warn("Cannot load item while busy (ID: "+a+")"),g["return"]();c=b.getItem(a);if(!c)return b.g.warn(tb+a+")"),g["return"]();b.g.info("Load item (ID: "+a+")");b.j=!0;(d=b.a)&&d.player.pause();(e=b.h.has(a))&&b.h["delete"](a);_.D(g,2,3);b.g.info(sb+a+")");if(e){b.g.error("Loading preloaded items is not supported");g.F(5);break}return _.y(g,Rr(b,c),5);case 5:b.trigger(new _.L(De,{detail:c})),Kr(b,c),b.g.info("Item loaded (ID: "+
a+")");case 3:_.uh(g);b.j=!1;d&&Qr(b,d);Lr(b);Mr(b,c.next);_.vh(g,0);break;case 2:throw f=_.E(g),b.g.error(rb+a+")"),f;}})};_.t.getItem=function(a){return this.l.find(function(b){return b.id===a})||null};_.t.release=function(){var a=this;return _.I(function(b){if(1==b.a)return _.y(b,Promise.all([Lr(a),a.a?Qr(a,a.a):Promise.resolve()]),2);a.a=null;a.j=!1;a.removeItems();Jr(a,!0);_.B(b)})};
_.t.destroy=function(){var a=this;return _.I(function(b){return 1==b.a?(a.g.info("Destroy"),_.y(b,a.release(),2)):_.y(b,Wr(a),0)})};Hr.prototype.destroy=Hr.prototype.destroy;Hr.prototype.release=Hr.prototype.release;Hr.prototype.getItem=Hr.prototype.getItem;Hr.prototype.load=Hr.prototype.load;Hr.prototype.play=Hr.prototype.play;Hr.prototype.hasNext=Hr.prototype.$c;Hr.prototype.removeItems=Hr.prototype.removeItems;Hr.prototype.addItems=Hr.prototype.nd;Hr.prototype.getPreloading=Hr.prototype.Ff;
Hr.prototype.getCurrentPlayer=Hr.prototype.Eb;Hr.prototype.getCurrentItem=Hr.prototype.getCurrentItem;var Pr="preload",Tr=_.Pe;_.x(bs,_.Yl);_.t=bs.prototype;_.t.load=function(a){var b=this,c;return _.I(function(d){if(1==d.a)return _.y(d,hs(b,a,!1),2);b.trigger(new _.L(Ev));c=b.a.getCurrentItem();c.primary&&b.trigger(new _.L(Js));_.B(d)})};_.t.Fd=function(){var a=this.o;return a?this.h.map(function(b){return{cueId:b.cueId,startTime:b.startTime,endTime:b.endTime,primaryDuration:a,Oe:b.Oe}}):[]};_.t.hl=function(){return this.l.a};_.t.Dl=function(a){var b=this;return _.I(function(c){return _.y(c,hs(b,a,!0),0)})};
_.t.unload=function(){var a=this;return _.I(function(b){if(1==b.a)return _.y(b,a.a.release(),2);a.h=[];a.l.release();_.B(b)})};_.t.destroy=function(){var a=this;return _.I(function(b){if(1==b.a)return _.y(b,a.a.destroy(),2);a.h=[];a.l.release();_.B(b)})};_.t.xn=function(){var a=this,b;return _.I(function(c){if(1==c.a)return _.y(c,Ir(a.a),2);a.trigger(new _.L(Ev));b=a.a.getCurrentItem();b.primary&&a.trigger(new _.L(Js));_.B(c)})};
_.t.getPosition=function(){var a=this.a.Eb();return a?a.getPosition():null};_.t.Eb=function(){return this.a.Eb()};_.t.getCurrentItem=function(){return this.a.getCurrentItem()};_.J(Kd,bs);bs.prototype.getCurrentItem=bs.prototype.getCurrentItem;bs.prototype.getCurrentPlayer=bs.prototype.Eb;bs.prototype.getPosition=bs.prototype.getPosition;bs.prototype.unpause=bs.prototype.xn;bs.prototype.destroy=bs.prototype.destroy;bs.prototype.unload=bs.prototype.unload;bs.prototype.loadPaused=bs.prototype.Dl;
bs.prototype.getYospaceSession=bs.prototype.hl;bs.prototype.getCues=bs.prototype.Fd;bs.prototype.load=bs.prototype.load;
var ns="new",ys="preparing",ws="ready",Is="completed",As="failed",zs="interstitial-preload-started",Bs="x-asset-list-request-started",Ds="x-asset-list-request-ended",xs="interstitial-scheduled",Gs="interstitial-started",Hs="interstitial-ended",Fs="interstitial-item-started",as="primary-player-changed",Yr="item-changed",Ev="playback-started",ts="playback-ended",Js="primary-started",rs="primary-ended",ms="cues-changed";
_.J("clpp.interstitial.Event",{RESOLUTION_STARTED:zs,ASSET_LIST_STARTED:Bs,ASSET_LIST_ENDED:Ds,SCHEDULED:xs,STARTED:Gs,ENDED:Hs,ITEM_STARTED:Fs,PRIMARY_PLAYER_CHANGED:as,ITEM_CHANGED:Yr,PLAYBACK_STARTED:Ev,PLAYBACK_ENDED:ts,PRIMARY_STARTED:Js,PRIMARY_ENDED:rs,CUES_CHANGED:ms});Xr.prototype.release=function(){this.a&&(this.a.shutdown(),this.a=null)};var ds="PREROLL",es="MIDROLL",fs="POSTROLL",Ls=_.oc,Ms="LIVE",Ns="DVR";_.t=Os.prototype;_.t.Cb=function(){};_.t.Db=function(){};_.t.Jb=function(){};_.t.getId=function(){};_.t.getCreativeId=function(){};_.t.getApiFramework=function(){};_.t.getAdSystem=function(){};_.t.getAdvertiserName=function(){};_.t.getTitle=function(){};_.t.getDuration=function(){};_.t.getSkipTimeOffset=function(){};_.t.vc=function(){};_.t.Wb=function(){};_.t.getMediaUrl=function(){};_.t.Gb=function(){};_.t.Fb=function(){};_.t.qb=function(){};_.t.gb=function(){};_.t.getPodIndex=function(){};
_.t.Xb=function(){};_.t.Yb=function(){};_.t.Ib=function(){};_.t.getWrapperAdIds=function(){};_.t.getWrapperAdSystems=function(){};_.t.getWrapperCreativeIds=function(){};_.J("clpp.ads.IAd",Os);Os.prototype.getWrapperCreativeIds=Os.prototype.getWrapperCreativeIds;Os.prototype.getWrapperAdSystems=Os.prototype.getWrapperAdSystems;Os.prototype.getWrapperAdIds=Os.prototype.getWrapperAdIds;Os.prototype.getSequenceLength=Os.prototype.Ib;Os.prototype.getPositionInSequence=Os.prototype.Yb;
Os.prototype.getPodTimeOffset=Os.prototype.Xb;Os.prototype.getPodIndex=Os.prototype.getPodIndex;Os.prototype.getPodType=Os.prototype.gb;Os.prototype.getMediaBitrate=Os.prototype.qb;Os.prototype.getMediaHeight=Os.prototype.Fb;Os.prototype.getMediaWidth=Os.prototype.Gb;Os.prototype.getMediaUrl=Os.prototype.getMediaUrl;Os.prototype.getClickThroughUrl=Os.prototype.Wb;Os.prototype.isBumper=Os.prototype.vc;Os.prototype.getSkipTimeOffset=Os.prototype.getSkipTimeOffset;Os.prototype.getDuration=Os.prototype.getDuration;
Os.prototype.getTitle=Os.prototype.getTitle;Os.prototype.getAdvertiserName=Os.prototype.getAdvertiserName;Os.prototype.getAdSystem=Os.prototype.getAdSystem;Os.prototype.getApiFramework=Os.prototype.getApiFramework;Os.prototype.getCreativeId=Os.prototype.getCreativeId;Os.prototype.getId=Os.prototype.getId;Os.prototype.getTechnology=Os.prototype.Jb;Os.prototype.getAdManagerVersion=Os.prototype.Db;Os.prototype.getAdManagerName=Os.prototype.Cb;Ps.prototype.name=function(){};Ps.prototype.isSupported=function(){};Ps.prototype.create=function(){};_.J("clpp.ads.IAdsManagerFactory",Ps);Ps.prototype.create=Ps.prototype.create;Ps.prototype.isSupported=Ps.prototype.isSupported;Ps.prototype.name=Ps.prototype.name;_.t=Qs.prototype;_.t.load=function(){};_.t.start=function(){};_.t.resume=function(){};_.t.pause=function(){};_.t.skip=function(){};_.t.getVolume=function(){};_.t.setVolume=function(){};_.t.getPosition=function(){};_.t.dispose=function(){};_.J("clpp.ads.IAdsManager",Qs);Qs.prototype.getPosition=Qs.prototype.getPosition;Qs.prototype.setVolume=Qs.prototype.setVolume;Qs.prototype.getVolume=Qs.prototype.getVolume;Qs.prototype.skip=Qs.prototype.skip;Qs.prototype.pause=Qs.prototype.pause;
Qs.prototype.resume=Qs.prototype.resume;_.t=Rs.prototype;_.t.load=function(){return Promise.resolve()};_.t.start=function(a){return a.play()};_.t.resume=function(){};_.t.pause=function(){};_.t.skip=function(){};_.t.getVolume=function(){return 1};_.t.setVolume=function(){};_.t.getPosition=function(){return-1};_.t.dispose=function(){return _.I(function(a){_.B(a)})};Rs.prototype.dispose=Rs.prototype.dispose;Rs.prototype.getPosition=Rs.prototype.getPosition;Rs.prototype.setVolume=Rs.prototype.setVolume;Rs.prototype.getVolume=Rs.prototype.getVolume;
Rs.prototype.skip=Rs.prototype.skip;Rs.prototype.pause=Rs.prototype.pause;Rs.prototype.resume=Rs.prototype.resume;Rs.prototype.start=Rs.prototype.start;Rs.prototype.load=Rs.prototype.load;Wp.prototype.name=function(){return"clpp.ads.NopAdsManagerFactory"};Wp.prototype.isSupported=function(){return!0};Wp.prototype.create=function(){return new Rs};Wp.prototype.create=Wp.prototype.create;Wp.prototype.isSupported=Wp.prototype.isSupported;Wp.prototype.name=Wp.prototype.name;Ss.prototype.getCuePoints=function(){};Ss.prototype.Zb=function(){};Ss.prototype.sb=function(){};_.J("clpp.ads.IAdsTimeline",Ss);Ss.prototype.hasPostroll=Ss.prototype.sb;Ss.prototype.hasPreroll=Ss.prototype.Zb;Ss.prototype.getCuePoints=Ss.prototype.getCuePoints;_.Ts.prototype.f=function(){};_.Ts.prototype.a=function(){};_.Ts.prototype.h=function(){};_.Ts.prototype.o=function(){};_.t=Us.prototype;_.t.pe=function(a){this.a=a};_.t.sd=function(a){return this.a?this.a.setMediaKeys(a):Promise.reject(Bb)};_.t.ze=function(){return this.a&&this.a.mediaKeys};
_.t.Ab=function(a,b){var c=this;this.g.info("Requesting media key system access for",a,b.map(function(d){return Object.assign({},d,{drmInfos:d.drmInfos.map(function(){return"_anonymous_"})})}));return navigator.requestMediaKeySystemAccess(a,b)["catch"](function(d){c.g.info("Failed to request media key system access for "+(a+"."),d);return Promise.reject(d)})};_.t.rd=function(){return Xb};Vs.prototype.a=function(){return Xb};
Vs.prototype.isSupported=function(){return!!(window.MediaKeys&&navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)};Vs.prototype.create=function(){return new Us};En(new Vs,1E3);_.t=Ws.prototype;_.t.getStatus=function(){return this.a};_.t.forEach=function(a){this.a&&a(this.a,Fv.value())};_.t.get=function(a){if(this.has(a))return this.a};_.t.has=function(a){var b=Fv.value();return this.a&&qj(a,b)?!0:!1};_.t.entries=function(){};_.t.keys=function(){};_.t.values=function(){};var Fv=new _.kp(function(){return wj(new Uint8Array([0]))});_.t=Ys.prototype;_.t.pe=function(){};_.t.sd=function(a){_.Nh("NopEmeManager.setMediaKeys");return null===a?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))};_.t.ze=function(){return null};_.t.Ab=function(){_.Nh("NopEmeManager.requestMediaKeySystemAccess");return Promise.reject(Error("The key system specified is not supported."))};_.t.rd=function(){return"NOP"};Zs.prototype.a=function(){return"NOP"};Zs.prototype.isSupported=function(){return!0};Zs.prototype.create=function(){return new Ys};
En(new Zs,-1);_.t=$s.prototype;_.t.pe=function(a){this.f=a};_.t.sd=function(a){var b=this.a;b&&b!==a&&ct(b,null);return(this.a=a)?ct(a,this.f):Promise.resolve()};_.t.ze=function(){return this.a};_.t.Ab=function(a,b){_.Nh("AppleEmeManager.requestMediaKeySystemAccess");try{var c=new at(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}};_.t.rd=function(){return"APPLE"};at.prototype.createMediaKeys=function(){var a=new bt(this.keySystem);return Promise.resolve(a)};
at.prototype.getConfiguration=function(){_.Nh("AppleEmeManager.MediaKeySystemAccess.getConfiguration");return this.a};bt.prototype.createSession=function(a){a=void 0===a?rg:a;this.g.debug("Creating Apple MediaKeys Session");if(a!==rg)throw new TypeError("Session type "+a+ca);return new dt(this.h,"__session_"+this.j++)};bt.prototype.setServerCertificate=function(){this.g.debug("AppleEmeManager.MediaKeys.setServerCertificate");return Promise.resolve(!1)};_.x(dt,_.Yl);_.t=dt.prototype;
_.t.generateRequest=function(a,b){var c=this;if(this.l)return Promise.reject(ac);this.g.debug("generateRequest");this.h=new _.Rj;try{var d=this.o.createSession(_.Mg,_.oj(b));this.a=d;this.sessionId=d.sessionId||this.sessionId||"";this.j.on(d,Xg,function(e){var f=c.keyStatuses.getStatus();c.g.debug("Received Key Message in "+c.sessionId);c.h&&(c.h.resolve(),c.h=null);e=new _.L(_.Se,{messageType:void 0===f||f===kg?He:Ge,message:wj(e.message.buffer)});c.dispatchEvent(e)});this.j.on(d,Vg,function(e){c.g.debug("onWebkitKeyAdded_",
e);c.f&&(et(c,"usable"),c.f.resolve(),c.f=null)});this.j.on(d,Wg,function(){var e=c.keyStatuses.getStatus();if(c.a&&c.a&&c.a.error&&c.a.error.code===WebKitMediaKeyError.MEDIA_KEYERR_DOMAIN&&e===kg)c.g.warn("Ignoring webkit key error for session "+c.sessionId);else if(c.g.error("Received key error in session "+c.sessionId+" with code "+(c.a.error.code+". Session Status ")+(e+".")),e=Error("EME AppleEmeManager key error"),e.errorCode=c.a.error,null!==c.h)c.h.reject(e),c.h=null;else if(null!==c.f)c.f.reject(e),
c.f=null;else switch(c.a.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:et(c,"output-not-allowed");break;default:et(c,_.Ce)}});et(this,kg)}catch(e){this.h.reject(e)}return this.h};_.t.load=function(){this.g.debug("load");return Promise.reject(Error("MediaKeySession.load not yet supported"))};_.t.update=function(a){if(this.l)return Promise.reject(ac);this.g.debug(Ag);this.f=new _.Rj;try{this.a.update(_.oj(a))}catch(b){this.f.reject(b)}return this.f};
_.t.close=function(){if(this.l)return this.closed;this.g.info("Closing Key Session "+this.sessionId);this.l=!0;try{this.a.close(),this.closed.resolve(),_.$h(this.j)}catch(a){this.closed.reject(a)}return this.closed};_.t.remove=function(){this.g.debug("remove");return Promise.reject(Error("MediaKeySession is only applicable for persistent licenses, which are not supported on this platform"))};ft.prototype.a=function(){return"APPLE"};ft.prototype.isSupported=function(){return!!window.WebKitMediaKeys};
ft.prototype.create=function(){return new $s};En(new ft,1100);_.t=gt.prototype;_.t.pe=function(a){this.a=a};_.t.sd=function(a){_.Nh("WebkitEmeManager.setMediaKeys");if(!this.a)return Promise.reject(Bb);var b=this.f;b&&b!==a&&lt(b,null);(this.f=a)&&lt(a,this.a);return Promise.resolve()};_.t.ze=function(){return this.f};_.t.Ab=function(a,b){_.Nh("WebkitEmeManager.requestMediaKeySystemAccess");try{if(this.a)var c=this.a;else{var d=document.getElementsByTagName(_.r);c=d.length?d[0]:document.createElement(_.r)}var e=new ht(this.h,c,a,b);return Promise.resolve(e)}catch(f){return Promise.reject(f)}};
_.t.rd=function(){return"WEBKIT"};ht.prototype.createMediaKeys=function(){return Promise.resolve(new it(this.h,this.a))};ht.prototype.getConfiguration=function(){return this.f};it.prototype.createSession=function(a){a=void 0===a?rg:a;if(a!==rg&&a!==_.mf)throw new TypeError("Session type "+a+ca);if(!this.a)throw a=Error("Media element is missing."),a.name=qb,a.code=DOMException.INVALID_STATE_ERR,a;this.a.src||(this.a.src="about:blank");a=new mt(this.h,this.a,this.o,a);this.j.push(a);return a};
it.prototype.setServerCertificate=function(){return Promise.resolve(!1)};_.x(mt,_.Yl);_.t=mt.prototype;_.t.ready=function(){_.Nh("WebkitEmeManager.MediaKeySession.ready");kt(this,"usable");this.a&&this.a.resolve();this.a=null};_.t.generateRequest=function(a,b){_.Nh("WebkitEmeManager.MediaKeySession.generateRequest");return ot(this,b,null)};_.t.load=function(a){_.Nh(sc);return this.l===_.mf?ot(this,null,a):Promise.reject(Error(Hb))};_.t.update=function(a){_.Nh(sc);var b=new _.Rj;pt(this,b,a);return b};
_.t.close=function(){_.Nh("WebkitEmeManager.MediaKeySession.close");if(this.l!==_.mf){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var a=nt(this,"cancelKeyRequest");try{this.j[a](this.h,this.sessionId)}catch(b){}}this.closed.resolve();return this.closed};_.t.remove=function(){_.Nh("WebkitEmeManager.MediaKeySession.remove");return this.l!==_.mf?Promise.reject(Error(Hb)):this.close()};qt.prototype.a=function(){return"WEBKIT"};
qt.prototype.isSupported=function(){return!(!HTMLMediaElement.prototype.webkitGenerateKeyRequest&&!HTMLMediaElement.prototype.generateKeyRequest)};qt.prototype.create=function(){return new gt};En(new qt);_.x(rt,_.Em);rt.prototype.Xd=function(a,b){for(var c=a.drm.customData.headers||{},d=_.w(Object.keys(c)),e=d.next();!e.done;e=d.next())e=e.value,b.headers[e]=c[e]};rt.prototype.jh=function(a,b){var c=Zm(b);switch(this.o){case Gv:return c;case Hv:return(new _.tk(c)).a;default:throw Error("Unknown content ID strategy");}};rt.prototype.Wh=function(a,b){b.headers[za]=bd;this.Xd(a,b);var c={spc:_.yj(b.body)};b.body=_.S.jd(_.vk(c,!0))};
rt.prototype.Xh=function(a,b){var c=_.S.ba(b.data).trim(),d="\x3c/ckc\x3e"===c.substr(-6);"\x3cckc\x3e"===c.substr(0,5)&&d&&(c=c.slice(5,-6));b.data=_.Aj(c).buffer};_.J(Id,rt);rt.prototype.onFairPlayLicenseResponse=rt.prototype.Xh;rt.prototype.onFairPlayLicenseRequest=rt.prototype.Wh;rt.prototype.extractFairPlayContentId=rt.prototype.jh;rt.prototype.onLicenseRequest=rt.prototype.Xd;rt.prototype.constructor=rt.prototype.constructor;rt.NAME=kb;var Hv="hostname",Gv="full-skd";
rt.FairPlayContentIdStrategy={HOSTNAME:Hv,FULL_SKD:Gv};_.x(st,_.Ts);st.prototype.h=function(a){a=a.getConfiguration();if(a.drm&&a.drm&&a.drm.env===kb){a=a.drm.customData;if(!a)throw new _.N(_.O,7,7100,_.Wd);a=new rt(a.widevineLicenseUrl,a.playReadyLicenseUrl,a.fairPlayLicenseUrl,a.fairPlayCertificateUrl,a.fairPlayContentIdStrategy||Gv);_.zm(a)}};st.prototype.a=function(){delete _.ym.HeaderDrm};st.prototype.id=function(){return"headerdrm"};_.J("clpp.drm.HeaderDrmComponent",st);_.rq(function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,b){b=void 0!==b?b:this.byteLength;a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);var c=new ArrayBuffer(b-a),d=_.oj(c),e=new Uint8Array(this,a,b-a);d.set(e);return c})});_.rq(function(){_.Nh("mathRound.install")});_.rq(function(){if(window.Document){var a=Element.prototype;a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;a=Document.prototype;a.exitFullscreen=a.exitFullscreen||a.mozCancelFullScreen||a.msExitFullscreen||a.webkitExitFullscreen;ve in document||(Object.defineProperty(document,ve,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",
{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}}));document.addEventListener("webkitfullscreenchange",tt);document.addEventListener("webkitfullscreenerror",tt);document.addEventListener("mozfullscreenchange",tt);document.addEventListener("mozfullscreenerror",tt);document.addEventListener("MSFullscreenChange",tt);document.addEventListener("MSFullscreenError",tt)}});_.rq(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;a.requestPictureInPicture&&document.exitPictureInPicture||!a.webkitSupportsPresentationMode||(_.Nh("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,a.requestPictureInPicture=vt,document.exitPictureInPicture=wt,document.addEventListener("webkitpresentationmodechanged",ut,!0))}});_.rq(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;!a.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in a&&(a.getVideoPlaybackQuality=xt)}});_.rq(function(){if(window.VTTCue)_.Mh("Using native VTTCue.");else if(window.TextTrackCue){var a=TextTrackCue.length;if(3===a)_.Mh(mc),window.VTTCue=yt;else if(6===a)_.Mh("Using VTTCue polyfill from 6 argument TextTrackCue."),window.VTTCue=zt;else{try{var b=!!yt(1,2,"")}catch(c){b=!1}b&&(_.Mh(mc),window.VTTCue=yt)}}else _.Oh("VTTCue not available.")});var At;_.rq(function(){_.Nh("InputEvent.install");_.bl("Trident/")&&HTMLInputElement.prototype.addEventListener!==Bt&&(_.Mh("Patching input event support on IE."),At=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Bt)});_.rq(function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})});_.rq(function(){_.Nh("VideoPlayPromise.install");if(window.HTMLMediaElement){var a=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var b=a.apply(this);b&&b["catch"](function(){});return b}}});_.Jt.prototype.start=function(){var a=this;this.a=new ResizeObserver(function(b){b=b[0];a.j(b.contentRect.width,b.contentRect.height,a.h.isFullscreen())});this.f&&this.a.observe(this.f)};_.Jt.prototype.stop=function(){this.a&&(this.a.disconnect(),this.a=null)};_.Lt.prototype.canPlay=function(a){function b(f){e.stop();d.resolve(f)}var c=document.createElement(_.r);c.setAttribute("playsinline","playsinline");a&&(c.muted=!0,c.setAttribute("muted","muted"));c.src=URL.createObjectURL(this.a);var d=new _.Rj;c=c.play();var e=(new _.Zk(function(){b(a)})).da(.25);void 0!==c?c.then(function(){return b(!0)})["catch"](function(f){f&&f.message&&f.message===Kb?b(!0):b(!1)}):b(!0);return d};
var Kt=new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,
0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,
0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,
115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49]);_.t=_.Mt.prototype;_.t.getDuration=function(){return this.a};_.t.getId=function(){return this.id};_.t.rb=function(){return this.f};_.t.Pd=function(){return this.h};_.t.la=function(a){return this.getId()===a.getId()&&this.rb()===a.rb()&&this.getDuration()===a.getDuration()&&this.Pd()===a.Pd()};_.J("clpp.media.TimelineWindow",_.Mt);_.Mt.prototype.isDynamic=_.Mt.prototype.Pd;_.Mt.prototype.getStart=_.Mt.prototype.rb;_.Mt.prototype.getId=_.Mt.prototype.getId;_.Mt.prototype.getDuration=_.Mt.prototype.getDuration;_.Iv=new _.K("clpp.media.TimestampParser");_.t=_.Nt.prototype;_.t.el=function(a){return this.a[a]||null};_.t.fl=function(){return this.a.length};_.t.gl=function(){return this.a};_.t.ph=function(){return this.a[this.f]||null};_.t.Rk=function(){return this.f};_.J("clpp.media.Timeline",_.Nt);_.Nt.prototype.getCurrentWindowIndex=_.Nt.prototype.Rk;_.Nt.prototype.getCurrentWindow=_.Nt.prototype.ph;_.Nt.prototype.getWindows=_.Nt.prototype.gl;_.Nt.prototype.getWindowCount=_.Nt.prototype.fl;_.Nt.prototype.getWindow=_.Nt.prototype.el;_.Qt={};_.St={};var Xt=window.XMLHttpRequest;_.x(eu,_.Sj);eu.prototype.then=function(a,b){this.P=this.P.then(a,b);return this};eu.prototype["catch"]=function(a){this.P=this.P["catch"](a);return this};eu.prototype.abort=function(){var a=this;if(this.a)return Promise.resolve();this.a=!0;return this.h.then(function(b){a.o&&clearTimeout(a.o);a.l&&a.l();return b.abort()})["catch"](function(){})};_.ju.prototype.enabled=function(){return this.a};_.ju.prototype.rh=function(){return this.a&&this.f&&this.f.has(Jv)?1E3*this.f.get(Jv):null};_.ju.prototype.release=function(){this.f=null;this.a=!1;this.h.Yd(this.j)};_.ju.prototype.getEstimatedThroughput=_.ju.prototype.rh;var Jv="etp",lu={Jn:Jv},mu=new _.K("clpp.net.CmsdManager");var qu=window.fetch,ou=window.AbortController,nu=window.Headers;_.su={};_.t=_.wu.prototype;_.t.getBackgroundColor=function(){return this.K};_.t.setBackgroundColor=function(a){this.K=a;this.zb()};_.t.getWindowColor=function(){return this.V};_.t.setWindowColor=function(a){this.V=a;this.zb()};_.t.getFontFamily=function(){return this.R};_.t.setFontFamily=function(a){this.R=a;this.zb()};_.t.getFontColor=function(){return this.N};_.t.setFontColor=function(a){this.N=a;this.zb()};_.t.getFontSize=function(){return this.I};_.t.setFontSize=function(a){this.I=a;this.zb()};
_.t.getFontSizePercent=function(){return null===this.B?Kv:this.B};_.t.setFontSizePercent=function(a){this.B=a;this.zb()};_.t.getEdgeColor=function(){return this.H};_.t.setEdgeColor=function(a){this.H=a;this.zb()};_.t.getEdgeType=function(){return this.o};_.t.setEdgeType=function(a){this.o=a;this.zb()};_.wu.prototype.setEdgeType=_.wu.prototype.setEdgeType;_.wu.prototype.getEdgeType=_.wu.prototype.getEdgeType;_.wu.prototype.setEdgeColor=_.wu.prototype.setEdgeColor;_.wu.prototype.getEdgeColor=_.wu.prototype.getEdgeColor;
_.wu.prototype.setFontSizePercent=_.wu.prototype.setFontSizePercent;_.wu.prototype.getFontSizePercent=_.wu.prototype.getFontSizePercent;_.wu.prototype.setFontSize=_.wu.prototype.setFontSize;_.wu.prototype.getFontSize=_.wu.prototype.getFontSize;_.wu.prototype.setFontColor=_.wu.prototype.setFontColor;_.wu.prototype.getFontColor=_.wu.prototype.getFontColor;_.wu.prototype.setFontFamily=_.wu.prototype.setFontFamily;_.wu.prototype.getFontFamily=_.wu.prototype.getFontFamily;
_.wu.prototype.setWindowColor=_.wu.prototype.setWindowColor;_.wu.prototype.getWindowColor=_.wu.prototype.getWindowColor;_.wu.prototype.setBackgroundColor=_.wu.prototype.setBackgroundColor;_.wu.prototype.getBackgroundColor=_.wu.prototype.getBackgroundColor;var Kv=1/15;var xu="raised",yu="depressed",Au="dropshadow",zu="uniform";_.J("clpp.text.EdgeType",{NONE:_.Ze,RAISED:xu,DEPRESSED:yu,DROP_SHADOW:Au,UNIFORM:zu});Cu.prototype.parseInit=function(a){try{var b=_.uu(_.Yc);if(b){var c=new b(this.f);c.parseInit(a)}else this.g.warn("The clpp.ttml.Mp4TtmlParser class is not available. Please register the ttml component first.")}catch(e){c=null}if(c)this.a=c;else{try{var d=_.uu(_.Zc);d?(c=new d(this.f),c.parseInit(a)):this.g.warn("The clpp.vtt.Mp4VttParser class is not available. Please register the vtt component first.")}catch(e){c=null}if(c)this.a=c;else throw new _.N(_.O,2,2011);}};
Cu.prototype.parseMedia=function(a,b){if(!this.a)throw new _.N(_.O,2,2011);return this.a.parseMedia(a,b)};_.tu(Xc,Cu);_.x(_.Eu,_.wu);_.t=_.Eu.prototype;_.t.append=function(){};_.t.remove=function(){return!0};_.t.isTextVisible=function(){return this.w};_.t.setTextVisibility=function(a){this.w=a};
_.t.zb=function(){if(!this.j){var a={"background-color":this.getBackgroundColor(),color:this.getFontColor(),"font-family":this.getFontFamily(),"font-size":this.getFontSize(),"text-shadow":_.Bu(this)},b=Object.keys(a).map(function(c){return null!==a[c]?c+":"+a[c]+";":""}).join("");this.h.textContent="."+this.f+"::cue {"+b+"}"}};_.t.destroy=function(){this.l.classList.remove(this.f);document.head.removeChild(this.h);this.j=!0;return Promise.resolve()};var Du=0;Fu.prototype.isSupported=function(){return!0};Fu.prototype.create=function(a){return new _.Eu(a)};_.ap("native",new Fu);_.Gu.prototype.onContentWillLoad=function(){return Promise.resolve()};_.Gu.prototype.onContentLoaded=function(a,b){for(var c=1;c<arguments.length;++c);return Promise.resolve()};_.Gu.prototype.onPlayerWillDestroy=function(){};_.Gu.prototype.onPlayerWillRelease=function(){};}.call(g,this));
g.clpp._ = _;
if (typeof(module)!="undefined"&&module.exports) {module.exports=g.clpp;}
else if (typeof(define)!="undefined" && define.amd) {define(function(){return g.clpp;});}
else {this.clpp=g.clpp;}
})();